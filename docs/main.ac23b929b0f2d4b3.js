"use strict";(self.webpackChunkprimeraprueba=self.webpackChunkprimeraprueba||[]).push([[179],{3692:(Et,Ne,j)=>{j.d(Ne,{Ot:()=>ge,ZF:()=>bt,hX:()=>et,z6:()=>$});var A=j(5694),U=j(8256),ne=j(9316);class ge{constructor(He){return He}}class ${constructor(){return(0,A.C6)()}}const Se=new U.OlP("angularfire2._apps"),Te={provide:ge,useFactory:function ve(We){return We&&1===We.length?We[0]:new ge((0,A.Mq)())},deps:[[new U.FiY,Se]]},re={provide:$,deps:[[new U.FiY,Se]]};function J(We){return(He,_e)=>{const Xe=He.runOutsideAngular(()=>We(_e));return new ge(Xe)}}let De=(()=>{class We{constructor(_e){(0,A.KN)("angularfire",ne.q4.full,"core"),(0,A.KN)("angularfire",ne.q4.full,"app"),(0,A.KN)("angular",U.q4F.full,_e.toString())}}return We.\u0275fac=function(_e){return new(_e||We)(U.LFG(U.Lbi))},We.\u0275mod=U.oAB({type:We}),We.\u0275inj=U.cJS({providers:[Te,re]}),We})();function et(We,...He){return{ngModule:De,providers:[{provide:Se,useFactory:J(We),multi:!0,deps:[U.R0b,U.zs3,ne.HU,...He]}]}}const bt=(0,ne.u3)(A.ZF,!0)},5679:(Et,Ne,j)=>{j.d(Ne,{gg:()=>Bb,ET:()=>j$,hJ:()=>$$,BS:()=>B$,ad:()=>H$,Cm:()=>V$});var A=j(9316),U=j(8256),ne=j(3692),ge=j(5694),$=j(5861),fe=j(5578),ve=j(9752),Se=j(655),Te=j(9357);j(1617);class Yb{constructor(){return(0,A.vb)("auth")}}class oI{constructor(){return(0,A.vb)("app-check")}}typeof window<"u"&&window;class $x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Sh(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Yp extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Yp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xy.prototype.create)}}class Xy{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?function e_(n,e){return n.replace(wI,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(a,r):"Error";return new Yp(i,`${this.serviceName}: ${c} (${i}).`,r)}}const wI=/\{\$([^}]+)}/g;var Xp=function(){function n(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return n.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},n.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},n.prototype.setServiceProps=function(e){return this.serviceProps=e,this},n.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},n}(),ol="[DEFAULT]",bI=function(){function n(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return n.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new $x;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise},n.prototype.getImmediate=function(e){var t,r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}},n.prototype.getComponent=function(){return this.component},n.prototype.setComponent=function(e){var t,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function uC(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}try{for(var i=(0,Se.XA)(this.instancesDeferred.entries()),a=i.next();!a.done;a=i.next()){var c=(0,Se.CR)(a.value,2),p=c[1],y=this.normalizeInstanceIdentifier(c[0]);try{var T=this.getOrInitializeService({instanceIdentifier:y});p.resolve(T)}catch{}}}catch(N){t={error:N}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},n.prototype.clearInstance=function(e){void 0===e&&(e=ol),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},n.prototype.delete=function(){return(0,Se.mG)(this,void 0,void 0,function(){var e;return(0,Se.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,Se.ev)((0,Se.ev)([],(0,Se.CR)(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),(0,Se.CR)(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return t.sent(),[2]}})})},n.prototype.isComponentSet=function(){return null!=this.component},n.prototype.isInitialized=function(e){return void 0===e&&(e=ol),this.instances.has(e)},n.prototype.getOptions=function(e){return void 0===e&&(e=ol),this.instancesOptions.get(e)||{}},n.prototype.initialize=function(e){var t,r;void 0===e&&(e={});var i=e.options,a=void 0===i?{}:i,c=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var p=(0,Se.XA)(this.instancesDeferred.entries()),y=p.next();!y.done;y=p.next()){var T=(0,Se.CR)(y.value,2),H=T[1];c===this.normalizeInstanceIdentifier(T[0])&&H.resolve(h)}}catch(se){t={error:se}}finally{try{y&&!y.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return h},n.prototype.onInit=function(e,t){var r,i=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);var c=this.instances.get(i);return c&&e(c,i),function(){a.delete(e)}},n.prototype.invokeOnInitCallbacks=function(e,t){var r,i,a=this.onInitCallbacks.get(t);if(a)try{for(var c=(0,Se.XA)(a),h=c.next();!h.done;h=c.next()){var p=h.value;try{p(e,t)}catch{}}}catch(y){r={error:y}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},n.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aC(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null},n.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=ol),this.component?this.component.multipleInstances?e:ol:e},n.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},n}();function aC(n){return n===ol?void 0:n}!function(){function n(e){this.name=e,this.providers=new Map}n.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},n.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},n.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new bI(e,this);return this.providers.set(e,t),t},n.prototype.getProviders=function(){return Array.from(this.providers.values())}}();const eg=[];var Pn=(()=>{return(n=Pn||(Pn={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Pn;var n})();const tc={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},cC=Pn.INFO,i_={[Pn.DEBUG]:"log",[Pn.VERBOSE]:"log",[Pn.INFO]:"info",[Pn.WARN]:"warn",[Pn.ERROR]:"error"},s_=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=i_[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class xI{constructor(e){this.name=e,this._logLevel=cC,this._logHandler=s_,this._userLogHandler=null,eg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pn.DEBUG,...e),this._logHandler(this,Pn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pn.VERBOSE,...e),this._logHandler(this,Pn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pn.INFO,...e),this._logHandler(this,Pn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pn.WARN,...e),this._logHandler(this,Pn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pn.ERROR,...e),this._logHandler(this,Pn.ERROR,...e)}}class hR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function lC(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const tg="@firebase/app",o_=new xI("@firebase/app"),IC={[tg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Au=new Map,ko=new Map;function c_(n,e){try{n.container.addComponent(e)}catch(t){o_.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nh(n){const e=n.name;if(ko.has(e))return o_.debug(`There were multiple attempts to register component ${e}.`),!1;ko.set(e,n);for(const t of Au.values())c_(t,n);return!0}function Rh(n,e,t){var r;let i=null!==(r=IC[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${i}" with version "${e}":`];return a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void o_.warn(h.join(" "))}Nh(new Xp(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}new Xy("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),function bC(n){Nh(new Xp("platform-logger",e=>new hR(e),"PRIVATE")),Rh(tg,"0.7.4",n),Rh(tg,"0.7.4","esm2017"),Rh("fire-js","")}("");var vt,_R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$a={},f_=f_||{},Qt=_R||self;function p_(){}function PI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function og(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var LI="closure_uid_"+(1e9*Math.random()>>>0),wR=0;function IR(n,e,t){return n.call.apply(n.bind,arguments)}function ER(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ss(n,e,t){return(ss=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?IR:ER).apply(null,arguments)}function g_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Er(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function Ha(){this.s=this.s,this.o=this.o}var FI={};Ha.prototype.s=!1,Ha.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function vR(n){return Object.prototype.hasOwnProperty.call(n,LI)&&n[LI]||(n[LI]=++wR)}(this);delete FI[n]}},Ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ag=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},m_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function UI(n){return Array.prototype.concat.apply([],arguments)}function Ga(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function kh(n){return/^[\s\xa0]*$/.test(n)}var os,VI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zi(n,e){return-1!=n.indexOf(e)}function __(n,e){return n<e?-1:n>e?1:0}e:{var BI=Qt.navigator;if(BI){var jI=BI.userAgent;if(jI){os=jI;break e}}os=""}function ud(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function al(n){const e={};for(const t in n)e[t]=n[t];return e}var ug="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ul(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<ug.length;a++)t=ug[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function cd(n){return cd[" "](n),n}cd[" "]=p_;var dg,n,CC=zi(os,"Opera"),cl=zi(os,"Trident")||zi(os,"MSIE"),v_=zi(os,"Edge"),Ph=v_||cl,cg=zi(os,"Gecko")&&!(zi(os.toLowerCase(),"webkit")&&!zi(os,"Edge"))&&!(zi(os,"Trident")||zi(os,"MSIE"))&&!zi(os,"Edge"),$I=zi(os.toLowerCase(),"webkit")&&!zi(os,"Edge");function lg(){var n=Qt.document;return n?n.documentMode:void 0}e:{var HI="",w_=(n=os,cg?/rv:([^\);]+)(\)|;)/.exec(n):v_?/Edge\/([\d\.]+)/.exec(n):cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$I?/WebKit\/(\S+)/.exec(n):CC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(w_&&(HI=w_?w_[1]:""),cl){var hg=lg();if(null!=hg&&hg>parseFloat(HI)){dg=String(hg);break e}}dg=HI}var SC={};var lo=Qt.document&&cl&&(lg()||parseInt(dg,10))||void 0,qI=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",p_,e),Qt.removeEventListener("test",p_,e)}catch{}return n}();function as(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function pg(n,e){if(as.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cg){e:{try{cd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pg.Z.h.call(this)}}as.prototype.h=function(){this.defaultPrevented=!0},Er(pg,as);var AC={2:"touch",3:"pen",4:"mouse"};pg.prototype.h=function(){pg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ll="closure_listenable_"+(1e6*Math.random()|0),WI=0;function MC(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++WI,this.ca=this.fa=!1}function gg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function mg(n){this.src=n,this.g={},this.h=0}function yg(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=ag(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(gg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function I_(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}mg.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=I_(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new MC(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var _g="closure_lm_"+(1e6*Math.random()|0),E_={};function KI(n,e,t,r,i){if(r&&r.once)return YI(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)KI(n,e[a],t,r,i);return null}return t=D_(t),n&&n[ll]?n.N(e,t,og(r)?!!r.capture:!!r,i):T_(n,e,t,!1,r,i)}function T_(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=og(i)?!!i.capture:!!i,h=JI(n);if(h||(n[_g]=h=new mg(n)),(t=h.add(e,t,r,c,a)).proxy)return t;if(r=function QI(){var e=NC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)qI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ZI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function YI(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)YI(n,e[a],t,r,i);return null}return t=D_(t),n&&n[ll]?n.O(e,t,og(r)?!!r.capture:!!r,i):T_(n,e,t,!0,r,i)}function ga(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)ga(n,e[a],t,r,i);else r=og(r)?!!r.capture:!!r,t=D_(t),n&&n[ll]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=I_(a=n.g[e],t,r,i))&&(gg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=JI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=I_(e,t,r,i)),(t=-1<n?e[n]:null)&&Lh(t))}function Lh(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ll])yg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ZI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=JI(e))?(yg(t,n),0==t.h&&(t.src=null,e[_g]=null)):gg(n)}}}function ZI(n){return n in E_?E_[n]:E_[n]="on"+n}function NC(n,e){if(n.ca)n=!0;else{e=new pg(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Lh(n),n=t.call(r,e)}return n}function JI(n){return(n=n[_g])instanceof mg?n:null}var vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function D_(n){return"function"==typeof n?n:(n[vg]||(n[vg]=function(e){return n.handleEvent(e)}),n[vg])}function wi(){Ha.call(this),this.i=new mg(this),this.P=this,this.I=null}function qi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new as(e,n);else if(e instanceof as)e.target=e.target||n;else{var i=e;ul(e=new as(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=ld(c,r,!0,e)&&i}if(i=ld(c=e.g=n,r,!0,e)&&i,i=ld(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=ld(c=e.g=t[a],r,!1,e)&&i}function ld(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&yg(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Er(wi,Ha),wi.prototype[ll]=!0,wi.prototype.removeEventListener=function(n,e,t,r){ga(this,n,e,t,r)},wi.prototype.M=function(){if(wi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gg(t[r]);delete n.g[e],n.h--}}this.I=null},wi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var b_=Qt.JSON.stringify;function RC(){var n=Tg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Eg,Ig=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kC,n=>n.reset());class kC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XI(n){Qt.setTimeout(()=>{throw n},0)}function Fh(n,e){Eg||function TR(){var n=Qt.Promise.resolve(void 0);Eg=function(){n.then(DR)}}(),eE||(Eg(),eE=!0),Tg.add(n,e)}var eE=!1,Tg=new class wg{constructor(){this.h=this.g=null}add(e,t){const r=Ig.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function DR(){for(var n;n=RC();){try{n.h.call(n.g)}catch(t){XI(t)}var e=Ig;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}eE=!1}function Dg(n,e){wi.call(this),this.h=n||1,this.g=e||Qt,this.j=ss(this.kb,this),this.l=Date.now()}function bg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function xg(n,e,t){if("function"==typeof n)t&&(n=ss(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ss(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function x_(n){n.g=xg(()=>{n.g=null,n.i&&(n.i=!1,x_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Er(Dg,wi),(vt=Dg.prototype).da=!1,vt.S=null,vt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qi(this,"tick"),this.da&&(bg(this),this.start()))}},vt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.M=function(){Dg.Z.M.call(this),bg(this),delete this.g};class tE extends Ha{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:x_(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(n){Ha.call(this),this.h=n,this.g={}}Er(dl,Ha);var za=[];function Uh(n,e,t,r){Array.isArray(t)||(t&&(za[0]=t.toString()),t=za);for(var i=0;i<t.length;i++){var a=KI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Vh(n){ud(n.g,function(e,t){this.g.hasOwnProperty(t)&&Lh(e)},n),n.g={}}function rc(){this.g=!0}function hl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function LC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return b_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}dl.prototype.M=function(){dl.Z.M.call(this),Vh(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rc.prototype.Aa=function(){this.g=!1},rc.prototype.info=function(){};var ma={},nE=null;function S_(){return nE=nE||new wi}function rE(n){as.call(this,ma.Ma,n)}function Cg(n){const e=S_();qi(e,new rE(e,n))}function iE(n,e){as.call(this,ma.STAT_EVENT,n),this.stat=e}function xs(n){const e=S_();qi(e,new iE(e,n))}function sE(n,e){as.call(this,ma.Na,n),this.size=e}function Bh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}ma.Ma="serverreachability",Er(rE,as),ma.STAT_EVENT="statevent",Er(iE,as),ma.Na="timingevent",Er(sE,as);var A_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},M_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jh(){}function Sg(){}jh.prototype.h=null;var k_,$h={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function N_(){as.call(this,"d")}function R_(){as.call(this,"c")}function Ag(){}function Hh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new dl(this),this.P=fl,this.W=new Dg(n=Ph?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gh}function Gh(){this.i=null,this.g="",this.h=!1}Er(N_,as),Er(R_,as),Er(Ag,jh),Ag.prototype.g=function(){return new XMLHttpRequest},Ag.prototype.i=function(){return{}},k_=new Ag;var fl=45e3,aE={},ic={};function O_(n,e,t){n.K=1,n.v=Qh(Ks(e)),n.s=t,n.U=!0,uE(n,null)}function uE(n,e){n.F=Date.now(),Mu(n),n.A=Ks(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ng(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Gh,n.g=SE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new tE(ss(n.Ia,n,n.g),n.O)),Uh(n.V,n.g,"readystatechange",n.gb),e=n.H?al(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Cg(1),function OC(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var T=y[0];y=y[1];var N=T.split("_");c=2<=N.length&&"type"==N[1]?c+(T+"=")+y+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Mg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function cE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=qa(n,t),i==ic){4==e&&(n.o=4,xs(14),r=!1),hl(n.j,n.m,null,"[Incomplete Response]");break}if(i==aE){n.o=4,xs(15),hl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hl(n.j,n.m,i,null),zh(n,i)}Mg(n)&&i!=ic&&i!=aE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),K_(e),e.L=!0,xs(11))):(hl(n.j,n.m,t,"[Invalid Chunked Response]"),Ii(n),sc(n))}function qa(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ic:(t=Number(e.substring(t,r)),isNaN(t)?aE:(r+=1)+t>e.length?ic:(e=e.substr(r,t),n.C=r+t,e))}function Mu(n){n.Y=Date.now()+n.P,Wi(n,n.P)}function Wi(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bh(ss(n.eb,n),e)}function Wa(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function sc(n){0==n.l.G||n.I||Fo(n.l,n)}function Ii(n){Wa(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,bg(n.W),Vh(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function zh(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kg(t.i,n)))if(t.I=n.N,!n.J&&kg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ho(t),Nu(t)}Lo(t),xs(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bh(ss(t.ab,t),6e3));if(1>=B_(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else cc(t,11)}else if((n.J||t.g==n)&&ho(t),!kh(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const T=y[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const N=y[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const H=y[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const se=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var a=r.i;!a.g&&(zi(se,"spdy")||zi(se,"quic")||zi(se,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Xh(a,a.h),a.h=null))}if(r.D){const Ae=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.sa=Ae,_r(r.F,r.D,Ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=CE(r,r.H?r.la:null,r.W),c.J){j_(r.i,c);var h=c,p=r.K;p&&h.setTimeout(p),h.B&&(Wa(h),Mu(h)),r.g=c}else Hg(r);0<t.l.length&&nf(t)}else"stop"!=y[0]&&"close"!=y[0]||cc(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?cc(t,7):jg(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}Cg(4)}catch{}}function oc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(PI(n)||"string"==typeof n)m_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(PI(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function dd(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(PI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function ya(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ya)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ac(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Oo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Oo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Oo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(vt=Hh.prototype).setTimeout=function(n){this.P=n},vt.gb=function(n){n=n.target;const e=this.L;e&&3==Ka(n)?e.l():this.Ia(n)},vt.Ia=function(n){try{if(n==this.g)e:{const T=Ka(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>T)&&(3!=T||Ph||this.g&&(this.h.h||this.g.ga()||DE(this.g)))){this.I||4!=T||7==e||Cg(8==e||0>=N?3:2),Wa(this);var t=this.g.ba();this.N=t;t:if(Mg(this)){var r=DE(this.g);n="";var i=r.length,a=4==Ka(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),sc(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function C_(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kh(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,xs(12),Ii(this),sc(this);break e}hl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zh(this,t)}this.U?(cE(this,T,c),Ph&&this.i&&3==T&&(Uh(this.V,this.W,"tick",this.fb),this.W.start())):(hl(this.j,this.m,c,null),zh(this,c)),4==T&&Ii(this),this.i&&!this.I&&(4==T?Fo(this.l,this):(this.i=!1,Mu(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,xs(12)):(this.o=0,xs(13)),Ii(this),sc(this)}}}catch{}},vt.fb=function(){if(this.g){var n=Ka(this.g),e=this.g.ga();this.C<e.length&&(Wa(this),cE(this,n,e),this.i&&4!=n&&Mu(this))}},vt.cancel=function(){this.I=!0,Ii(this)},vt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cg(3),xs(17)),Ii(this),this.o=2,sc(this)):Wi(this,this.Y-n)},(vt=ya.prototype).R=function(){ac(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},vt.T=function(){return ac(this),this.g.concat()},vt.get=function(n,e){return Oo(this.h,n)?this.h[n]:e},vt.set=function(n,e){Oo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},vt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var pl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Po(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Po){this.g=void 0!==e?e:n.g,qh(this,n.j),this.s=n.s,Wh(this,n.i),Kh(this,n.m),this.l=n.l,e=n.h;var t=new gl;t.i=e.i,e.g&&(t.g=new ya(e.g),t.h=e.h),P_(this,t),this.o=n.o}else n&&(t=String(n).match(pl))?(this.g=!!e,qh(this,t[1]||"",!0),this.s=fd(t[2]||""),Wh(this,t[3]||"",!0),Kh(this,t[4]),this.l=fd(t[5]||"",!0),P_(this,t[6]||"",!0),this.o=fd(t[7]||"")):(this.g=!!e,this.h=new gl(null,this.g))}function Ks(n){return new Po(n)}function qh(n,e,t){n.j=t?fd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wh(n,e,t){n.i=t?fd(e,!0):e}function Kh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function P_(n,e,t){e instanceof gl?(n.h=e,function F_(n,e){e&&!n.j&&(uc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Zh(this,r),Ng(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Yh(e,VC)),n.h=new gl(e,n.g))}function _r(n,e,t){n.h.set(e,t)}function Qh(n){return _r(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Po.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yh(e,hE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yh(e,hE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yh(t,"/"==t.charAt(0)?UC:fE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yh(t,L_)),n.join("")};var hE=/[#\/\?@]/g,fE=/[#\?:]/g,UC=/[#\?]/g,VC=/[#\?@]/g,L_=/#/g;function gl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uc(n){n.g||(n.g=new ya,n.h=0,n.i&&function hd(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zh(n,e){uc(n),e=pd(n,e),Oo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Oo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ac(n)))}function Jh(n,e){return uc(n),e=pd(n,e),Oo(n.g.h,e)}function Ng(n,e,t){Zh(n,e),0<t.length&&(n.i=null,n.g.set(pd(n,e),Ga(t)),n.h+=t.length)}function pd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function V_(n){this.l=n||BC,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ea&&Qt.g.Ea()&&Qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=gl.prototype).add=function(n,e){uc(this),this.i=null,n=pd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},vt.forEach=function(n,e){uc(this),this.g.forEach(function(t,r){m_(t,function(i){n.call(e,i,r,this)},this)},this)},vt.T=function(){uc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},vt.R=function(n){uc(this);var e=[];if("string"==typeof n)Jh(this,n)&&(e=UI(e,this.g.get(pd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=UI(e,n[t])}return e},vt.set=function(n,e){return uc(this),this.i=null,Jh(this,n=pd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},vt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var BC=10;function Rg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function B_(n){return n.h?1:n.g?n.g.size:0}function kg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xh(n,e){n.g?n.g.add(e):n.h=e}function j_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ga(n.i)}function Og(){}function gE(){this.g=new Og}function mE(n,e,t){const r=t||"";try{oc(n,function(i,a){let c=i;og(i)&&(c=b_(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ef(n){this.l=n.$b||null,this.j=n.ib||!1}function Lg(n,e){wi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}V_.prototype.cancel=function(){if(this.i=pE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Og.prototype.stringify=function(n){return Qt.JSON.stringify(n,void 0)},Og.prototype.parse=function(n){return Qt.JSON.parse(n,void 0)},Er(ef,jh),ef.prototype.g=function(){return new Lg(this.l,this.j)},ef.prototype.i=function(n){return function(){return n}}({}),Er(Lg,wi);var Fg=0;function Ug(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function gd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,md(n)}function md(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=Lg.prototype).open=function(n,e){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,md(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Qt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gd(this)),this.readyState=Fg},vt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ug(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},vt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?gd(this):md(this),3==this.readyState&&Ug(this)}},vt.Ua=function(n){this.g&&(this.response=this.responseText=n,gd(this))},vt.Ta=function(n){this.g&&(this.response=n,gd(this))},vt.ha=function(){this.g&&gd(this)},vt.setRequestHeader=function(n,e){this.v.append(n,e)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _E=Qt.JSON.parse;function zr(n){wi.call(this),this.headers=new ya,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$_,this.K=this.L=!1}Er(zr,wi);var $_="",vE=/^https?$/i,wE=["POST","PUT"];function bR(n){return"content-type"==n.toLowerCase()}function EE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,TE(n),Vg(n)}function TE(n){n.D||(n.D=!0,qi(n,"complete"),qi(n,"error"))}function H_(n){if(n.h&&typeof f_<"u"&&(!n.C[1]||4!=Ka(n)||2!=n.ba()))if(n.v&&4==Ka(n))xg(n.Fa,0,n);else if(qi(n,"readystatechange"),4==Ka(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(pl)[1]||null;if(!i&&Qt.self&&Qt.self.location){var a=Qt.self.location.protocol;i=a.substr(0,a.length-1)}r=!vE.test(i?i.toLowerCase():"")}t=r}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var c=2<Ka(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",TE(n)}}finally{Vg(n)}}}function Vg(n,e){if(n.g){ni(n);const t=n.g,r=n.C[0]?p_:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=r}catch{}}}function ni(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function Ka(n){return n.g?n.g.readyState:0}function DE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Bg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function jC(n){let e="";return ud(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_r(n,e,t))}function tf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function G_(n){this.za=0,this.l=[],this.h=new rc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tf("baseRetryDelayMs",5e3,n),this.$a=tf("retryDelaySeedMs",1e4,n),this.Ya=tf("forwardChannelMaxRetries",2,n),this.ra=tf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new V_(n&&n.concurrentRequestLimit),this.Ca=new gE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function jg(n){if(bE(n),3==n.G){var e=n.V++,t=Ks(n.F);_r(t,"SID",n.J),_r(t,"RID",e),_r(t,"TYPE","terminate"),$g(n,t),(e=new Hh(n,n.h,e,void 0)).K=2,e.v=Qh(Ks(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(t=Qt.navigator.sendBeacon(e.v.toString(),"")),!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=SE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Mu(e)}Q_(n)}function Nu(n){n.g&&(K_(n),n.g.cancel(),n.g=null)}function bE(n){Nu(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),ho(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function z_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&nf(n)}function nf(n){Rg(n.i)||n.m||(n.m=!0,Fh(n.Ha,n),n.C=0)}function q_(n,e){var t;t=e?e.m:n.V++;const r=Ks(n.F);_r(r,"SID",n.J),_r(r,"RID",t),_r(r,"AID",n.U),$g(n,r),n.o&&n.s&&Bg(r,n.o,n.s),t=new Hh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=W_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Xh(n.i,t),O_(t,r,e)}function $g(n,e){n.j&&oc({},function(t,r){_r(e,r,t)})}function W_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ss(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let p=0;p<t;p++){let y=i[p].h;const T=i[p].g;if(y-=a,0>y)a=Math.max(0,i[p].h-100),h=!1;else try{mE(T,c,"req"+y+"_")}catch{r&&r(T)}}if(h){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Hg(n){n.g||n.u||(n.Y=1,Fh(n.Ga,n),n.A=0)}function Lo(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bh(ss(n.Ga,n),Uo(n,n.A)),n.A++,0))}function K_(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function xE(n){n.g=new Hh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ks(n.oa);_r(e,"RID","rpc"),_r(e,"SID",n.J),_r(e,"CI",n.N?"0":"1"),_r(e,"AID",n.U),$g(n,e),_r(e,"TYPE","xmlhttp"),n.o&&n.s&&Bg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qh(Ks(e)),t.s=null,t.U=!0,uE(t,n)}function ho(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function Fo(n,e){var t=null;if(n.g==e){ho(n),K_(n),n.g=null;var r=2}else{if(!kg(n.i,e))return;t=e.D,j_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;qi(r=S_(),new sE(r,t,e,i)),nf(n)}else Hg(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function $C(n,e){return!(B_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bh(ss(n.Ha,n,e),Uo(n,n.C)),n.C++,0)))}(n,e)||2==r&&Lo(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:cc(n,5);break;case 4:cc(n,10);break;case 3:cc(n,6);break;default:cc(n,2)}}function Uo(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function cc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ss(n.jb,n);t||(t=new Po("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||qh(t,"https"),Qh(t)),function yE(n,e){const t=new rc;if(Qt.Image){const r=new Image;r.onload=g_(Pg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=g_(Pg,t,r,"TestLoadImage: error",!1,e),r.onabort=g_(Pg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=g_(Pg,t,r,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xs(2);n.G=0,n.j&&n.j.va(e),Q_(n),bE(n)}function Q_(n){n.G=0,n.I=-1,n.j&&((0!=pE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ga(n.l),n.l.length=0),n.j.ua())}function CE(n,e,t){let r=function lE(n){return n instanceof Po?Ks(n):new Po(n,void 0)}(t);if(""!=r.i)e&&Wh(r,e+"."+r.i),Kh(r,r.m);else{const i=Qt.location;r=function dE(n,e,t,r){var i=new Po(null,void 0);return n&&qh(i,n),e&&Wh(i,e),t&&Kh(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&ud(n.aa,function(i,a){_r(r,a,i)}),t=n.sa,(e=n.D)&&t&&_r(r,e,t),_r(r,"VER",n.ma),$g(n,r),r}function SE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zr(t&&n.Ba&&!n.qa?new ef({ib:!0}):n.qa)).L=n.H,e}function AE(){}function Gg(){if(cl&&!(10<=Number(lo)))throw Error("Environmental error: no available transport.")}function Cs(n,e){wi.call(this),this.g=new G_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!kh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ml(this)}function yd(n){N_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ME(){R_.call(this),this.status=1}function ml(n){this.g=n}(vt=zr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():k_.g(),this.C=function oE(n){return n.h||(n.h=n.i())}(this.u?this.u:k_),this.g.onreadystatechange=ss(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void EE(this,a)}n=t||"";const i=new ya(this.headers);r&&oc(r,function(a,c){i.set(c,a)}),r=function y_(n){e:{var e=bR;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Qt.FormData&&n instanceof Qt.FormData,!(0<=ag(wE,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ni(this),0<this.B&&((this.K=function IE(n){return cl&&function GI(){return function Oh(n){var e=SC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=VI(String(dg)).split("."),t=VI("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=__(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||__(0==i[2].length,0==a[2].length)||__(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ss(this.pa,this)):this.A=xg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){EE(this,a)}},vt.pa=function(){typeof f_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),Vg(this))},vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vg(this,!0)),zr.Z.M.call(this)},vt.Fa=function(){this.s||(this.F||this.v||this.l?H_(this):this.cb())},vt.cb=function(){H_(this)},vt.ba=function(){try{return 2<Ka(this)?this.g.status:-1}catch{return-1}},vt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_E(e)}},vt.Da=function(){return this.m},vt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=G_.prototype).ma=8,vt.G=1,vt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},vt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Hh(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=al(a),ul(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=W_(this,i,e),_r(t=Ks(this.F),"RID",n),_r(t,"CVER",22),this.D&&_r(t,"X-HTTP-Session-Id",this.D),$g(this,t),this.o&&a&&Bg(t,this.o,a),Xh(this.i,i),this.Ra&&_r(t,"TYPE","init"),this.ja?(_r(t,"$req",e),_r(t,"SID","null"),i.$=!0,O_(i,t,null)):O_(i,t,e),this.G=2}}else 3==this.G&&(n?q_(this,n):0==this.l.length||Rg(this.i)||q_(this))},vt.Ga=function(){if(this.u=null,xE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bh(ss(this.bb,this),n)}},vt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xs(10),Nu(this),xE(this))},vt.ab=function(){null!=this.v&&(this.v=null,Nu(this),Lo(this),xs(19))},vt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),xs(2)):(this.h.info("Failed to ping google.com"),xs(1))},(vt=AE.prototype).xa=function(){},vt.wa=function(){},vt.va=function(){},vt.ua=function(){},vt.Oa=function(){},Gg.prototype.g=function(n,e){return new Cs(n,e)},Er(Cs,wi),Cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Fh(ss(n.hb,n,e))),xs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=CE(n,null,n.W),nf(n)},Cs.prototype.close=function(){jg(this.g)},Cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,z_(this.g,e)}else this.v?((e={}).__data__=b_(n),z_(this.g,e)):z_(this.g,n)},Cs.prototype.M=function(){this.g.j=null,delete this.j,jg(this.g),delete this.g,Cs.Z.M.call(this)},Er(yd,N_),Er(ME,R_),Er(ml,AE),ml.prototype.xa=function(){qi(this.g,"a")},ml.prototype.wa=function(n){qi(this.g,new yd(n))},ml.prototype.va=function(n){qi(this.g,new ME(n))},ml.prototype.ua=function(){qi(this.g,"b")},Gg.prototype.createWebChannel=Gg.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,A_.NO_ERROR=0,A_.TIMEOUT=8,A_.HTTP_ERROR=6,M_.COMPLETE="complete",Sg.EventType=$h,$h.OPEN="a",$h.CLOSE="b",$h.ERROR="c",$h.MESSAGE="d",wi.prototype.listen=wi.prototype.N,zr.prototype.listenOnce=zr.prototype.O,zr.prototype.getLastError=zr.prototype.La,zr.prototype.getLastErrorCode=zr.prototype.Da,zr.prototype.getStatus=zr.prototype.ba,zr.prototype.getResponseJson=zr.prototype.Qa,zr.prototype.getResponseText=zr.prototype.ga,zr.prototype.send=zr.prototype.ea;var HC=$a.createWebChannelTransport=function(){return new Gg},NE=$a.getStatEventTarget=function(){return S_()},zg=$a.ErrorCode=A_,qg=$a.EventType=M_,GC=$a.Event=ma,Y_=$a.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},RE=$a.FetchXmlHttpFactory=ef,_d=$a.WebChannel=Sg,Wg=$a.XhrIo=zr;const Z_="@firebase/firestore";class Ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let yl="9.1.3";const Ru=new xI("@firebase/firestore");function Kg(){return Ru.logLevel}function tt(n,...e){if(Ru.logLevel<=Pn.DEBUG){const t=e.map(J_);Ru.debug(`Firestore (${yl}): ${n}`,...t)}}function qr(n,...e){if(Ru.logLevel<=Pn.ERROR){const t=e.map(J_);Ru.error(`Firestore (${yl}): ${n}`,...t)}}function Qg(n,...e){if(Ru.logLevel<=Pn.WARN){const t=e.map(J_);Ru.warn(`Firestore (${yl}): ${n}`,...t)}}function J_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Lt(n="Unexpected state"){const e=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: `+n;throw qr(e),new Error(e)}function Wt(n,e){n||Lt()}function lt(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kE{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ei.UNAUTHENTICATED))}shutdown(){}}class KC{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let c=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ti,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const y=c;e.enqueueRetryable((0,$.Z)(function*(){yield y.promise,yield a(r.currentUser)}))},p=y=>{tt("FirebaseCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(tt("FirebaseCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ti)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(tt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt("string"==typeof r.accessToken),new kE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(null===e||"string"==typeof e),new Ei(e)}}class QC{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ei.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class YC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new QC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function ZC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}fo.T=-1;function En(n,e){return n<e?-1:n>e?1:0}function _l(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Di(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?En(this.nanoseconds,e.nanoseconds):En(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sn(e)}static min(){return new sn(new Di(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ev(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class vd{constructor(e,t,r){void 0===t?t=0:t>e.length&&Lt(),void 0===r?r=e.length-t:r>e.length-t&&Lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends vd{construct(e,t,r){return new Un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const PE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends vd{construct(e,t,r){return new Or(e,t,r)}static isValidIdentifier(e){return PE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ze(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Ze(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ze(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new Ze(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Cr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return En(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(n){if(Wt(!!n),"string"==typeof n){let e=0;const t=SR.exec(n);if(Wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:di(n.seconds),nanos:di(n.nanos)}}function di(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vl(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function Yg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function JC(n){const e=n.mapValue.fields.__previous_value__;return Yg(e)?JC(e):e}function Ft(n){const e=Qa(n.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}function wl(n){return null==n}function Zg(n){return 0===n&&1/n==-1/0}class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(Un.fromString(e))}static fromName(e){return new Tt(Un.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new Un(e.slice()))}}function Il(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yg(n)?4:10:Lt()}function po(n,e){const t=Il(n);if(t!==Il(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ft(n).isEqual(Ft(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Qa(r.timestampValue),c=Qa(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,vl(n.bytesValue).isEqual(vl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return di(r.geoPointValue.latitude)===di(i.geoPointValue.latitude)&&di(r.geoPointValue.longitude)===di(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return di(r.integerValue)===di(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=di(r.doubleValue),c=di(i.doubleValue);return a===c?Zg(a)===Zg(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return _l(n.arrayValue.values||[],e.arrayValue.values||[],po);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(ev(a)!==ev(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!po(a[h],c[h])))return!1;return!0}(n,e);default:return Lt()}var i}function dc(n,e){return void 0!==(n.values||[]).find(t=>po(t,e))}function cr(n,e){const t=Il(n),r=Il(e);if(t!==r)return En(t,r);switch(t){case 0:return 0;case 1:return En(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=di(i.integerValue||i.doubleValue),h=di(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return XC(n.timestampValue,e.timestampValue);case 4:return XC(Ft(n),Ft(e));case 5:return En(n.stringValue,e.stringValue);case 6:return function(i,a){const c=vl(i),h=vl(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),h=a.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=En(c[p],h[p]);if(0!==y)return y}return En(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=En(di(i.latitude),di(a.latitude));return 0!==c?c:En(di(i.longitude),di(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],h=a.values||[];for(let p=0;p<c.length&&p<h.length;++p){const y=cr(c[p],h[p]);if(y)return y}return En(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},h=Object.keys(c),p=a.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let T=0;T<h.length&&T<y.length;++T){const N=En(h[T],y[T]);if(0!==N)return N;const H=cr(c[h[T]],p[y[T]]);if(0!==H)return H}return En(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Lt()}}function XC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return En(n,e);const t=Qa(n),r=Qa(e),i=En(t.seconds,r.seconds);return 0!==i?i:En(t.nanos,r.nanos)}function Jg(n){return Xg(n)}function Xg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Qa(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vl(n.bytesValue).toBase64():"referenceValue"in n?Tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=Xg(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${Xg(r.fields[h])}`;return a+"}"}(n.mapValue):Lt();var e}function tm(n){return!!n&&"integerValue"in n}function nm(n){return!!n&&"arrayValue"in n}function nv(n){return!!n&&"nullValue"in n}function rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rm(n){return!!n&&"mapValue"in n}function rf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(t)}setAll(e){let t=Or.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=rf(c):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new us(rf(this.value))}}class Tr{constructor(e,t,r,i,a){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Tr(e,0,sn.min(),us.empty(),0)}static newFoundDocument(e,t,r){return new Tr(e,1,t,r,0)}static newNoDocument(e,t){return new Tr(e,2,t,us.empty(),0)}static newUnknownDocument(e,t){return new Tr(e,3,t,us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Tr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eS{constructor(e,t=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.A=null}}function FE(n,e=null,t=[],r=[],i=null,a=null,c=null){return new eS(n,e,t,r,i,a,c)}function hc(n){const e=lt(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function uf(n){return n.field.canonicalString()+n.op.toString()+Jg(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=im(e.startAt)),e.endAt&&(t+="|ub:",t+=im(e.endAt)),e.A=t}return e.A}function sf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!AR(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!po(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sS(n.startAt,e.startAt)&&sS(n.endAt,e.endAt)}function af(n){return Tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ss extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new cf(e,t,r):"array-contains"===t?new BE(e,r):"in"===t?new jE(e,r):"not-in"===t?new $E(e,r):"array-contains-any"===t?new rS(e,r):new Ss(e,t,r)}static R(e,t,r){return"in"===t?new tS(e,r):new nS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(cr(t,this.value)):null!==t&&Il(this.value)===Il(t)&&this.P(cr(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cf extends Ss{constructor(e,t,r){super(e,t,r),this.key=Tt.fromName(r.referenceValue)}matches(e){const t=Tt.comparator(e.key,this.key);return this.P(t)}}class tS extends Ss{constructor(e,t){super(e,"in",t),this.keys=VE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nS extends Ss{constructor(e,t){super(e,"not-in",t),this.keys=VE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Tt.fromName(r.referenceValue))}class BE extends Ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nm(t)&&dc(t.arrayValue,this.value)}}class jE extends Ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dc(this.value.arrayValue,t)}}class $E extends Ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!dc(this.value.arrayValue,t)}}class rS extends Ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}class Ed{constructor(e,t){this.position=e,this.before=t}}function im(n){return`${n.before?"b":"a"}:${n.position.map(e=>Jg(e)).join(",")}`}class Td{constructor(e,t="asc"){this.field=e,this.dir=t}}function AR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Tt.comparator(Tt.fromName(c.referenceValue),t.key):cr(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function sS(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!po(n.position[t],e.position[t]))return!1;return!0}class fc{constructor(e,t=null,r=[],i=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.V=null,this.S=null}}function ku(n){return new fc(n)}function sm(n){return!wl(n.limit)&&"F"===n.limitType}function om(n){return!wl(n.limit)&&"L"===n.limitType}function Dd(n){const e=lt(n);if(null===e.V){e.V=[];const t=function El(n){for(const e of n.filters)if(e.v())return e.field;return null}(e),r=function am(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new Td(t)),e.V.push(new Td(Or.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.V.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Td(Or.keyField(),a))}}}return e.V}function Vo(n){const e=lt(n);if(!e.S)if("F"===e.limitType)e.S=FE(e.path,e.collectionGroup,Dd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Dd(e))t.push(new Td(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ed(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Ed(e.startAt.position,!e.startAt.before):null;e.S=FE(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.S}function lf(n,e){return sf(Vo(n),Vo(e))&&n.limitType===e.limitType}function ov(n){return`${hc(Vo(n))}|lt:${n.limitType}`}function av(n){return`Query(target=${function UE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Jg(r.value)}`;var r}).join(", ")}]`),wl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+im(n.startAt)),n.endAt&&(e+=", endAt: "+im(n.endAt)),`Target(${e})`}(Vo(n))}; limitType=${n.limitType})`}function df(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!iS(t.startAt,Dd(t),r)||t.endAt&&iS(t.endAt,Dd(t),r)));var t,r}function Tl(n){return(e,t)=>{let r=!1;for(const i of Dd(n)){const a=oS(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function oS(n,e,t){const r=n.field.isKeyField()?Tt.comparator(e.key,t.key):function(i,a,c){const h=a.data.field(i),p=c.data.field(i);return null!==h&&null!==p?cr(h,p):Lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Lt()}}class um{constructor(){this._=void 0}}function zE(n,e,t){return n instanceof bd?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof pc?lv(n,e):n instanceof Dl?qE(n,e):function(r,i){const a=function cm(n,e){return n instanceof xd?tm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}(r,i),c=lm(a)+lm(r.C);return tm(a)&&tm(r.C)?function GE(n){return{integerValue:""+n}}(c):function uv(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(e)?"-0":e}}(r.N,c)}(n,e)}function aS(n,e,t){return n instanceof pc?lv(n,e):n instanceof Dl?qE(n,e):t}class bd extends um{}class pc extends um{constructor(e){super(),this.elements=e}}function lv(n,e){const t=WE(e);for(const r of n.elements)t.some(i=>po(i,r))||t.push(r);return{arrayValue:{values:t}}}class Dl extends um{constructor(e){super(),this.elements=e}}function qE(n,e){let t=WE(e);for(const r of n.elements)t=t.filter(i=>!po(i,r));return{arrayValue:{values:t}}}class xd extends um{constructor(e,t){super(),this.N=e,this.C=t}}function lm(n){return di(n.integerValue||n.doubleValue)}function WE(n){return nm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class KE{}function lS(n,e,t){n instanceof hf?function(r,i,a){const c=r.value.clone(),h=QE(r.fieldTransforms,i,a.transformResults);c.setAll(h),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof gc?function(r,i,a){if(!dm(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=QE(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(pv(r)),h.setAll(c),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dv(n,e,t){var i;n instanceof hf?function(r,i,a){if(!dm(r.precondition,i))return;const c=r.value.clone(),h=YE(r.fieldTransforms,a,i);c.setAll(h),i.convertToFoundDocument(fv(i),c).setHasLocalMutations()}(n,e,t):n instanceof gc?function(r,i,a){if(!dm(r.precondition,i))return;const c=YE(r.fieldTransforms,a,i),h=i.data;h.setAll(pv(r)),h.setAll(c),i.convertToFoundDocument(fv(i),h).setHasLocalMutations()}(n,e,t):dm(n.precondition,i=e)&&i.convertToNoDocument(sn.min())}function hv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_l(t,r,(i,a)=>function uS(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof pc&&r instanceof pc||t instanceof Dl&&r instanceof Dl?_l(t.elements,r.elements,po):t instanceof xd&&r instanceof xd?po(t.C,r.C):t instanceof bd&&r instanceof bd);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function fv(n){return n.isFoundDocument()?n.version:sn.min()}class hf extends KE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class gc extends KE{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function pv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QE(n,e,t){const r=new Map;Wt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,aS(c,h,t[i]))}return r}function YE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,zE(a,c,e))}return r}class gv{constructor(e){this.count=e}}var Wr,xn;function JE(n){if(void 0===n)return qr("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Wr.OK:return Ce.OK;case Wr.CANCELLED:return Ce.CANCELLED;case Wr.UNKNOWN:return Ce.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Ce.INTERNAL;case Wr.UNAVAILABLE:return Ce.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Ce.NOT_FOUND;case Wr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Wr.ABORTED:return Ce.ABORTED;case Wr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Wr.DATA_LOSS:return Ce.DATA_LOSS;default:return Lt()}}(xn=Wr||(Wr={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class Kr{constructor(e,t){this.comparator=e,this.root=t||bi.EMPTY}insert(e,t){return new Kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hm(this.root,e,this.comparator,!0)}}class hm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??bi.RED,this.left=i??bi.EMPTY,this.right=a??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new bi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1,bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new bi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hS=new Kr(Tt.comparator);function _a(){return hS}const XE=new Kr(Tt.comparator);function gf(){return XE}new Kr(Tt.comparator);const pS=new lr(Tt.comparator);function Zn(...n){let e=pS;for(const t of n)e=e.add(t);return e}const yv=new lr(En);function mf(){return yv}class Sd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sd(sn.min(),r,mf(),_a(),Zn())}}class Ad{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ad(Cr.EMPTY_BYTE_STRING,t,Zn(),Zn(),Zn())}}class yf{constructor(e,t,r,i){this.k=e,this.removedTargetIds=t,this.key=r,this.$=i}}class eT{constructor(e,t){this.targetId=e,this.O=t}}class tT{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nT{constructor(){this.F=0,this.M=mS(),this.L=Cr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Zn(),t=Zn(),r=Zn();return this.M.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Lt()}}),new Ad(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=mS()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class gS{constructor(e){this.tt=e,this.et=new Map,this.nt=_a(),this.st=_v(),this.it=new lr(En)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:Lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,i)=>{this.ht(i)&&t(i)})}ft(e){const t=e.targetId,r=e.O.count,i=this.dt(t);if(i){const a=i.target;if(af(a))if(0===r){const c=new Tt(a.path);this.at(t,c,Tr.newNoDocument(c,sn.min()))}else Wt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((a,c)=>{const h=this.dt(c);if(h){if(a.current&&af(h.target)){const p=new Tt(h.target.path);null!==this.nt.get(p)||this.gt(c,p)||this.at(c,p,Tr.newNoDocument(p,e))}a.K&&(t.set(c,a.W()),a.G())}});let r=Zn();this.st.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.dt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(r=r.add(a))});const i=new Sd(e,t,this.it,this.nt,r);return this.nt=_a(),this.st=_v(),this.it=new lr(En),i}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,r){if(!this.ht(e))return;const i=this.ut(e);this.gt(e,t)?i.H(t,1):i.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new nT,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new lr(En),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||tt("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new nT),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function _v(){return new Kr(Tt.comparator)}function mS(){return new Kr(Tt.comparator)}const rT={asc:"ASCENDING",desc:"DESCENDING"},yS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _S{constructor(e,t){this.databaseId=e,this.D=t}}function xi(n){return Wt(!!n),sn.fromTimestamp(function(e){const t=Qa(e);return new Di(t.seconds,t.nanos)}(n))}function iT(n){const e=Un.fromString(n);return Wt(mm(e)),e}function Ya(n,e){const t=iT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ze(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ze(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Tt(oT(t))}function vv(n,e){return function gm(n,e){return(t=n,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function vf(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oT(n){return Wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Iv(n,e){return{documents:[vv(n,e.path)]}}function dT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(0===h.length)return;const p=h.map(y=>function(T){if("=="===T.op){if(rv(T.value))return{unaryFilter:{field:Za(T.field),op:"IS_NAN"}};if(nv(T.value))return{unaryFilter:{field:Za(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(rv(T.value))return{unaryFilter:{field:Za(T.field),op:"IS_NOT_NAN"}};if(nv(T.value))return{unaryFilter:{field:Za(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(T.field),op:ES(T.op),value:T.value}}}(y));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(h){if(0!==h.length)return h.map(p=>{return{field:Za((y=p).field),direction:IS(y.dir)};var y})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(p=e.limit,n.D||wl(p)?p:{value:p});var p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=pT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=pT(e.endAt)),t}function hT(n){let e=function sT(n){const e=iT(n);return 4===e.length?Un.emptyPath():oT(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Wt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=fT(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Td(Md((N=T).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let h=null;t.limit&&(h=function(T){let N;return N="object"==typeof T?T.value:T,wl(N)?null:N}(t.limit));let p=null;t.startAt&&(p=gT(t.startAt));let y=null;return t.endAt&&(y=gT(t.endAt)),function iv(n,e,t,r,i,a,c,h){return new fc(n,e,t,r,i,a,c,h)}(e,i,c,a,h,"F",p,y)}function fT(n){return n?void 0!==n.unaryFilter?[Ja(n)]:void 0!==n.fieldFilter?[Ev(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fT(e)).reduce((e,t)=>e.concat(t)):Lt():[]}function pT(n){return{before:n.before,values:n.position}}function gT(n){return new Ed(n.values||[],!!n.before)}function IS(n){return rT[n]}function ES(n){return yS[n]}function Za(n){return{fieldPath:n.canonicalString()}}function Md(n){return Or.fromServerFormat(n.fieldPath)}function Ev(n){return Ss.create(Md(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ja(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Md(n.unaryFilter.field);return Ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Md(n.unaryFilter.field);return Ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Md(n.unaryFilter.field);return Ss.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Md(n.unaryFilter.field);return Ss.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}function mm(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function As(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mT(e)),e=DS(n.get(t),e);return mT(e)}function DS(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function mT(n){return n+"\x01\x01"}class cs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}cs.store="owner",cs.key="owner";class mc{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}mc.store="mutationQueues",mc.keyPath="userId";class vr{constructor(e,t,r,i,a){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}}vr.store="mutations",vr.keyPath="batchId",vr.userMutationsIndex="userMutationsIndex",vr.userMutationsKeyPath=["userId","batchId"];class Ki{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,As(t)]}static key(e,t,r){return[e,As(t),r]}}Ki.store="documentMutations",Ki.PLACEHOLDER=new Ki;class Sr{constructor(e,t,r,i,a,c){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=c}}Sr.store="remoteDocuments",Sr.readTimeIndex="readTimeIndex",Sr.readTimeIndexPath="readTime",Sr.collectionReadTimeIndex="collectionReadTimeIndex",Sr.collectionReadTimeIndexPath=["parentPath","readTime"];class Xa{constructor(e){this.byteSize=e}}Xa.store="remoteDocumentGlobal",Xa.key="remoteDocumentGlobalKey";class Qs{constructor(e,t,r,i,a,c,h){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=c,this.query=h}}Qs.store="targets",Qs.keyPath="targetId",Qs.queryTargetsIndexName="queryTargetsIndex",Qs.queryTargetsKeyPath=["canonicalId","targetId"];class ls{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ls.store="targetDocuments",ls.keyPath=["targetId","path"],ls.documentTargetsIndex="documentTargetsIndex",ls.documentTargetsKeyPath=["path","targetId"];class Ms{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Ms.key="targetGlobalKey",Ms.store="targetGlobal";class Pu{constructor(e,t){this.collectionId=e,this.parent=t}}Pu.store="collectionParents",Pu.keyPath=["collectionId","parent"];class eu{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}eu.store="clientMetadata",eu.keyPath="clientId";class yc{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}yc.store="bundles",yc.keyPath="bundleId";class _c{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}_c.store="namedQueries",_c.keyPath="name";const _T="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$e.reject(t)}static resolve(e){return new $e((t,r)=>{t(e)})}static reject(e){return new $e((t,r)=>{r(e)})}static waitFor(e){return new $e((t,r)=>{let i=0,a=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++a,c&&a===i&&t()},p=>r(p))}),c=!0,a===i&&t()})}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next(i=>i?$e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}function vc(n){return"IndexedDbTransactionError"===n.name}class bv{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&lS(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&dv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&dv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zn())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,(t,r)=>hv(t,r))&&_l(this.baseMutations,e.baseMutations,(t,r)=>hv(t,r))}}class mo{constructor(e,t,r,i,a=sn.min(),c=sn.min(),h=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ET{constructor(e){this.Wt=e}}function vm(n){const e=hT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function HE(n,e,t){return new fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class AS{constructor(){this.Gt=new Df}addToCollectionParentIndex(e,t){return this.Gt.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this.Gt.getEntries(t))}}class Df{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lr(Un.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(Un.comparator)).toArray()}}class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class Lu{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Lu(0)}static ie(){return new Lu(-1)}}function Al(n){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,$.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==_T)throw n;tt("LocalStore","Unexpectedly lost primary lease")}),Rv.apply(this,arguments)}class Od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){lc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return function tv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}}class PS{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}bn(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(e,t.path):function sv(n){return null!==n.collectionGroup}(t)?this.Sn(e,t,r):this.Dn(e,t,r);var i}Vn(e,t){return this.An(e,new Tt(t)).next(r=>{let i=gf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(e,t,r){const i=t.collectionGroup;let a=gf();return this.Ht.getCollectionParents(e,i).next(c=>$e.forEach(c,h=>{const p=(y=t,T=h.child(i),new fc(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,T;return this.Dn(e,p,r).next(y=>{y.forEach((T,N)=>{a=a.insert(T,N)})})}).next(()=>a))}Dn(e,t,r){let i,a;return this.He.getDocumentsMatchingQuery(e,t,r).next(c=>(i=c,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(c=>(a=c,this.Cn(e,a,i).next(h=>{i=h;for(const p of a)for(const y of p.mutations){const T=y.key;let N=i.get(T);null==N&&(N=Tr.newInvalidDocument(T),i=i.insert(T,N)),dv(y,N,p.localWriteTime),N.isFoundDocument()||(i=i.remove(T))}}))).next(()=>(i.forEach((c,h)=>{df(t,h)||(i=i.remove(c))}),i))}Cn(e,t,r){let i=Zn();for(const c of t)for(const h of c.mutations)h instanceof gc&&null===r.get(h.key)&&(i=i.add(h.key));let a=r;return this.He.getEntries(e,i).next(c=>(c.forEach((h,p)=>{p.isFoundDocument()&&(a=a.insert(h,p))}),a))}}class PT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=i}static kn(e,t){let r=Zn(),i=Zn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new PT(e,t.fromCache,r,i)}}class LS{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(sn.min())?this.Fn(e,t):this.On.Pn(e,i).next(a=>{const c=this.Mn(t,a);return(sm(t)||om(t))&&this.Ln(t.limitType,c,i,r)?this.Fn(e,t):(Kg()<=Pn.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),av(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(h=>(c.forEach(p=>{h=h.insert(p.key,p)}),h)))});var a}Mn(e,t){let r=new lr(Tl(e));return t.forEach((i,a)=>{df(e,a)&&(r=r.add(a))}),r}Ln(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Fn(e,t){return Kg()<=Pn.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",av(t)),this.On.getDocumentsMatchingQuery(e,t,sn.min())}}class kR{constructor(e,t,r,i){this.persistence=e,this.Bn=t,this.N=i,this.Un=new Kr(En),this.qn=new Od(a=>hc(a),sf),this.Kn=sn.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new PS(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function FS(n,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,$.Z)(function*(n,e){const t=lt(n);let r=t.In,i=t.Qn;const a=yield t.persistence.runTransaction("Handle user change","readonly",c=>{let h;return t.In.getAllMutationBatches(c).next(p=>(h=p,r=t.persistence.getMutationQueue(e),i=new PS(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(c))).next(p=>{const y=[],T=[];let N=Zn();for(const H of h){y.push(H.batchId);for(const K of H.mutations)N=N.add(K.key)}for(const H of p){T.push(H.batchId);for(const K of H.mutations)N=N.add(K.key)}return i.Pn(c,N).next(H=>({Wn:H,removedBatchIds:y,addedBatchIds:T}))})});return t.In=r,t.Qn=i,t.Bn.$n(t.Qn),a}),Tm.apply(this,arguments)}function Lv(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function LT(n,e){const t=lt(n),r=e.snapshotVersion;let i=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.jn.newChangeBuffer({trackRemovals:!0});i=t.Un;const h=[];e.targetChanges.forEach((y,T)=>{const N=i.get(T);if(!N)return;h.push(t.ze.removeMatchingKeys(a,y.removedDocuments,T).next(()=>t.ze.addMatchingKeys(a,y.addedDocuments,T)));const H=y.resumeToken;if(H.approximateByteSize()>0){const K=N.withResumeToken(H,r).withSequenceNumber(a.currentSequenceNumber);i=i.insert(T,K),se=N,ze=y,Wt((Ae=K).resumeToken.approximateByteSize()>0),(0===se.resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0)&&h.push(t.ze.updateTargetData(a,K))}var se,Ae,ze});let p=_a();if(e.documentUpdates.forEach((y,T)=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),h.push(function US(n,e,t,r,i){let a=Zn();return t.forEach(c=>a=a.add(c)),e.getEntries(n,a).next(c=>{let h=_a();return t.forEach((p,y)=>{const T=c.get(p),N=i?.get(p)||r;y.isNoDocument()&&y.version.isEqual(sn.min())?(e.removeEntry(p,N),h=h.insert(p,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||0===y.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(y,N),h=h.insert(p,y)):tt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",T.version," Watch version:",y.version)}),h})}(a,c,e.documentUpdates,r,void 0).next(y=>{p=y})),!r.isEqual(sn.min())){const y=t.ze.getLastRemoteSnapshotVersion(a).next(T=>t.ze.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(y)}return $e.waitFor(h).next(()=>c.apply(a)).next(()=>t.Qn.vn(a,p)).next(()=>p)}).then(a=>(t.Un=i,a))}function Ml(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ze.getTargetData(r,e).next(a=>a?(i=a,$e.resolve(i)):t.ze.allocateTargetId(r).next(c=>(i=new mo(e,c,0,r.currentSequenceNumber),t.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function Pd(n,e,t){return bm.apply(this,arguments)}function bm(){return bm=(0,$.Z)(function*(n,e,t){const r=lt(n),i=r.Un.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!vc(c))throw c;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)}),bm.apply(this,arguments)}function Uv(n,e,t){const r=lt(n);let i=sn.min(),a=Zn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,p,y){const T=lt(h),N=T.qn.get(y);return void 0!==N?$e.resolve(T.Un.get(N)):T.ze.getTargetData(p,y)}(r,c,Vo(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>r.Bn.getDocumentsMatchingQuery(c,e,t?i:sn.min(),t?a:Zn())).next(h=>({documents:h,Gn:a})))}class $S{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return $e.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:xi(r.createTime)}),$e.resolve()}getNamedQuery(e,t){return $e.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:vm(r.bundledQuery),readTime:xi(r.readTime)}),$e.resolve();var r}}class Vv{constructor(){this.Zn=new lr(Ci.ts),this.es=new lr(Ci.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ci(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Tt(new Un([])),r=new Ci(t,e),i=new Ci(t,e+1),a=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),a.push(c.key)}),a}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Tt(new Un([])),r=new Ci(t,e),i=new Ci(t,e+1);let a=Zn();return this.es.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Ci(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Tt.comparator(e.key,t.key)||En(e.ls,t.ls)}static ns(e,t){return En(e.ls,t.ls)||Tt.comparator(e.key,t.key)}}class PR{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new lr(Ci.ts)}checkEmpty(e){return $e.resolve(0===this.In.length)}addMutationBatch(e,t,r,i){const a=this.fs;this.fs++;const c=new bv(a,t,r,i);this.In.push(c);for(const h of i)this.ds=this.ds.add(new Ci(h.key,a)),this.Ht.addToCollectionParentIndex(e,h.key.path.popLast());return $e.resolve(c)}lookupMutationBatch(e,t){return $e.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const i=this._s(t+1),a=i<0?0:i;return $e.resolve(this.In.length>a?this.In[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return $e.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],c=>{const h=this.ws(c.ls);a.push(h)}),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(En);return t.forEach(i=>{const a=new Ci(i,0),c=new Ci(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,c],h=>{r=r.add(h.ls)})}),$e.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Tt.isDocumentKey(a)||(a=a.child(""));const c=new Ci(new Tt(a),0);let h=new lr(En);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(p.ls)),!0)},c),$e.resolve(this.gs(h))}gs(e){const t=[];return e.forEach(r=>{const i=this.ws(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Wt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return $e.forEach(t.mutations,i=>{const a=new Ci(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Ci(t,0),i=this.ds.firstAfterOrEqual(r);return $e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return $e.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class HS{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Kr(Tt.comparator),this.size=0}addEntry(e,t,r){const i=t.key,a=this.docs.get(i),c=a?a.size:0,h=this.ps(t);return this.docs=this.docs.insert(i,{document:t.clone(),size:h,readTime:r}),this.size+=h-c,this.Ht.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.clone():Tr.newInvalidDocument(t))}getEntries(e,t){let r=_a();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.clone():Tr.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=_a();const a=new Tt(t.path.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:h,value:{document:p,readTime:y}}=c.getNext();if(!t.path.isPrefixOf(h.path))break;y.compareTo(r)<=0||df(t,p)&&(i=i.insert(p.key,p.clone()))}return $e.resolve(i)}Ts(e,t){return $e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BT(this)}getSize(e){return $e.resolve(this.size)}}class BT extends class MT{constructor(){this.changes=new Od(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:sn.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Tr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$e.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.Se.addEntry(e,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),$e.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class jT{constructor(e){this.persistence=e,this.Es=new Od(t=>hc(t),sf),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.Is=0,this.As=new Vv,this.targetCount=0,this.Rs=Lu.se()}forEachTarget(e,t){return this.Es.forEach((r,i)=>t(i)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),$e.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Lu(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.ae(t),$e.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Es.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Es.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),$e.waitFor(a).next(()=>i)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),$e.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this.As.containsKey(t))}}class LR{constructor(e,t){this.bs={},this.Le=new fo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new jT(this),this.Ht=new AS,this.He=new HS(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new ET(t),this.Je=new $S(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new PR(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){tt("MemoryPersistence","Starting transaction:",e);const i=new va(this.Le.next());return this.referenceDelegate.vs(),r(i).next(a=>this.referenceDelegate.Vs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ss(e,t){return $e.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class va extends class xS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Bv{constructor(e){this.persistence=e,this.Ds=new Vv,this.Cs=null}static Ns(e){return new Bv(e)}get xs(){if(this.Cs)return this.Cs;throw Lt()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),$e.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.xs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.xs,r=>{const i=Tt.fromPath(r);return this.ks(e,i).next(a=>{a||t.removeEntry(i)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return $e.or([()=>$e.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}class Af{constructor(){this.activeTargetIds=mf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $v{constructor(){this.yi=new Af,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Af,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class GS{Ti(e){}shutdown(){}}class Hv{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zS{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class GT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,i){const a=this.Bi(e,t);tt("RestConnection","Sending: ",a,r);const c={};return this.Ui(c,i),this.qi(e,a,c,r).then(h=>(tt("RestConnection","Received: ",h),h),h=>{throw Qg("RestConnection",`${e} failed with error: `,h,"url: ",a,"request:",r),h})}Ki(e,t,r,i){return this.Li(e,t,r,i)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+yl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${HT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,i){return new Promise((a,c)=>{const h=new Wg;h.listenOnce(qg.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case zg.NO_ERROR:const y=h.getResponseJson();tt("Connection","XHR received:",JSON.stringify(y)),a(y);break;case zg.TIMEOUT:tt("Connection",'RPC "'+e+'" timed out'),c(new Ze(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case zg.HTTP_ERROR:const T=h.getStatus();if(tt("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const N=h.getResponseJson().error;if(N&&N.status&&N.message){const H=function(K){const se=K.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(se)>=0?se:Ce.UNKNOWN}(N.status);c(new Ze(H,N.message))}else c(new Ze(Ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ze(Ce.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{tt("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(t,"POST",p,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=HC(),a=NE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new RE({})),this.Ui(c.initMessageHeaders,t),function Zy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sh())}()||function Gx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()||function yI(){return Sh().indexOf("Electron/")>=0}()||function _I(){const n=Sh();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||function sl(){return Sh().indexOf("MSAppHost/")>=0}()||function Hx(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||(c.httpHeadersOverwriteParam="$httpHeaders");const h=r.join("");tt("Connection","Creating WebChannel: "+h,c);const p=i.createWebChannel(h,c);let y=!1,T=!1;const N=new zS({vi:K=>{T?tt("Connection","Not sending because WebChannel is closed:",K):(y||(tt("Connection","Opening WebChannel transport."),p.open(),y=!0),tt("Connection","WebChannel sending:",K),p.send(K))},Vi:()=>p.close()}),H=(K,se,Ae)=>{K.listen(se,ze=>{try{Ae(ze)}catch($t){setTimeout(()=>{throw $t},0)}})};return H(p,_d.EventType.OPEN,()=>{T||tt("Connection","WebChannel transport opened.")}),H(p,_d.EventType.CLOSE,()=>{T||(T=!0,tt("Connection","WebChannel transport closed"),N.$i())}),H(p,_d.EventType.ERROR,K=>{T||(T=!0,Qg("Connection","WebChannel transport errored:",K),N.$i(new Ze(Ce.UNAVAILABLE,"The operation could not be completed")))}),H(p,_d.EventType.MESSAGE,K=>{var se;if(!T){const Ae=K.data[0];Wt(!!Ae);const ze=Ae,$t=ze.error||(null===(se=ze[0])||void 0===se?void 0:se.error);if($t){tt("Connection","WebChannel received error:",$t);const mn=$t.status;let kn=function(Gn){const Ln=Wr[Gn];if(void 0!==Ln)return JE(Ln)}(mn),fr=$t.message;void 0===kn&&(kn=Ce.INTERNAL,fr="Unknown error status: "+mn+" with message "+$t.message),T=!0,N.$i(new Ze(kn,fr)),p.close()}else tt("Connection","WebChannel received:",Ae),N.Oi(Ae)}}),H(a,GC.STAT_EVENT,K=>{K.stat===Y_.PROXY?tt("Connection","Detected buffering proxy"):K.stat===Y_.NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.ki()},0),N}}function Fd(){return typeof document<"u"?document:null}function Bo(n){return new _S(n,!0)}class Mm{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=i,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,t-r);i>0&&tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Uu extends class Gv{constructor(e,t,r,i,a,c){this.Oe=e,this.er=r,this.nr=i,this.credentialsProvider=a,this.listener=c,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Mm(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,$.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,$.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var r=this;return(0,$.Z)(function*(){r._r(),r.rr.cancel(),r.sr++,3!==e?r.rr.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),r.rr.Yi()):t&&t.code===Ce.UNAUTHENTICATED&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.mr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(r=>{this.sr===t&&this.yr(r)},r=>{e(()=>{const i=new Ze(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.pr(i)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.pr(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}ur(){var e=this;this.state=4,this.rr.Xi((0,$.Z)(function*(){e.state=0,e.start()}))}pr(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,t,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,r,a),this.N=i}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function cT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Lt(),i=e.targetChange.targetIds||[],a=function(p,y){return p.D?(Wt(void 0===y||"string"==typeof y),Cr.fromBase64String(y||"")):(Wt(void 0===y||y instanceof Uint8Array),Cr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=void 0===p.code?Ce.UNKNOWN:JE(p.code);return new Ze(y,p.message||"")}(c);t=new tT(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Ya(n,r.document.name),a=xi(r.document.updateTime),c=new us({mapValue:{fields:r.document.fields}}),h=Tr.newFoundDocument(i,a,c);t=new yf(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=Ya(n,r.document),a=r.readTime?xi(r.readTime):sn.min(),c=Tr.newNoDocument(i,a);t=new yf([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ya(n,r.document);t=new yf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Lt();{const r=e.filter,a=new gv(r.count||0);t=new eT(r.targetId,a)}}var p;return t}(this.N,e),r=function(i){if(!("targetChange"in i))return sn.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?sn.min():a.readTime?xi(a.readTime):sn.min()}(e);return this.listener.Er(t,r)}Ir(e){const t={};t.database=vf(this.N),t.addTarget=function(i,a){let c;const h=a.target;return c=af(h)?{documents:Iv(i,h)}:{query:dT(i,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=function vS(n,e){return n.D?e.toBase64():e.toUint8Array()}(i,a.resumeToken):a.snapshotVersion.compareTo(sn.min())>0&&(c.readTime=function pm(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,a.snapshotVersion.toTimestamp())),c}(this.N,e);const r=function MR(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.wr(t)}Ar(e){const t={};t.database=vf(this.N),t.removeTarget=e,this.wr(t)}}class FR extends class{}{constructor(e,t,r){super(),this.credentials=e,this.nr=t,this.N=r,this.Dr=!1}Cr(){if(this.Dr)throw new Ze(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Li(e,t,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new Ze(Ce.UNKNOWN,i.toString())})}Ki(e,t,r){return this.Cr(),this.credentials.getToken().then(i=>this.nr.Ki(e,t,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new Ze(Ce.UNKNOWN,i.toString())})}terminate(){this.Dr=!0}}class WS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(qr(t),this.$r=!1):tt("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class KS{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=a,this.Qr.Ti(h=>{r.enqueueAndForget((0,$.Z)(function*(){var p;Vu(c)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,$.Z)(function*(y){const T=lt(y);T.Kr.add(4),yield Rl(T),T.Wr.set("Unknown"),T.Kr.delete(4),yield Mf(T)}),function(y){return p.apply(this,arguments)})(c))}))}),this.Wr=new WS(r,i)}}function Mf(n){return zv.apply(this,arguments)}function zv(){return zv=(0,$.Z)(function*(n){if(Vu(n))for(const e of n.jr)yield e(!0)}),zv.apply(this,arguments)}function Rl(n){return qT.apply(this,arguments)}function qT(){return qT=(0,$.Z)(function*(n){for(const e of n.jr)yield e(!1)}),qT.apply(this,arguments)}function Nf(n,e){const t=lt(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),Rm(t)?kf(t):kl(t).cr()&&Nm(t,e))}function Rf(n,e){const t=lt(n),r=kl(t);t.qr.delete(e),r.cr()&&QS(t,e),0===t.qr.size&&(r.cr()?r.lr():Vu(t)&&t.Wr.set("Unknown"))}function Nm(n,e){n.Gr.Y(e.targetId),kl(n).Ir(e)}function QS(n,e){n.Gr.Y(e),kl(n).Ar(e)}function kf(n){n.Gr=new gS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),kl(n).start(),n.Wr.Or()}function Rm(n){return Vu(n)&&!kl(n).ar()&&n.qr.size>0}function Vu(n){return 0===lt(n).Kr.size}function WT(n){n.Gr=void 0}function KT(n){return km.apply(this,arguments)}function km(){return km=(0,$.Z)(function*(n){n.qr.forEach((e,t)=>{Nm(n,e)})}),km.apply(this,arguments)}function Om(n,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,$.Z)(function*(n,e){WT(n),Rm(n)?(n.Wr.Lr(e),kf(n)):n.Wr.set("Unknown")}),Ud.apply(this,arguments)}function QT(n,e,t){return qv.apply(this,arguments)}function qv(){return qv=(0,$.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof tT&&2===e.state&&e.cause)try{yield(r=(0,$.Z)(function*(i,a){const c=a.cause;for(const h of a.targetIds)i.qr.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.qr.delete(h),i.Gr.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Of(n,r)}else if(e instanceof yf?n.Gr.rt(e):e instanceof eT?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(sn.min()))try{const r=yield Lv(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Gr._t(a);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=i.qr.get(p);y&&i.qr.set(p,y.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach(h=>{const p=i.qr.get(h);if(!p)return;i.qr.set(h,p.withResumeToken(Cr.EMPTY_BYTE_STRING,p.snapshotVersion)),QS(i,h);const y=new mo(p.target,h,1,p.sequenceNumber);Nm(i,y)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),yield Of(n,r)}var r}),qv.apply(this,arguments)}function Of(n,e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,$.Z)(function*(n,e,t){if(!vc(e))throw e;n.Kr.add(1),yield Rl(n),n.Wr.set("Offline"),t||(t=()=>Lv(n.localStore)),n.asyncQueue.enqueueRetryable((0,$.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield Mf(n)}))}),Pm.apply(this,arguments)}function Kv(){return Kv=(0,$.Z)(function*(n,e){const t=lt(n);e?(t.Kr.delete(2),yield Mf(t)):e||(t.Kr.add(2),yield Rl(t),t.Wr.set("Unknown"))}),Kv.apply(this,arguments)}function kl(n){return n.zr||(n.zr=function(e,t,r){const i=lt(e);return i.Cr(),new Uu(t,i.nr,i.credentials,i.N,r)}(n.datastore,n.asyncQueue,{Si:KT.bind(null,n),Ci:Om.bind(null,n),Er:QT.bind(null,n)}),n.jr.push(function(){var e=(0,$.Z)(function*(t){t?(n.zr.hr(),Rm(n)?kf(n):n.Wr.set("Unknown")):(yield n.zr.stop(),WT(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}class Lm{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,h=new Lm(e,t,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ic(n,e){if(qr("AsyncQueue",`${e}: ${n}`),vc(n))return new Ze(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Ec{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Tt.comparator(t.key,r.key):(t,r)=>Tt.comparator(t.key,r.key),this.keyedMap=gf(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new Ec(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rD{constructor(){this.Jr=new Kr(Tt.comparator)}track(e){const t=e.doc.key,r=this.Jr.get(t);r?0!==e.type&&3===r.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==r.type?this.Jr=this.Jr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jr=this.Jr.remove(t):1===e.type&&2===r.type?this.Jr=this.Jr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Lt():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tc{constructor(e,t,r,i,a,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new Tc(e,t,Ec.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Qv{constructor(){this.Xr=void 0,this.listeners=[]}}class Fm{constructor(){this.queries=new Od(e=>ov(e),lf),this.onlineState="Unknown",this.Zr=new Set}}function sD(){return sD=(0,$.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new Qv),i)try{a.Xr=yield t.onListen(r)}catch(c){const h=Ic(c,`Initialization of query '${av(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.eo(t.onlineState),a.Xr&&e.no(a.Xr)&&Yv(t)}),sD.apply(this,arguments)}function aD(){return aD=(0,$.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),aD.apply(this,arguments)}function uD(n,e){const t=lt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.no(i)&&(r=!0);c.Xr=i}}r&&Yv(t)}function XS(n,e,t){const r=lt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Yv(n){n.Zr.forEach(e=>{e.next()})}class Zv{constructor(e,t,r){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}no(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class lD{constructor(e){this.key=e}}class dD{constructor(e){this.key=e}}class e0{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Zn(),this.mutatedKeys=Zn(),this.po=Tl(e),this.To=new Ec(this.po)}get Eo(){return this._o}Io(e,t){const r=t?t.Ao:new rD,i=t?t.To:this.To;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p=sm(this.query)&&i.size===this.query.limit?i.last():null,y=om(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,N)=>{const H=i.get(T),K=df(this.query,N)?N:null,se=!!H&&this.mutatedKeys.has(H.key),Ae=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ze=!1;H&&K?H.data.isEqual(K.data)?se!==Ae&&(r.track({type:3,doc:K}),ze=!0):this.Ro(H,K)||(r.track({type:2,doc:K}),ze=!0,(p&&this.po(K,p)>0||y&&this.po(K,y)<0)&&(h=!0)):!H&&K?(r.track({type:0,doc:K}),ze=!0):H&&!K&&(r.track({type:1,doc:H}),ze=!0,(p||y)&&(h=!0)),ze&&(K?(c=c.add(K),a=Ae?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),sm(this.query)||om(this.query))for(;c.size>this.query.limit;){const T=sm(this.query)?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{To:c,Ao:r,Ln:h,mutatedKeys:a}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const a=e.Ao.Yr();a.sort((y,T)=>function(N,H){const K=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return K(N)-K(H)}(y.type,T.type)||this.po(y.doc,T.doc)),this.bo(r);const c=t?this.Po():[],h=0===this.yo.size&&this.current?1:0,p=h!==this.mo;return this.mo=h,0!==a.length||p?{snapshot:new Tc(this.query,e.To,i,a,e.mutatedKeys,0===h,p,!1),vo:c}:{vo:c}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new rD,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Zn(),this.To.forEach(r=>{this.Vo(r.key)&&(this.yo=this.yo.add(r.key))});const t=[];return e.forEach(r=>{this.yo.has(r)||t.push(new dD(r))}),this.yo.forEach(r=>{e.has(r)||t.push(new lD(r))}),t}So(e){this._o=e.Gn,this.yo=Zn();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Tc.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class t0{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jR{constructor(e){this.key=e,this.Co=!1}}class hD{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.No={},this.xo=new Od(h=>ov(h),lf),this.ko=new Map,this.$o=new Set,this.Oo=new Kr(Tt.comparator),this.Fo=new Map,this.Mo=new Vv,this.Lo={},this.Bo=new Map,this.Uo=Lu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function n0(n,e){return r0.apply(this,arguments)}function r0(){return r0=(0,$.Z)(function*(n,e){const t=Ff(n);let r,i;const a=t.xo.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Do();else{const c=yield Ml(t.localStore,Vo(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield s0(t,e,r,"current"===h),t.isPrimaryClient&&Nf(t.remoteStore,c)}return i}),r0.apply(this,arguments)}function s0(n,e,t,r){return fD.apply(this,arguments)}function fD(){return fD=(0,$.Z)(function*(n,e,t,r){n.Ko=(T,N,H)=>{return(K=(0,$.Z)(function*(se,Ae,ze,$t){let mn=Ae.view.Io(ze);mn.Ln&&(mn=yield Uv(se.localStore,Ae.query,!1).then(({documents:Gn})=>Ae.view.Io(Gn,mn)));const kn=$t&&$t.targetChanges.get(Ae.targetId),fr=Ae.view.applyChanges(mn,se.isPrimaryClient,kn);return l(se,Ae.targetId,fr.vo),fr.snapshot}),function(se,Ae,ze,$t){return K.apply(this,arguments)})(n,T,N,H);var K};const i=yield Uv(n.localStore,e,!0),a=new e0(e,i.Gn),c=a.Io(i.documents),h=Ad.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),p=a.applyChanges(c,n.isPrimaryClient,h);l(n,t,p.vo);const y=new t0(e,t,a);return n.xo.set(e,y),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),p.snapshot}),fD.apply(this,arguments)}function $R(n,e){return o0.apply(this,arguments)}function o0(){return o0=(0,$.Z)(function*(n,e){const t=lt(n),r=t.xo.get(e),i=t.ko.get(r.targetId);if(i.length>1)return t.ko.set(r.targetId,i.filter(a=>!lf(a,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rf(t.remoteStore,r.targetId),o(t,r.targetId)}).catch(Al))):(o(t,r.targetId),yield Pd(t.localStore,r.targetId,!0))}),o0.apply(this,arguments)}function nA(n,e){return pD.apply(this,arguments)}function pD(){return pD=(0,$.Z)(function*(n,e){const t=lt(n);try{const r=yield LT(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.Fo.get(a);c&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Co=!0:i.modifiedDocuments.size>0?Wt(c.Co):i.removedDocuments.size>0&&(Wt(c.Co),c.Co=!1))}),yield g(t,r,e)}catch(r){yield Al(r)}}),pD.apply(this,arguments)}function rA(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.xo.forEach((a,c)=>{const h=c.view.eo(e);h.snapshot&&i.push(h.snapshot)}),function(a,c){const h=lt(a);h.onlineState=c;let p=!1;h.queries.forEach((y,T)=>{for(const N of T.listeners)N.eo(c)&&(p=!0)}),p&&Yv(h)}(r.eventManager,e),i.length&&r.No.Er(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HR(n,e,t){return gD.apply(this,arguments)}function gD(){return gD=(0,$.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fo.get(e),a=i&&i.key;if(a){let c=new Kr(Tt.comparator);c=c.insert(a,Tr.newNoDocument(a,sn.min()));const h=Zn().add(a),p=new Sd(sn.min(),new Map,new lr(En),c,h);yield nA(r,p),r.Oo=r.Oo.remove(a),r.Fo.delete(e),f(r)}else yield Pd(r.localStore,e,!1).then(()=>o(r,e,t)).catch(Al)}),gD.apply(this,arguments)}function o(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ko.get(e))n.xo.delete(r),t&&n.No.jo(r,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(r=>{n.Mo.containsKey(r)||u(n,r)})}function u(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(Rf(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),f(n))}function l(n,e,t){for(const r of t)r instanceof lD?(n.Mo.addReference(r.key,e),d(n,r)):r instanceof dD?(tt("SyncEngine","Document no longer in limbo: "+r.key),n.Mo.removeReference(r.key,e),n.Mo.containsKey(r.key)||u(n,r.key)):Lt()}function d(n,e){const t=e.key,r=t.path.canonicalString();n.Oo.get(t)||n.$o.has(r)||(tt("SyncEngine","New document in limbo: "+t),n.$o.add(r),f(n))}function f(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new Tt(Un.fromString(e)),r=n.Uo.next();n.Fo.set(r,new jR(t)),n.Oo=n.Oo.insert(t,r),Nf(n.remoteStore,new mo(Vo(ku(t.path)),r,2,fo.T))}}function g(n,e,t){return w.apply(this,arguments)}function w(){return w=(0,$.Z)(function*(n,e,t){const r=lt(n),i=[],a=[],c=[];var h;r.xo.isEmpty()||(r.xo.forEach((h,p)=>{c.push(r.Ko(p,e,t).then(y=>{if(y){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),i.push(y);const T=PT.kn(p.targetId,y);a.push(T)}}))}),yield Promise.all(c),r.No.Er(i),yield(h=(0,$.Z)(function*(p,y){const T=lt(p);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>$e.forEach(y,H=>$e.forEach(H.Nn,K=>T.persistence.referenceDelegate.addReference(N,H.targetId,K)).next(()=>$e.forEach(H.xn,K=>T.persistence.referenceDelegate.removeReference(N,H.targetId,K)))))}catch(N){if(!vc(N))throw N;tt("LocalStore","Failed to update sequence numbers: "+N)}for(const N of y){const H=N.targetId;if(!N.fromCache){const K=T.Un.get(H),Ae=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);T.Un=T.Un.insert(H,Ae)}}}),function(p,y){return h.apply(this,arguments)})(r.localStore,a))}),w.apply(this,arguments)}function E(n,e){return M.apply(this,arguments)}function M(){return M=(0,$.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const r=yield FS(t.localStore,e);t.currentUser=e,(i=t).Bo.forEach(c=>{c.forEach(h=>{h.reject(new Ze(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Bo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield g(t,r.Wn)}var i}),M.apply(this,arguments)}function F(n,e){const t=lt(n),r=t.Fo.get(e);if(r&&r.Co)return Zn().add(r.key);{let i=Zn();const a=t.ko.get(e);if(!a)return i;for(const c of a){const h=t.xo.get(c);i=i.unionWith(h.view.Eo)}return i}}function Ff(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HR.bind(null,e),e.No.Er=uD.bind(null,e.eventManager),e.No.jo=XS.bind(null,e.eventManager),e}class l0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$.Z)(function*(){t.N=Bo(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return function Sf(n,e,t,r){return new kR(n,e,t,r)}(this.persistence,new LS,e.initialUser,this.N)}Go(e){return new LR(Bv.Ns,this.N)}Wo(e){return new $v}terminate(){var e=this;return(0,$.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sA{initialize(e,t){var r=this;return(0,$.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=E.bind(null,r.syncEngine),yield function Wv(n,e){return Kv.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fm}createDatastore(e){const t=Bo(e.databaseInfo.databaseId),r=new GT(e.databaseInfo);return new FR(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>rA(this.syncEngine,h,0),c=Hv.bt()?new Hv:new GS,new KS(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,h,p,y){const T=new hD(r,i,a,c,h,p);return y&&(T.qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$.Z)(function*(t){const r=lt(t);tt("RemoteStore","RemoteStore shutting down."),r.Kr.add(5),yield Rl(r),r.Qr.shutdown(),r.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class wD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class f2{constructor(e,t,r){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Ei.UNAUTHENTICATED,this.clientId=class OE{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZC(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var a=(0,$.Z)(function*(c){tt("FirestoreClient","Received user=",c.uid),yield i.credentialListener(c),i.user=c});return function(c){return a.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,$.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const i=Ic(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function WR(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,$.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,$.Z)(function*(a){r.isEqual(a)||(yield FS(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),oA.apply(this,arguments)}function KR(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,$.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield uA(n);tt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(a=(0,$.Z)(function*(c,h){const p=lt(c);p.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const y=Vu(p);p.Kr.add(3),yield Rl(p),y&&p.Wr.set("Unknown"),yield p.remoteSyncer.handleCredentialChange(h),p.Kr.delete(3),yield Mf(p)}),function(c,h){return a.apply(this,arguments)})(e.remoteStore,i);var a}),n.onlineComponents=e}),aA.apply(this,arguments)}function uA(n){return cA.apply(this,arguments)}function cA(){return cA=(0,$.Z)(function*(n){return n.offlineComponents||(tt("FirestoreClient","Using default OfflineComponentProvider"),yield WR(n,new l0)),n.offlineComponents}),cA.apply(this,arguments)}function ID(n){return lA.apply(this,arguments)}function lA(){return lA=(0,$.Z)(function*(n){return n.onlineComponents||(tt("FirestoreClient","Using default OnlineComponentProvider"),yield KR(n,new sA)),n.onlineComponents}),lA.apply(this,arguments)}function Um(n){return fA.apply(this,arguments)}function fA(){return fA=(0,$.Z)(function*(n){const e=yield ID(n),t=e.eventManager;return t.onListen=n0.bind(null,e.syncEngine),t.onUnlisten=$R.bind(null,e.syncEngine),t}),fA.apply(this,arguments)}class E2{constructor(e,t,r,i,a,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class f0{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof f0&&e.projectId===this.projectId&&e.database===this.database}}const XR=new Map;function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ze(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function ED(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Lt()}(n);throw new Ze(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class rk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function T2(n,e,t,r){if(!0===e&&!0===r)throw new Ze(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class Zs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Dc extends Zs{constructor(e,t,r){super(e,t,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new Tt(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}class x2{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Mm(this,"async_queue_retry"),this.Ta=()=>{const t=Fd();t&&tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=Fd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Fd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Ti;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,$.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!vc(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(r=>{throw this.ma=r,this.ga=!1,qr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.ga=!1,r))));return this.fa=t,t}enqueueAfterDelay(e,t,r){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const i=Lm.createAndSchedule(this,e,t,r,a=>this.Ra(a));return this._a.push(i),i}Ea(){this.ma&&Lt()}verifyOperationInProgress(){}ba(){var e=this;return(0,$.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function gA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ii extends class p0{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rk({}),this._settingsFrozen=!1,e instanceof f0?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ze(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f0(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ze(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rk(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new qC;switch(t.type){case"gapi":const r=t.client;return Wt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new YC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ze(Ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XR.get(e);t&&(tt("ComponentProvider","Removing Datastore"),XR.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t){super(e,t),this.type="firestore",this._queue=new x2,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ik(this),this._firestoreClient.terminate()}}function ik(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new E2(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new f2(n._credentials,n._queue,r)}class Vm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ze(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vf(Cr.fromBase64String(e))}catch(t){throw new Ze(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vf(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return En(this._lat,e._lat)||En(this._long,e._long)}}const O2=new RegExp("[~\\*/\\[\\]]");function DD(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Ze(Ce.INVALID_ARGUMENT,h+n+p)}class EA{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new P2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class P2 extends EA{data(){return super.data()}}function bD(n,e){return"string"==typeof e?function IA(n,e,t){if(e.search(O2)>=0)throw DD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vm(...e.split("."))._internalPath}catch{throw DD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof Vm?e._internalPath:e._delegate._internalPath}class jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jm extends EA{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xD extends jm{data(e={}){return super.data(e)}}class $m{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xD(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new xD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new jf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new xD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new jf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),y=a.indexOf(c.doc.key)),{type:L2(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function L2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}class $f extends class V2{convertValue(e,t="none"){switch(Il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lt()}}convertObject(e,t){const r={};return lc(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new mA(di(e.latitude),di(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=JC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ft(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Un.fromString(e);Wt(mm(r));const i=new f0(r.get(1),r.get(3)),a=new Tt(r.popFirst(5));return i.isEqual(t)||qr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,t)}}yl="9.1.3",Nh(new Xp("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=new ii(t,new KC(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),Rh(Z_,"3.1.1",void 0),Rh(Z_,"3.1.1","esm2017");var G2=j(9751),bk=j(4004),z2={includeMetadataChanges:!1};function bA(n,e){return void 0===e&&(e=z2),new G2.y(function(t){var r=function j2(n,...e){var t,r,i;n=function oC(n){return n&&n._delegate?n._delegate:n}(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||gA(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges};if(gA(e[c])){const N=e[c];e[c]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[c+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[c+2]=null===(i=N.complete)||void 0===i?void 0:i.bind(N)}let p,y,T;if(n instanceof hi)y=Qn(n.firestore,ii),T=ku(n._key.path),p={next:N=>{e[c]&&e[c](function DA(n,e,t){const r=t.docs.get(e._key),i=new $f(n);return new jm(n,i,e._key,r,new jf(t.hasPendingWrites,t.fromCache),e.converter)}(y,n,N))},error:e[c+1],complete:e[c+2]};else{const N=Qn(n,Zs);y=Qn(N.firestore,ii),T=N._query;const H=new $f(y);p={next:K=>{e[c]&&e[c](new $m(y,H,N,K))},error:e[c+1],complete:e[c+2]},function yk(n){if(om(n)&&0===n.explicitOrderBy.length)throw new Ze(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(N,H,K,se){const Ae=new wD(se),ze=new Zv(H,Ae,K);return N.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function iD(n,e){return sD.apply(this,arguments)}(yield Um(N),ze)})),()=>{Ae.Xo(),N.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function oD(n,e){return aD.apply(this,arguments)}(yield Um(N),ze)}))}}(function hs(n){return n._firestoreClient||ik(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(y),T,h,p)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function J2(n,e){return void 0===e&&(e={}),function Z2(n){return bA(n,{includeMetadataChanges:!0}).pipe((0,bk.U)(function(e){return e.docs}))}(n).pipe((0,bk.U)(function(t){return t.map(function(r){return function xk(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}var Dt,X2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pl={},SA=SA||{},on=X2||self;function SD(){}function AA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function y0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var MA="closure_uid_"+(1e9*Math.random()>>>0),tU=0;function nU(n,e,t){return n.call.apply(n.bind,arguments)}function rU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ks(n,e,t){return(ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nU:rU).apply(null,arguments)}function AD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jd(){this.s=this.s,this.o=this.o}var sU={};jd.prototype.s=!1,jd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function eU(n){return Object.prototype.hasOwnProperty.call(n,MA)&&n[MA]||(n[MA]=++tU)}(this);delete sU[n]}},jd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Nk=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function Rk(n){return Array.prototype.concat.apply([],arguments)}function NA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function MD(n){return/^[\s\xa0]*$/.test(n)}var vo,kk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _o(n,e){return-1!=n.indexOf(e)}function RA(n,e){return n<e?-1:n>e?1:0}e:{var Ok=on.navigator;if(Ok){var Pk=Ok.userAgent;if(Pk){vo=Pk;break e}}vo=""}function kA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lk(n){const e={};for(const t in n)e[t]=n[t];return e}var Fk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uk(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Fk.length;a++)t=Fk[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function OA(n){return OA[" "](n),n}OA[" "]=SD;var ND,uU=_o(vo,"Opera"),Hm=_o(vo,"Trident")||_o(vo,"MSIE"),Vk=_o(vo,"Edge"),PA=Vk||Hm,Bk=_o(vo,"Gecko")&&!(_o(vo.toLowerCase(),"webkit")&&!_o(vo,"Edge"))&&!(_o(vo,"Trident")||_o(vo,"MSIE"))&&!_o(vo,"Edge"),cU=_o(vo.toLowerCase(),"webkit")&&!_o(vo,"Edge");function jk(){var n=on.document;return n?n.documentMode:void 0}e:{var LA="",FA=function(){var n=vo;return Bk?/rv:([^\);]+)(\)|;)/.exec(n):Vk?/Edge\/([\d\.]+)/.exec(n):Hm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cU?/WebKit\/(\S+)/.exec(n):uU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(FA&&(LA=FA?FA[1]:""),Hm){var UA=jk();if(null!=UA&&UA>parseFloat(LA)){ND=String(UA);break e}}ND=LA}var lU={};var hU=on.document&&Hm&&(jk()||parseInt(ND,10))||void 0,fU=function(){if(!on.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{on.addEventListener("test",SD,e),on.removeEventListener("test",SD,e)}catch{}return n}();function Js(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function _0(n,e){if(Js.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Bk){e:{try{OA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_0.Z.h.call(this)}}Js.prototype.h=function(){this.defaultPrevented=!0};var pU={2:"touch",3:"pen",4:"mouse"};_0.prototype.h=function(){_0.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var v0="closure_listenable_"+(1e6*Math.random()|0),gU=0;function mU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++gU,this.ca=this.fa=!1}function RD(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function kD(n){this.src=n,this.g={},this.h=0}function BA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Mk(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(RD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}kD.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=jA(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new mU(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var $A="closure_lm_"+(1e6*Math.random()|0),HA={};function Hk(n,e,t,r,i){if(r&&r.once)return zk(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Hk(n,e[a],t,r,i);return null}return t=WA(t),n&&n[v0]?n.N(e,t,y0(r)?!!r.capture:!!r,i):Gk(n,e,t,!1,r,i)}function Gk(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=y0(i)?!!i.capture:!!i,h=zA(n);if(h||(n[$A]=h=new kD(n)),(t=h.add(e,t,r,c,a)).proxy)return t;if(r=function yU(){var e=_U;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)fU||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Wk(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function zk(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)zk(n,e[a],t,r,i);return null}return t=WA(t),n&&n[v0]?n.O(e,t,y0(r)?!!r.capture:!!r,i):Gk(n,e,t,!0,r,i)}function qk(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)qk(n,e[a],t,r,i);else r=y0(r)?!!r.capture:!!r,t=WA(t),n&&n[v0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jA(a=n.g[e],t,r,i))&&(RD(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=zA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jA(e,t,r,i)),(t=-1<n?e[n]:null)&&GA(t))}function GA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[v0])BA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Wk(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=zA(e))?(BA(t,n),0==t.h&&(t.src=null,e[$A]=null)):RD(n)}}}function Wk(n){return n in HA?HA[n]:HA[n]="on"+n}function _U(n,e){if(n.ca)n=!0;else{e=new _0(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&GA(n),n=t.call(r,e)}return n}function zA(n){return(n=n[$A])instanceof kD?n:null}var qA="__closure_events_fn_"+(1e9*Math.random()>>>0);function WA(n){return"function"==typeof n?n:(n[qA]||(n[qA]=function(e){return n.handleEvent(e)}),n[qA])}function fs(){jd.call(this),this.i=new kD(this),this.P=this,this.I=null}function Ps(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Js(e,n);else if(e instanceof Js)e.target=e.target||n;else{var i=e;Uk(e=new Js(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=OD(c,r,!0,e)&&i}if(i=OD(c=e.g=n,r,!0,e)&&i,i=OD(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=OD(c=e.g=t[a],r,!1,e)&&i}function OD(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&BA(n.i,c),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}fs.prototype[v0]=!0,fs.prototype.removeEventListener=function(n,e,t,r){qk(this,n,e,t,r)},fs.prototype.M=function(){if(fs.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)RD(t[r]);delete n.g[e],n.h--}}this.I=null},fs.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fs.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var KA=on.JSON.stringify;function vU(){var n=Qk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class wU{constructor(){this.h=this.g=null}add(e,t){const r=Kk.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var YA,Kk=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new IU,n=>n.reset());class IU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function EU(n){on.setTimeout(()=>{throw n},0)}function QA(n,e){YA||function TU(){var n=on.Promise.resolve(void 0);YA=function(){n.then(DU)}}(),ZA||(YA(),ZA=!0),Qk.add(n,e)}var ZA=!1,Qk=new wU;function DU(){for(var n;n=vU();){try{n.h.call(n.g)}catch(t){EU(t)}var e=Kk;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ZA=!1}function PD(n,e){fs.call(this),this.h=n||1,this.g=e||on,this.j=ks(this.kb,this),this.l=Date.now()}function JA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function XA(n,e,t){if("function"==typeof n)t&&(n=ks(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ks(n.handleEvent,n)}return 2147483647<Number(e)?-1:on.setTimeout(n,e||0)}function Yk(n){n.g=XA(()=>{n.g=null,n.i&&(n.i=!1,Yk(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Dt=PD.prototype).da=!1,Dt.S=null,Dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ps(this,"tick"),this.da&&(JA(this),this.start()))}},Dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){PD.Z.M.call(this),JA(this),delete this.g};class bU extends jd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yk(this)}M(){super.M(),this.g&&(on.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function w0(n){jd.call(this),this.h=n,this.g={}}var Zk=[];function Jk(n,e,t,r){Array.isArray(t)||(t&&(Zk[0]=t.toString()),t=Zk);for(var i=0;i<t.length;i++){var a=Hk(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Xk(n){kA(n.g,function(e,t){this.g.hasOwnProperty(t)&&GA(e)},n),n.g={}}function LD(){this.g=!0}function Gm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return KA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}w0.prototype.M=function(){w0.Z.M.call(this),Xk(this)},w0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},LD.prototype.Aa=function(){this.g=!1},LD.prototype.info=function(){};var Hf={},eO=null;function FD(){return eO=eO||new fs}function tO(n){Js.call(this,Hf.Ma,n)}function I0(n){const e=FD();Ps(e,new tO(e,n))}function nO(n,e){Js.call(this,Hf.STAT_EVENT,n),this.stat=e}function wo(n){const e=FD();Ps(e,new nO(e,n))}function rO(n,e){Js.call(this,Hf.Na,n),this.size=e}function E0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return on.setTimeout(function(){n()},e)}Hf.Ma="serverreachability",Hf.STAT_EVENT="statevent",Hf.Na="timingevent";var UD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},iO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oO(){}var r1,T0={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function t1(){Js.call(this,"d")}function n1(){Js.call(this,"c")}function VD(){}function D0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new w0(this),this.P=MU,this.W=new PD(n=PA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new aO}function aO(){this.i=null,this.g="",this.h=!1}VD.prototype.g=function(){return new XMLHttpRequest},VD.prototype.i=function(){return{}},r1=new VD;var MU=45e3,i1={},BD={};function s1(n,e,t){n.K=1,n.v=zD(Ll(e)),n.s=t,n.U=!0,uO(n,null)}function uO(n,e){n.F=Date.now(),b0(n),n.A=Ll(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),yO(t.h,"t",r),n.C=0,t=n.l.H,n.h=new aO,n.g=BO(n.l,t?e:null,!n.s),0<n.O&&(n.L=new bU(ks(n.Ia,n,n.g),n.O)),Jk(n.V,n.g,"readystatechange",n.gb),e=n.H?Lk(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),I0(1),function xU(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var T=y[0];y=y[1];var N=T.split("_");c=2<=N.length&&"type"==N[1]?c+(T+"=")+y+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function cO(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function lO(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=NU(n,t),i==BD){4==e&&(n.o=4,wo(14),r=!1),Gm(n.j,n.m,null,"[Incomplete Response]");break}if(i==i1){n.o=4,wo(15),Gm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Gm(n.j,n.m,i,null),o1(n,i)}cO(n)&&i!=BD&&i!=i1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),y1(e),e.L=!0,wo(11))):(Gm(n.j,n.m,t,"[Invalid Chunked Response]"),Gf(n),x0(n))}function NU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?BD:(t=Number(e.substring(t,r)),isNaN(t)?i1:(r+=1)+t>e.length?BD:(e=e.substr(r,t),n.C=r+t,e))}function b0(n){n.Y=Date.now()+n.P,dO(n,n.P)}function dO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=E0(ks(n.eb,n),e)}function jD(n){n.B&&(on.clearTimeout(n.B),n.B=null)}function x0(n){0==n.l.G||n.I||LO(n.l,n)}function Gf(n){jD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,JA(n.W),Xk(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function o1(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||c1(t.i,n)))if(t.I=n.N,!n.J&&c1(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ZD(t),QD(t)}m1(t),wo(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=E0(ks(t.ab,t),6e3));if(1>=wO(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Wf(t,11)}else if((n.J||t.g==n)&&ZD(t),!MD(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const T=y[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const N=y[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const H=y[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const se=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var a=r.i;!a.g&&(_o(se,"spdy")||_o(se,"quic")||_o(se,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(l1(a,a.h),a.h=null))}if(r.D){const Ae=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.sa=Ae,Pr(r.F,r.D,Ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=VO(r,r.H?r.la:null,r.W),c.J){IO(r.i,c);var h=c,p=r.K;p&&h.setTimeout(p),h.B&&(jD(h),b0(h)),r.g=c}else OO(r);0<t.l.length&&YD(t)}else"stop"!=y[0]&&"close"!=y[0]||Wf(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Wf(t,7):p1(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}I0(4)}catch{}}function a1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(AA(n)||"string"==typeof n)Nk(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(AA(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function RU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(AA(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function zm(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof zm)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function u1(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];zf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)zf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function zf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Dt=D0.prototype).setTimeout=function(n){this.P=n},Dt.gb=function(n){n=n.target;const e=this.L;e&&3==Fl(n)?e.l():this.Ia(n)},Dt.Ia=function(n){try{if(n==this.g)e:{const T=Fl(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>T)&&(3!=T||PA||this.g&&(this.h.h||this.g.ga()||AO(this.g)))){this.I||4!=T||7==e||I0(8==e||0>=N?3:2),jD(this);var t=this.g.ba();this.N=t;t:if(cO(this)){var r=AO(this.g);n="";var i=r.length,a=4==Fl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gf(this),x0(this);var c="";break t}this.h.i=new on.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function CU(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!MD(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,wo(12),Gf(this),x0(this);break e}Gm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,o1(this,t)}this.U?(lO(this,T,c),PA&&this.i&&3==T&&(Jk(this.V,this.W,"tick",this.fb),this.W.start())):(Gm(this.j,this.m,c,null),o1(this,c)),4==T&&Gf(this),this.i&&!this.I&&(4==T?LO(this.l,this):(this.i=!1,b0(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,wo(12)):(this.o=0,wo(13)),Gf(this),x0(this)}}}catch{}},Dt.fb=function(){if(this.g){var n=Fl(this.g),e=this.g.ga();this.C<e.length&&(jD(this),lO(this,n,e),this.i&&4!=n&&b0(this))}},Dt.cancel=function(){this.I=!0,Gf(this)},Dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(I0(3),wo(17)),Gf(this),this.o=2,x0(this)):dO(this,this.Y-n)},(Dt=zm.prototype).R=function(){u1(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Dt.T=function(){return u1(this),this.g.concat()},Dt.get=function(n,e){return zf(this.h,n)?this.h[n]:e},Dt.set=function(n,e){zf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var hO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof qf){this.g=void 0!==e?e:n.g,$D(this,n.j),this.s=n.s,HD(this,n.i),GD(this,n.m),this.l=n.l,e=n.h;var t=new A0;t.i=e.i,e.g&&(t.g=new zm(e.g),t.h=e.h),fO(this,t),this.o=n.o}else n&&(t=String(n).match(hO))?(this.g=!!e,$D(this,t[1]||"",!0),this.s=C0(t[2]||""),HD(this,t[3]||"",!0),GD(this,t[4]),this.l=C0(t[5]||"",!0),fO(this,t[6]||"",!0),this.o=C0(t[7]||"")):(this.g=!!e,this.h=new A0(null,this.g))}function Ll(n){return new qf(n)}function $D(n,e,t){n.j=t?C0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function HD(n,e,t){n.i=t?C0(e,!0):e}function GD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fO(n,e,t){e instanceof A0?(n.h=e,function jU(n,e){e&&!n.j&&($d(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(gO(this,r),yO(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=S0(e,VU)),n.h=new A0(e,n.g))}function Pr(n,e,t){n.h.set(e,t)}function zD(n){return Pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function C0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function S0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,LU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function LU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(S0(e,pO,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(S0(e,pO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(S0(t,"/"==t.charAt(0)?UU:FU,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",S0(t,BU)),n.join("")};var pO=/[#\/\?@]/g,FU=/[#\?:]/g,UU=/[#\?]/g,VU=/[#\?@]/g,BU=/#/g;function A0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $d(n){n.g||(n.g=new zm,n.h=0,n.i&&function kU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gO(n,e){$d(n),e=qm(n,e),zf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,zf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&u1(n)))}function mO(n,e){return $d(n),e=qm(n,e),zf(n.g.h,e)}function yO(n,e,t){gO(n,e),0<t.length&&(n.i=null,n.g.set(qm(n,e),NA(t)),n.h+=t.length)}function qm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _O(n){this.l=n||HU,n=on.PerformanceNavigationTiming?0<(n=on.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(on.g&&on.g.Ea&&on.g.Ea()&&on.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=A0.prototype).add=function(n,e){$d(this),this.i=null,n=qm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){$d(this),this.g.forEach(function(t,r){Nk(t,function(i){n.call(e,i,r,this)},this)},this)},Dt.T=function(){$d(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},Dt.R=function(n){$d(this);var e=[];if("string"==typeof n)mO(this,n)&&(e=Rk(e,this.g.get(qm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Rk(e,n[t])}return e},Dt.set=function(n,e){return $d(this),this.i=null,mO(this,n=qm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var HU=10;function vO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wO(n){return n.h?1:n.g?n.g.size:0}function c1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function l1(n,e){n.g?n.g.add(e):n.h=e}function IO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function EO(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return NA(n.i)}function d1(){}function GU(){this.g=new d1}function zU(n,e,t){const r=t||"";try{a1(n,function(i,a){let c=i;y0(i)&&(c=KA(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function M0(n){this.l=n.$b||null,this.j=n.ib||!1}function WD(n,e){fs.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=h1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_O.prototype.cancel=function(){if(this.i=EO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},d1.prototype.stringify=function(n){return on.JSON.stringify(n,void 0)},d1.prototype.parse=function(n){return on.JSON.parse(n,void 0)},M0.prototype.g=function(){return new WD(this.l,this.j)},M0.prototype.i=function(n){return function(){return n}}({});var h1=0;function TO(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function N0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,R0(n)}function R0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=WD.prototype).open=function(n,e){if(this.readyState!=h1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,R0(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||on).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,N0(this)),this.readyState=h1},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,R0(this)),this.g&&(this.readyState=3,R0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof on.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TO(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?N0(this):R0(this),3==this.readyState&&TO(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,N0(this))},Dt.Ta=function(n){this.g&&(this.response=n,N0(this))},Dt.ha=function(){this.g&&N0(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var WU=on.JSON.parse;function Si(n){fs.call(this),this.headers=new zm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DO,this.K=this.L=!1}var DO="",KU=/^https?$/i,QU=["POST","PUT"];function ZU(n){return"content-type"==n.toLowerCase()}function bO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xO(n),KD(n)}function xO(n){n.D||(n.D=!0,Ps(n,"complete"),Ps(n,"error"))}function CO(n){if(n.h&&typeof SA<"u"&&(!n.C[1]||4!=Fl(n)||2!=n.ba()))if(n.v&&4==Fl(n))XA(n.Fa,0,n);else if(Ps(n,"readystatechange"),4==Fl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(hO)[1]||null;if(!i&&on.self&&on.self.location){var a=on.self.location.protocol;i=a.substr(0,a.length-1)}r=!KU.test(i?i.toLowerCase():"")}t=r}if(t)Ps(n,"complete"),Ps(n,"success");else{n.m=6;try{var c=2<Fl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",xO(n)}}finally{KD(n)}}}function KD(n,e){if(n.g){SO(n);const t=n.g,r=n.C[0]?SD:null;n.g=null,n.C=null,e||Ps(n,"ready");try{t.onreadystatechange=r}catch{}}}function SO(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(on.clearTimeout(n.A),n.A=null)}function Fl(n){return n.g?n.g.readyState:0}function AO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case DO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function f1(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function JU(n){let e="";return kA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pr(n,e,t))}function k0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function MO(n){this.za=0,this.l=[],this.h=new LD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=k0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=k0("baseRetryDelayMs",5e3,n),this.$a=k0("retryDelaySeedMs",1e4,n),this.Ya=k0("forwardChannelMaxRetries",2,n),this.ra=k0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _O(n&&n.concurrentRequestLimit),this.Ca=new GU,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function p1(n){if(NO(n),3==n.G){var e=n.V++,t=Ll(n.F);Pr(t,"SID",n.J),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),O0(n,t),(e=new D0(n,n.h,e,void 0)).K=2,e.v=zD(Ll(t)),t=!1,on.navigator&&on.navigator.sendBeacon&&(t=on.navigator.sendBeacon(e.v.toString(),"")),!t&&on.Image&&((new Image).src=e.v,t=!0),t||(e.g=BO(e.l,null),e.g.ea(e.v)),e.F=Date.now(),b0(e)}UO(n)}function QD(n){n.g&&(y1(n),n.g.cancel(),n.g=null)}function NO(n){QD(n),n.u&&(on.clearTimeout(n.u),n.u=null),ZD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&on.clearTimeout(n.m),n.m=null)}function g1(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&YD(n)}function YD(n){vO(n.i)||n.m||(n.m=!0,QA(n.Ha,n),n.C=0)}function RO(n,e){var t;t=e?e.m:n.V++;const r=Ll(n.F);Pr(r,"SID",n.J),Pr(r,"RID",t),Pr(r,"AID",n.U),O0(n,r),n.o&&n.s&&f1(r,n.o,n.s),t=new D0(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=kO(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),l1(n.i,t),s1(t,r,e)}function O0(n,e){n.j&&a1({},function(t,r){Pr(e,r,t)})}function kO(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ks(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let p=0;p<t;p++){let y=i[p].h;const T=i[p].g;if(y-=a,0>y)a=Math.max(0,i[p].h-100),h=!1;else try{zU(T,c,"req"+y+"_")}catch{r&&r(T)}}if(h){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function OO(n){n.g||n.u||(n.Y=1,QA(n.Ga,n),n.A=0)}function m1(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=E0(ks(n.Ga,n),FO(n,n.A)),n.A++,0))}function y1(n){null!=n.B&&(on.clearTimeout(n.B),n.B=null)}function PO(n){n.g=new D0(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ll(n.oa);Pr(e,"RID","rpc"),Pr(e,"SID",n.J),Pr(e,"CI",n.N?"0":"1"),Pr(e,"AID",n.U),O0(n,e),Pr(e,"TYPE","xmlhttp"),n.o&&n.s&&f1(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=zD(Ll(e)),t.s=null,t.U=!0,uO(t,n)}function ZD(n){null!=n.v&&(on.clearTimeout(n.v),n.v=null)}function LO(n,e){var t=null;if(n.g==e){ZD(n),y1(n),n.g=null;var r=2}else{if(!c1(n.i,e))return;t=e.D,IO(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ps(r=FD(),new rO(r,t,e,i)),YD(n)}else OO(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function XU(n,e){return!(wO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=E0(ks(n.Ha,n,e),FO(n,n.C)),n.C++,0)))}(n,e)||2==r&&m1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Wf(n,5);break;case 4:Wf(n,10);break;case 3:Wf(n,6);break;default:Wf(n,2)}}function FO(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Wf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ks(n.jb,n);t||(t=new qf("//www.google.com/images/cleardot.gif"),on.location&&"http"==on.location.protocol||$D(t,"https"),zD(t)),function qU(n,e){const t=new LD;if(on.Image){const r=new Image;r.onload=AD(qD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=AD(qD,t,r,"TestLoadImage: error",!1,e),r.onabort=AD(qD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=AD(qD,t,r,"TestLoadImage: timeout",!1,e),on.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else wo(2);n.G=0,n.j&&n.j.va(e),UO(n),NO(n)}function UO(n){n.G=0,n.I=-1,n.j&&((0!=EO(n.i).length||0!=n.l.length)&&(n.i.i.length=0,NA(n.l),n.l.length=0),n.j.ua())}function VO(n,e,t){let r=function OU(n){return n instanceof qf?Ll(n):new qf(n,void 0)}(t);if(""!=r.i)e&&HD(r,e+"."+r.i),GD(r,r.m);else{const i=on.location;r=function PU(n,e,t,r){var i=new qf(null,void 0);return n&&$D(i,n),e&&HD(i,e),t&&GD(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&kA(n.aa,function(i,a){Pr(r,a,i)}),t=n.sa,(e=n.D)&&t&&Pr(r,e,t),Pr(r,"VER",n.ma),O0(n,r),r}function BO(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Si(t&&n.Ba&&!n.qa?new M0({ib:!0}):n.qa)).L=n.H,e}function JD(){if(Hm&&!(10<=Number(hU)))throw Error("Environmental error: no available transport.")}function wa(n,e){fs.call(this),this.g=new MO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!MD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!MD(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wm(this)}function $O(n){t1.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function HO(){n1.call(this),this.status=1}function Wm(n){this.g=n}(Dt=Si.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():r1.g(),this.C=function sO(n){return n.h||(n.h=n.i())}(this.u?this.u:r1),this.g.onreadystatechange=ks(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void bO(this,a)}n=t||"";const i=new zm(this.headers);r&&a1(r,function(a,c){i.set(c,a)}),r=function oU(n){e:{var e=ZU;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=on.FormData&&n instanceof on.FormData,!(0<=Mk(QU,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{SO(this),0<this.B&&((this.K=function YU(n){return Hm&&function dU(){return function aU(n){var e=lU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=kk(String(ND)).split("."),t=kk("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=RA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||RA(0==i[2].length,0==a[2].length)||RA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ks(this.pa,this)):this.A=XA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){bO(this,a)}},Dt.pa=function(){typeof SA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ps(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ps(this,"complete"),Ps(this,"abort"),KD(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),KD(this,!0)),Si.Z.M.call(this)},Dt.Fa=function(){this.s||(this.F||this.v||this.l?CO(this):this.cb())},Dt.cb=function(){CO(this)},Dt.ba=function(){try{return 2<Fl(this)?this.g.status:-1}catch{return-1}},Dt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),WU(e)}},Dt.Da=function(){return this.m},Dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=MO.prototype).ma=8,Dt.G=1,Dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new D0(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Lk(a),Uk(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=kO(this,i,e),Pr(t=Ll(this.F),"RID",n),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),O0(this,t),this.o&&a&&f1(t,this.o,a),l1(this.i,i),this.Ra&&Pr(t,"TYPE","init"),this.ja?(Pr(t,"$req",e),Pr(t,"SID","null"),i.$=!0,s1(i,t,null)):s1(i,t,e),this.G=2}}else 3==this.G&&(n?RO(this,n):0==this.l.length||vO(this.i)||RO(this))},Dt.Ga=function(){if(this.u=null,PO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=E0(ks(this.bb,this),n)}},Dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wo(10),QD(this),PO(this))},Dt.ab=function(){null!=this.v&&(this.v=null,QD(this),m1(this),wo(19))},Dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),wo(2)):(this.h.info("Failed to ping google.com"),wo(1))},(Dt=function jO(){}.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Oa=function(){},JD.prototype.g=function(n,e){return new wa(n,e)},wa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),QA(ks(n.hb,n,e))),wo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=VO(n,null,n.W),YD(n)},wa.prototype.close=function(){p1(this.g)},wa.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,g1(this.g,e)}else this.v?((e={}).__data__=KA(n),g1(this.g,e)):g1(this.g,n)},wa.prototype.M=function(){this.g.j=null,delete this.j,p1(this.g),delete this.g,wa.Z.M.call(this)},Wm.prototype.xa=function(){Ps(this.g,"a")},Wm.prototype.wa=function(n){Ps(this.g,new $O(n))},Wm.prototype.va=function(n){Ps(this.g,new HO(n))},Wm.prototype.ua=function(){Ps(this.g,"b")},JD.prototype.createWebChannel=JD.prototype.g,wa.prototype.send=wa.prototype.u,wa.prototype.open=wa.prototype.m,wa.prototype.close=wa.prototype.close,UD.NO_ERROR=0,UD.TIMEOUT=8,UD.HTTP_ERROR=6,iO.COMPLETE="complete",oO.EventType=T0,T0.OPEN="a",T0.CLOSE="b",T0.ERROR="c",T0.MESSAGE="d",fs.prototype.listen=fs.prototype.N,Si.prototype.listenOnce=Si.prototype.O,Si.prototype.getLastError=Si.prototype.La,Si.prototype.getLastErrorCode=Si.prototype.Da,Si.prototype.getStatus=Si.prototype.ba,Si.prototype.getResponseJson=Si.prototype.Qa,Si.prototype.getResponseText=Si.prototype.ga,Si.prototype.send=Si.prototype.ea;var eV=Pl.createWebChannelTransport=function(){return new JD},tV=Pl.getStatEventTarget=function(){return FD()},_1=Pl.ErrorCode=UD,nV=Pl.EventType=iO,rV=Pl.Event=Hf,GO=Pl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iV=Pl.FetchXmlHttpFactory=M0,XD=Pl.WebChannel=oO,sV=Pl.XhrIo=Si;class ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");const Hd=new Te.Yd("@firebase/firestore");function v1(){return Hd.logLevel}function Je(n,...e){if(Hd.logLevel<=Te.in.DEBUG){const t=e.map(w1);Hd.debug(`Firestore (9.9.2): ${n}`,...t)}}function fi(n,...e){if(Hd.logLevel<=Te.in.ERROR){const t=e.map(w1);Hd.error(`Firestore (9.9.2): ${n}`,...t)}}function Qm(n,...e){if(Hd.logLevel<=Te.in.WARN){const t=e.map(w1);Hd.warn(`Firestore (9.9.2): ${n}`,...t)}}function w1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Mt(n="Unexpected state"){const e="FIRESTORE (9.9.2) INTERNAL ASSERTION FAILED: "+n;throw fi(e),new Error(e)}function Zt(n,e){n||Mt()}function ft(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class oV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ps.UNAUTHENTICATED))}shutdown(){}}class cV{constructor(e,t,r){this.type="FirstParty",this.user=ps.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class lV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new cV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function hV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class KO{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function an(n,e){return n<e?-1:n>e?1:0}function Ym(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qr.fromMillis(Date.now())}static fromDate(e){return Qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new Qr(0,0))}static max(){return new Yt(new Qr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P0{constructor(e,t,r){void 0===t?t=0:t>e.length&&Mt(),void 0===r?r=e.length-t:r>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===P0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof P0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends P0{construct(e,t,r){return new Vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const fV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends P0{construct(e,t,r){return new pi(e,t,r)}static isValidIdentifier(e){return fV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ye(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Ye(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ye(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new Ye(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Vn.fromString(e))}static fromName(e){return new dt(Vn.fromString(e).popFirst(5))}static empty(){return new dt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Vn(e.slice()))}}function ZO(n){return new Ia(n.readTime,n.key,-1)}class Ia{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ia(Yt.min(),dt.empty(),-1)}static max(){return new Ia(Yt.max(),dt.empty(),-1)}}function E1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:an(n.largestBatchId,e.largestBatchId))}const JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Gd(n){return T1.apply(this,arguments)}function T1(){return T1=(0,$.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==JO)throw n;Je("LocalStore","Unexpectedly lost primary lease")}),T1.apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,r)=>{t(e)})}static reject(e){return new Ee((t,r)=>{r(e)})}static waitFor(e){return new Ee((t,r)=>{let i=0,a=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++a,c&&a===i&&t()},p=>r(p))}),c=!0,a===i&&t()})}static or(e){let t=Ee.resolve(!1);for(const r of e)t=t.next(i=>i?Ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ee((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(T=>{c[y]=T,++h,h===a&&r(c)},T=>i(T))}})}static doWhile(e,t){return new Ee((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function zd(n){return"IndexedDbTransactionError"===n.name}class jo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function eP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}jo.ot=-1;class si{constructor(e,t){this.comparator=e,this.root=t||Ls.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ls.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rb(this.root,e,this.comparator,!1)}getReverseIterator(){return new rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rb(this.root,e,this.comparator,!0)}}class rb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ls{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ls.RED,this.left=i??Ls.EMPTY,this.right=a??Ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ls(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ls.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Ls.EMPTY=null,Ls.RED=!0,Ls.BLACK=!1,Ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ls(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hr{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nP(this.data.getIterator())}getIteratorFrom(e){return new nP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hr(this.comparator);return t.data=e,t}}class nP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ea{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new Ea([])}unionWith(e){let t=new hr(pi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ea(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ym(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const IV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qd(n){if(Zt(!!n),"string"==typeof n){let e=0;const t=IV.exec(n);if(Zt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oi(n.seconds),nanos:oi(n.nanos)}}function oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zf(n){return"string"==typeof n?Yi.fromBase64String(n):Yi.fromUint8Array(n)}function U0(n){const e=qd(n.mapValue.fields.__local_write_time__.timestampValue);return new Qr(e.seconds,e.nanos)}class EV{constructor(e,t,r,i,a,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Wd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wd&&e.projectId===this.projectId&&e.database===this.database}}function V0(n){return null==n}function B0(n){return 0===n&&1/n==-1/0}const Kd_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Jf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?function b1(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(n)?4:uP(n)?9007199254740991:10:Mt()}function bc(n,e){if(n===e)return!0;const t=Jf(n);if(t!==Jf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return U0(n).isEqual(U0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=qd(r.timestampValue),c=qd(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Zf(n.bytesValue).isEqual(Zf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return oi(r.geoPointValue.latitude)===oi(i.geoPointValue.latitude)&&oi(r.geoPointValue.longitude)===oi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return oi(r.integerValue)===oi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=oi(r.doubleValue),c=oi(i.doubleValue);return a===c?B0(a)===B0(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Ym(n.arrayValue.values||[],e.arrayValue.values||[],bc);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(eP(a)!==eP(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!bc(a[h],c[h])))return!1;return!0}(n,e);default:return Mt()}var i}function j0(n,e){return void 0!==(n.values||[]).find(t=>bc(t,e))}function Qd(n,e){if(n===e)return 0;const t=Jf(n),r=Jf(e);if(t!==r)return an(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=oi(i.integerValue||i.doubleValue),h=oi(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return sP(n.timestampValue,e.timestampValue);case 4:return sP(U0(n),U0(e));case 5:return an(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Zf(i),h=Zf(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),h=a.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=an(c[p],h[p]);if(0!==y)return y}return an(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=an(oi(i.latitude),oi(a.latitude));return 0!==c?c:an(oi(i.longitude),oi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],h=a.values||[];for(let p=0;p<c.length&&p<h.length;++p){const y=Qd(c[p],h[p]);if(y)return y}return an(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Kd_mapValue&&a===Kd_mapValue)return 0;if(i===Kd_mapValue)return 1;if(a===Kd_mapValue)return-1;const c=i.fields||{},h=Object.keys(c),p=a.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let T=0;T<h.length&&T<y.length;++T){const N=an(h[T],y[T]);if(0!==N)return N;const H=Qd(c[h[T]],p[y[T]]);if(0!==H)return H}return an(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Mt()}}function sP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return an(n,e);const t=qd(n),r=qd(e),i=an(t.seconds,r.seconds);return 0!==i?i:an(t.nanos,r.nanos)}function Jm(n){return x1(n)}function x1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=qd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zf(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=x1(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${x1(r.fields[h])}`;return a+"}"}(n.mapValue):Mt();var e}function C1(n){return!!n&&"integerValue"in n}function $0(n){return!!n&&"arrayValue"in n}function sb(n){return!!n&&"mapValue"in n}function H0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=H0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=H0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=H0(t)}setAll(e){let t=pi.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=H0(c):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Yf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fs(H0(this.value))}}function dP(n){const e=[];return Yf(n.fields,(t,r)=>{const i=new pi([t]);if(sb(r)){const a=dP(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Ea(e)}class Dr{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Dr(e,0,Yt.min(),Yt.min(),Fs.empty(),0)}static newFoundDocument(e,t,r){return new Dr(e,1,t,Yt.min(),r,0)}static newNoDocument(e,t){return new Dr(e,2,t,Yt.min(),Fs.empty(),0)}static newUnknownDocument(e,t){return new Dr(e,3,t,Yt.min(),Fs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bV{constructor(e,t=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.ut=null}}function hP(n,e=null,t=[],r=[],i=null,a=null,c=null){return new bV(n,e,t,r,i,a,c)}function ep(n){const e=ft(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Jm(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),V0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Jm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Jm(r)).join(",")),e.ut=t}return e.ut}function G0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!OV(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!bc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yP(n.startAt,e.startAt)&&yP(n.endAt,e.endAt)}class Us extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new CV(e,t,r):"array-contains"===t?new MV(e,r):"in"===t?new NV(e,r):"not-in"===t?new RV(e,r):"array-contains-any"===t?new kV(e,r):new Us(e,t,r)}static ct(e,t,r){return"in"===t?new SV(e,r):new AV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Qd(t,this.value)):null!==t&&Jf(this.value)===Jf(t)&&this.at(Qd(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class CV extends Us{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.at(t)}}class SV extends Us{constructor(e,t){super(e,"in",t),this.keys=gP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AV extends Us{constructor(e,t){super(e,"not-in",t),this.keys=gP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class MV extends Us{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $0(t)&&j0(t.arrayValue,this.value)}}class NV extends Us{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&j0(this.value.arrayValue,t)}}class RV extends Us{constructor(e,t){super(e,"not-in",t)}matches(e){if(j0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!j0(this.value.arrayValue,t)}}class kV extends Us{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>j0(this.value.arrayValue,r))}}class Yd{constructor(e,t){this.position=e,this.inclusive=t}}class Xm{constructor(e,t="asc"){this.field=e,this.dir=t}}function OV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function mP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?dt.comparator(dt.fromName(c.referenceValue),t.key):Qd(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function yP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bc(n.position[t],e.position[t]))return!1;return!0}class Ul{constructor(e,t=null,r=[],i=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.lt=null,this.ft=null}}function vP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ty(n){const e=ft(n);if(null===e.lt){e.lt=[];const t=function A1(n){for(const e of n.filters)if(e.ht())return e.field;return null}(e),r=function S1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Xm(t)),e.lt.push(new Xm(pi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Xm(pi.keyField(),a))}}}return e.lt}function $o(n){const e=ft(n);if(!e.ft)if("F"===e.limitType)e.ft=hP(e.path,e.collectionGroup,ty(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of ty(e))t.push(new Xm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Yd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yd(e.startAt.position,e.startAt.inclusive):null;e.ft=hP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function ub(n,e,t){return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function z0(n,e){return G0($o(n),$o(e))&&n.limitType===e.limitType}function wP(n){return`${ep($o(n))}|lt:${n.limitType}`}function N1(n){return`Query(target=${function xV(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Jm(r.value)}`;var r}).join(", ")}]`),V0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Jm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Jm(t)).join(",")),`Target(${e})`}($o(n))}; limitType=${n.limitType})`}function R1(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):dt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const h=mP(i,a,c);return i.inclusive?h<=0:h<0}(t.startAt,ty(t),r)||t.endAt&&!function(i,a,c){const h=mP(i,a,c);return i.inclusive?h>=0:h>0}(t.endAt,ty(t),r)));var t,r}function PV(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(i,a,c){const h=a.data.field(i),p=c.data.field(i);return null!==h&&null!==p?Qd(h,p):Mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Mt()}}function TP(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(e)?"-0":e}}function DP(n){return{integerValue:""+n}}function bP(n,e){return function iP(n){return"number"==typeof n&&Number.isInteger(n)&&!B0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?DP(e):TP(n,e)}class cb{constructor(){this._=void 0}}function LV(n,e,t){return n instanceof ny?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof tp?CP(n,e):n instanceof np?SP(n,e):function(r,i){const a=xP(r,i),c=AP(a)+AP(r._t);return C1(a)&&C1(r._t)?DP(c):TP(r.wt,c)}(n,e)}function FV(n,e,t){return n instanceof tp?CP(n,e):n instanceof np?SP(n,e):t}function xP(n,e){return n instanceof ry?C1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ny extends cb{}class tp extends cb{constructor(e){super(),this.elements=e}}function CP(n,e){const t=MP(e);for(const r of n.elements)t.some(i=>bc(i,r))||t.push(r);return{arrayValue:{values:t}}}class np extends cb{constructor(e){super(),this.elements=e}}function SP(n,e){let t=MP(e);for(const r of n.elements)t=t.filter(i=>!bc(i,r));return{arrayValue:{values:t}}}class ry extends cb{constructor(e,t){super(),this.wt=e,this._t=t}}function AP(n){return oi(n.integerValue||n.doubleValue)}function MP(n){return $0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class VV{constructor(e,t){this.version=e,this.transformResults=t}}class Yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class db{}function NP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new sy(n.key,Yr.none()):new iy(n.key,n.data,Yr.none());{const t=n.data,r=Fs.empty();let i=new hr(pi.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Vl(n.key,r,new Ea(i.toArray()),Yr.none())}}function BV(n,e,t){n instanceof iy?function(r,i,a){const c=r.value.clone(),h=OP(r.fieldTransforms,i,a.transformResults);c.setAll(h),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Vl?function(r,i,a){if(!lb(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=OP(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(kP(r)),h.setAll(c),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function W0(n,e,t,r){return n instanceof iy?function(i,a,c,h){if(!lb(i.precondition,a))return c;const p=i.value.clone(),y=PP(i.fieldTransforms,h,a);return p.setAll(y),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vl?function(i,a,c,h){if(!lb(i.precondition,a))return c;const p=PP(i.fieldTransforms,h,a),y=a.data;return y.setAll(kP(i)),y.setAll(p),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,lb(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function jV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=xP(r.transform,i||null);null!=a&&(null===t&&(t=Fs.empty()),t.set(r.field,a))}return t||null}function RP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ym(t,r,(i,a)=>function UV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof tp&&r instanceof tp||t instanceof np&&r instanceof np?Ym(t.elements,r.elements,bc):t instanceof ry&&r instanceof ry?bc(t._t,r._t):t instanceof ny&&r instanceof ny);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class iy extends db{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends db{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OP(n,e,t){const r=new Map;Zt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,FV(c,h,t[i]))}return r}function PP(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,LV(a,c,e))}return r}class sy extends db{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k1 extends db{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}var Ai,Bn;function LP(n){switch(n){default:return Mt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}(Bn=Ai||(Ai={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";class Zd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return tP(this.inner)}size(){return this.innerSize}}const HV=new si(dt.comparator);function Ho(){return HV}const UP=new si(dt.comparator);function K0(...n){let e=UP;for(const t of n)e=e.insert(t.key,t);return e}function VP(n){let e=UP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xc(){return Q0()}function BP(){return Q0()}function Q0(){return new Zd(n=>n.toString(),(n,e)=>n.isEqual(e))}const GV=new si(dt.comparator),zV=new hr(dt.comparator);function pn(...n){let e=zV;for(const t of n)e=e.add(t);return e}const qV=new hr(an);class YV{constructor(e,t){this.databaseId=e,this.dt=t}}function J0(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qP(n,e){return n.dt?e.toBase64():e.toUint8Array()}function ZV(n,e){return J0(n,e.toTimestamp())}function ms(n){return Zt(!!n),Yt.fromTimestamp(function(e){const t=qd(e);return new Qr(t.seconds,t.nanos)}(n))}function O1(n,e){return(t=n,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function X0(n,e){return O1(n.databaseId,e.path)}function KP(n){const e=function WP(n){const e=Vn.fromString(n);return Zt(function nL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}(e)),e}(n);return 4===e.length?Vn.emptyPath():function QP(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}(e)}function YP(n,e,t){return{name:X0(n,e),fields:t.value.mapValue.fields}}function eL(n){let e=KP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Zt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=tL(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Xm(ay((N=T).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let h=null;t.limit&&(h=function(T){let N;return N="object"==typeof T?T.value:T,V0(N)?null:N}(t.limit));let p=null;var T;t.startAt&&(p=new Yd((T=t.startAt).values||[],!!T.before));let y=null;return t.endAt&&(y=function(T){return new Yd(T.values||[],!T.before)}(t.endAt)),function _P(n,e,t,r,i,a,c,h){return new Ul(n,e,t,r,i,a,c,h)}(e,i,c,a,h,"F",p,y)}function tL(n){return n?void 0!==n.unaryFilter?[sB(n)]:void 0!==n.fieldFilter?[iB(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tL(e)).reduce((e,t)=>e.concat(t)):Mt():[]}function ay(n){return pi.fromServerFormat(n.fieldPath)}function iB(n){return Us.create(ay(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function sB(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ay(n.unaryFilter.field);return Us.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ay(n.unaryFilter.field);return Us.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ay(n.unaryFilter.field);return Us.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ay(n.unaryFilter.field);return Us.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}function oB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}class U1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&BV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=W0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=W0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BP();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(i.key)?null:h;const p=NP(c,h);null!==p&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(Yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Ym(this.mutations,e.mutations,(t,r)=>RP(t,r))&&Ym(this.baseMutations,e.baseMutations,(t,r)=>RP(t,r))}}class V1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Zt(e.mutations.length===r.length);let i=GV;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new V1(e,t,r,i)}}class B1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cL{constructor(e){this.ne=e}}function j1(n){const e=eL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ub(e,e.limit,"L"):e}class op{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(oi(e.integerValue));else if("doubleValue"in e){const r=oi(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),B0(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Zf(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?uP(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Mt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),dt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}op.ye=new op;class RB{constructor(){this.ze=new H1}addToCollectionParentIndex(e,t){return this.ze.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(Ia.min())}updateCollectionGroup(e,t,r){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class H1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new hr(Vn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(Vn.comparator)).toArray()}}class Go{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class cp{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new cp(0)}static Rn(){return new cp(-1)}}class $B{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ML{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&W0(r.mutation,i,Ea.empty(),Qr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pn()){const i=xc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=K0();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=xc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let a=Ho();const c=Q0(),h=Q0();return t.forEach((p,y)=>{const T=r.get(y.key);i.has(y.key)&&(void 0===T||T.mutation instanceof Vl)?a=a.insert(y.key,y):void 0!==T&&(c.set(y.key,T.mutation.getFieldMask()),W0(T.mutation,y,T.mutation.getFieldMask(),Qr.now()))}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,T)=>c.set(y,T)),t.forEach((y,T)=>{var N;return h.set(y,new $B(T,null!==(N=c.get(y))&&void 0!==N?N:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Q0();let i=new si((c,h)=>c-h),a=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let T=r.get(p)||Ea.empty();T=h.applyToLocalView(y,T),r.set(p,T);const N=(i.get(h.batchId)||pn()).add(p);i=i.insert(h.batchId,N)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,T=p.value,N=BP();T.forEach(H=>{if(!a.has(H)){const K=NP(t.get(H),r.get(H));null!==K&&N.set(H,K),a=a.add(H)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,N))}return Ee.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return dt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function M1(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ee.resolve(xc());let h=-1,p=a;return c.next(y=>Ee.forEach(y,(T,N)=>(h<N.largestBatchId&&(h=N.largestBatchId),a.get(T)?Ee.resolve():this.getBaseDocument(e,T,N).next(H=>{p=p.insert(T,H)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,pn())).next(T=>({batchId:h,changes:VP(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let i=K0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=K0();return this.indexManager.getCollectionParents(e,i).next(c=>Ee.forEach(c,h=>{const p=(y=t,T=h.child(i),new Ul(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,T;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(y=>{y.forEach((T,N)=>{a=a.insert(T,N)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((h,p)=>{const y=p.getKey();null===i.get(y)&&(i=i.insert(y,Dr.newInvalidDocument(y)))});let c=K0();return i.forEach((h,p)=>{const y=a.get(h);void 0!==y&&W0(y.mutation,p,Ea.empty(),Qr.now()),R1(t,p)&&(c=c.insert(h,p))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ee.resolve(Dr.newInvalidDocument(t))}}class HB{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:ms(r.createTime)}),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:j1(r.bundledQuery),readTime:ms(r.readTime)}),Ee.resolve();var r}}class GB{constructor(){this.overlays=new si(dt.comparator),this.Xn=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xc();return Ee.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ie(e,t,a)}),Ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(r)),Ee.resolve()}getOverlaysForCollection(e,t,r){const i=xc(),a=t.length+1,c=new dt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new si((y,T)=>y-T);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let T=a.get(y.largestBatchId);null===T&&(T=xc(),a=a.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const h=xc(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>h.set(y,T)),!(h.size()>=i)););return Ee.resolve(h)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new B1(t,r));let a=this.Xn.get(t);void 0===a&&(a=pn(),this.Xn.set(t,a)),this.Xn.set(t,a.add(r.key))}}class G1{constructor(){this.Zn=new hr(_s.ts),this.es=new hr(_s.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new _s(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new _s(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new dt(new Vn([])),r=new _s(t,e),i=new _s(t,e+1),a=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),a.push(c.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new dt(new Vn([])),r=new _s(t,e),i=new _s(t,e+1);let a=pn();return this.es.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new _s(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _s{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return dt.comparator(e.key,t.key)||an(e.ls,t.ls)}static ns(e,t){return an(e.ls,t.ls)||dt.comparator(e.key,t.key)}}class zB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new hr(_s.ts)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.fs;this.fs++;const c=new U1(a,t,r,i);this.mutationQueue.push(c);for(const h of i)this.ds=this.ds.add(new _s(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ee.resolve(c)}lookupMutationBatch(e,t){return Ee.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),a=i<0?0:i;return Ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _s(t,0),i=new _s(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],c=>{const h=this._s(c.ls);a.push(h)}),Ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hr(an);return t.forEach(i=>{const a=new _s(i,0),c=new _s(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,c],h=>{r=r.add(h.ls)})}),Ee.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;dt.isDocumentKey(a)||(a=a.child(""));const c=new _s(new dt(a),0);let h=new hr(an);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(p.ls)),!0)},c),Ee.resolve(this.gs(h))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Zt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return Ee.forEach(t.mutations,i=>{const a=new _s(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new _s(t,0),i=this.ds.firstAfterOrEqual(r);return Ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ee.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qB{constructor(e){this.ps=e,this.docs=new si(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ee.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let r=Ho();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))}),Ee.resolve(r)}getAllFromCollection(e,t,r){let i=Ho();const a=new dt(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||E1(ZO(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return Ee.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Mt()}Is(e,t){return Ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WB(this)}getSize(e){return Ee.resolve(this.size)}}class WB extends class VB{constructor(){this.changes=new Zd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),Ee.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class KB{constructor(e){this.persistence=e,this.Ts=new Zd(t=>ep(t),G0),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.Es=0,this.As=new G1,this.targetCount=0,this.Rs=cp.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),Ee.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new cp(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.vn(t),Ee.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Ts.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Ts.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Ee.waitFor(a).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return Ee.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ee.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),Ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ee.resolve(r)}containsKey(e,t){return Ee.resolve(this.As.containsKey(t))}}class NL{constructor(e,t){this.bs={},this.overlays={},this.Ps=new jo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new KB(this),this.indexManager=new RB,this.remoteDocumentCache=new qB(r=>this.referenceDelegate.Ss(r)),this.wt=new cL(t),this.Ds=new HB(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new zB(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Je("MemoryPersistence","Starting transaction:",e);const i=new QB(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(a=>this.referenceDelegate.xs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ns(e,t){return Ee.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class QB extends class mV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Eb{constructor(e){this.persistence=e,this.ks=new G1,this.Ms=null}static Os(e){return new Eb(e)}get Fs(){if(this.Ms)return this.Ms;throw Mt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),Ee.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Fs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Fs,r=>{const i=dt.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i,Yt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Ee.or([()=>Ee.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class K1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=pn(),i=pn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new K1(e,t.fromCache,r,i)}}class kL{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(a=>a||this.xi(e,t,i,r)).next(a=>a||this.Ni(e,t))}Ci(e,t){if(vP(t))return Ee.resolve(null);let r=$o(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ub(t,null,"F"),r=$o(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=pn(...a);return this.Di.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const y=this.ki(t,h);return this.Mi(t,y,c,p.readTime)?this.Ci(e,ub(t,null,"F")):this.Oi(e,y,t,p)}))})))}xi(e,t,r,i){return vP(t)||i.isEqual(Yt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(a=>{const c=this.ki(t,a);return this.Mi(t,c,r,i)?this.Ni(e,t):(v1()<=Te.in.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),N1(t)),this.Oi(e,c,t,function YO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Yt.fromTimestamp(1e9===r?new Qr(t+1,0):new Qr(t,r));return new Ia(i,dt.empty(),e)}(i,-1)))})}ki(e,t){let r=new hr(function EP(n){return(e,t)=>{let r=!1;for(const i of ty(n)){const a=PV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}(e));return t.forEach((i,a)=>{R1(e,a)&&(r=r.add(a))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ni(e,t){return v1()<=Te.in.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",N1(t)),this.Di.getDocumentsMatchingQuery(e,t,Ia.min())}Oi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class ZB{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new si(an),this.Bi=new Zd(a=>ep(a),G0),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ML(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function PL(n,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,$.Z)(function*(n,e){const t=ft(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],h=[];let p=pn();for(const y of i){c.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of a){h.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(r,p).next(y=>({Ki:y,removedBatchIds:c,addedBatchIds:h}))})})}),Q1.apply(this,arguments)}function JB(n,e){const t=ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const T=p.batch,N=T.keys();let H=Ee.resolve();return N.forEach(K=>{H=H.next(()=>y.getEntry(h,K)).next(se=>{const Ae=p.docVersions.get(K);Zt(null!==Ae),se.version.compareTo(Ae)<0&&(T.applyToRemoteDocument(se,p),se.isValidDocument()&&(se.setReadTime(p.commitVersion),y.addEntry(se)))})}),H.next(()=>c.mutationQueue.removeMutationBatch(h,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=pn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LL(n){const e=ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function ej(n,e){const t=ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class tM{constructor(){this.activeTargetIds=function hb(){return qV}()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HL{constructor(){this.Fr=new tM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new tM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rj{Br(e){}shutdown(){}}class GL{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ij={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sj{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class oj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const c=this.oo(e,t);Je("RestConnection","Sending: ",c,r);const h={};return this.uo(h,i,a),this.co(e,c,h,r).then(p=>(Je("RestConnection","Received: ",p),p),p=>{throw Qm("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",r),p})}ao(e,t,r,i,a,c){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/9.9.2",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${ij[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,c)=>{const h=new sV;h.listenOnce(nV.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case _1.NO_ERROR:const y=h.getResponseJson();Je("Connection","XHR received:",JSON.stringify(y)),a(y);break;case _1.TIMEOUT:Je("Connection",'RPC "'+e+'" timed out'),c(new Ye(xe.DEADLINE_EXCEEDED,"Request time out"));break;case _1.HTTP_ERROR:const T=h.getStatus();if(Je("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const N=h.getResponseJson().error;if(N&&N.status&&N.message){const H=function(K){const se=K.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(se)>=0?se:xe.UNKNOWN}(N.status);c(new Ye(H,N.message))}else c(new Ye(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ye(xe.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{Je("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(t,"POST",p,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=eV(),c=tV(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new iV({})),this.uo(h.initMessageHeaders,t,r),(0,fe.uI)()||(0,fe.b$)()||(0,fe.d)()||(0,fe.w1)()||(0,fe.Mn)()||(0,fe.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=i.join("");Je("Connection","Creating WebChannel: "+p,h);const y=a.createWebChannel(p,h);let T=!1,N=!1;const H=new sj({jr:se=>{N?Je("Connection","Not sending because WebChannel is closed:",se):(T||(Je("Connection","Opening WebChannel transport."),y.open(),T=!0),Je("Connection","WebChannel sending:",se),y.send(se))},Wr:()=>y.close()}),K=(se,Ae,ze)=>{se.listen(Ae,$t=>{try{ze($t)}catch(mn){setTimeout(()=>{throw mn},0)}})};return K(y,XD.EventType.OPEN,()=>{N||Je("Connection","WebChannel transport opened.")}),K(y,XD.EventType.CLOSE,()=>{N||(N=!0,Je("Connection","WebChannel transport closed"),H.eo())}),K(y,XD.EventType.ERROR,se=>{N||(N=!0,Qm("Connection","WebChannel transport errored:",se),H.eo(new Ye(xe.UNAVAILABLE,"The operation could not be completed")))}),K(y,XD.EventType.MESSAGE,se=>{var Ae;if(!N){const ze=se.data[0];Zt(!!ze);const $t=ze,mn=$t.error||(null===(Ae=$t[0])||void 0===Ae?void 0:Ae.error);if(mn){Je("Connection","WebChannel received error:",mn);const kn=mn.status;let fr=function(Ln){const Mi=Ai[Ln];if(void 0!==Mi)return function FP(n){if(void 0===n)return fi("GRPC error has no .code"),xe.UNKNOWN;switch(n){case Ai.OK:return xe.OK;case Ai.CANCELLED:return xe.CANCELLED;case Ai.UNKNOWN:return xe.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return xe.INTERNAL;case Ai.UNAVAILABLE:return xe.UNAVAILABLE;case Ai.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Ai.NOT_FOUND:return xe.NOT_FOUND;case Ai.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Ai.ABORTED:return xe.ABORTED;case Ai.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Ai.DATA_LOSS:return xe.DATA_LOSS;default:return Mt()}}(Mi)}(kn),Gn=mn.message;void 0===fr&&(fr=xe.INTERNAL,Gn="Unknown error status: "+kn+" with message "+mn.message),N=!0,H.eo(new Ye(fr,Gn)),y.close()}else Je("Connection","WebChannel received:",ze),H.no(ze)}}),K(c,rV.STAT_EVENT,se=>{se.stat===GO.PROXY?Je("Connection","Detected buffering proxy"):se.stat===GO.NOPROXY&&Je("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.Zr()},0),H}}function Cb(){return typeof document<"u"?document:null}function lw(n){return new YV(n,!0)}class rM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class cj extends class aj{constructor(e,t,r,i,a,c,h,p){this.js=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new rM(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,$.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,$.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,$.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ye(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,$.Z)(function*(){e.state=0,e.start()}))}qo(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function eB(n,e){return n&&n.length>0?(Zt(void 0!==e),n.map(t=>function(r,i){let a=ms(r.updateTime?r.updateTime:i);return a.isEqual(Yt.min())&&(a=ms(i)),new VV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ms(e.commitTime);return this.listener.Jo(r,t)}return Zt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=function ew(n){return new Vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function tw(n,e){let t;if(e instanceof iy)t={update:YP(n,e.key,e.value)};else if(e instanceof sy)t={delete:X0(n,e.key)};else if(e instanceof Vl)t={update:YP(n,e.key,e.data),updateMask:oB(e.fieldMask)};else{if(!(e instanceof k1))return Mt();t={verify:X0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof ny)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof tp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof np)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ry)return{fieldPath:a.field.canonicalString(),increment:c._t};throw Mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ZV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Mt()),t;var i}(this.wt,r))};this.Oo(t)}}class lj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Ye(xe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ye(xe.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.bo.ao(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(xe.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class dj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(fi(t),this.su=!1):Je("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class hj{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(h=>{r.enqueueAndForget((0,$.Z)(function*(){var p;th(c)&&(Je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,$.Z)(function*(y){const T=ft(y);T.lu.add(4),yield hy(T),T._u.set("Unknown"),T.lu.delete(4),yield dw(T)}),function(y){return p.apply(this,arguments)})(c))}))}),this._u=new dj(r,i)}}function dw(n){return iM.apply(this,arguments)}function iM(){return iM=(0,$.Z)(function*(n){if(th(n))for(const e of n.fu)yield e(!0)}),iM.apply(this,arguments)}function hy(n){return sM.apply(this,arguments)}function sM(){return sM=(0,$.Z)(function*(n){for(const e of n.fu)yield e(!1)}),sM.apply(this,arguments)}function th(n){return 0===ft(n).lu.size}function Ab(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,$.Z)(function*(n,e,t){if(!zd(e))throw e;n.lu.add(1),yield hy(n),n._u.set("Offline"),t||(t=()=>LL(n.localStore)),n.asyncQueue.enqueueRetryable((0,$.Z)(function*(){Je("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield dw(n)}))}),hM.apply(this,arguments)}function KL(n,e){return e().catch(t=>Ab(n,t,e))}function fy(n){return fM.apply(this,arguments)}function fM(){return fM=(0,$.Z)(function*(n){const e=ft(n),t=nh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;mj(e);)try{const i=yield ej(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,yj(e,i)}catch(i){yield Ab(e,i)}QL(e)&&YL(e)}),fM.apply(this,arguments)}function mj(n){return th(n)&&n.au.length<10}function yj(n,e){n.au.push(e);const t=nh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function QL(n){return th(n)&&!nh(n).Do()&&n.au.length>0}function YL(n){nh(n).start()}function _j(n){return pM.apply(this,arguments)}function pM(){return pM=(0,$.Z)(function*(n){nh(n).Xo()}),pM.apply(this,arguments)}function vj(n){return gM.apply(this,arguments)}function gM(){return gM=(0,$.Z)(function*(n){const e=nh(n);for(const t of n.au)e.Ho(t.mutations)}),gM.apply(this,arguments)}function wj(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,$.Z)(function*(n,e,t){const r=n.au.shift(),i=V1.from(r,e,t);yield KL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield fy(n)}),mM.apply(this,arguments)}function Ij(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,$.Z)(function*(n,e){var t;e&&nh(n).zo&&(yield(t=(0,$.Z)(function*(r,i){if(LP(a=i.code)&&a!==xe.ABORTED){const c=r.au.shift();nh(r).No(),yield KL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield fy(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),QL(n)&&YL(n)}),yM.apply(this,arguments)}function ZL(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,$.Z)(function*(n,e){const t=ft(n);t.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const r=th(t);t.lu.add(3),yield hy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield dw(t)}),_M.apply(this,arguments)}function wM(){return wM=(0,$.Z)(function*(n,e){const t=ft(n);e?(t.lu.delete(2),yield dw(t)):e||(t.lu.add(2),yield hy(t),t._u.set("Unknown"))}),wM.apply(this,arguments)}function nh(n){return n.gu||(n.gu=function(e,t,r){const i=ft(e);return i.tu(),new cj(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:_j.bind(null,n),Jr:Ij.bind(null,n),Yo:vj.bind(null,n),Jo:wj.bind(null,n)}),n.fu.push(function(){var e=(0,$.Z)(function*(t){t?(n.gu.No(),yield fy(n)):(yield n.gu.stop(),n.au.length>0&&(Je("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class IM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,h=new IM(e,t,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(n,e){if(fi("AsyncQueue",`${e}: ${n}`),zd(n))return new Ye(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class Tj{constructor(){this.queries=new Zd(e=>wP(e),z0),this.onlineState="Unknown",this.Tu=new Set}}class Mj{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Zd(h=>wP(h),z0),this.ec=new Map,this.nc=new Set,this.sc=new si(dt.comparator),this.ic=new Map,this.rc=new G1,this.oc={},this.uc=new Map,this.cc=cp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function RM(){return RM=(0,$.Z)(function*(n,e,t){const r=JM(n);try{const i=yield function(a,c){const h=ft(a),p=Qr.now(),y=c.reduce((H,K)=>H.add(K.key),pn());let T,N;return h.persistence.runTransaction("Locally write mutations","readwrite",H=>{let K=Ho(),se=pn();return h.Ui.getEntries(H,y).next(Ae=>{K=Ae,K.forEach((ze,$t)=>{$t.isValidDocument()||(se=se.add(ze))})}).next(()=>h.localDocuments.getOverlayedDocuments(H,K)).next(Ae=>{T=Ae;const ze=[];for(const $t of c){const mn=jV($t,T.get($t.key).overlayedDocument);null!=mn&&ze.push(new Vl($t.key,mn,dP(mn.value.mapValue),Yr.exists(!0)))}return h.mutationQueue.addMutationBatch(H,p,ze,c)}).next(Ae=>{N=Ae;const ze=Ae.applyToLocalDocumentSet(T,se);return h.documentOverlayCache.saveOverlays(H,Ae.batchId,ze)})}).then(()=>({batchId:N.batchId,changes:VP(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,h){let p=a.oc[a.currentUser.toKey()];p||(p=new si(an)),p=p.insert(c,h),a.oc[a.currentUser.toKey()]=p}(r,i.batchId,t),yield Bl(r,i.changes),yield fy(r.remoteStore)}catch(i){const a=gy(i,"Failed to persist write");t.reject(a)}}),RM.apply(this,arguments)}function sF(n,e,t){const r=ft(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((a,c)=>{const h=c.view.Eu(e);h.snapshot&&i.push(h.snapshot)}),function(a,c){const h=ft(a);h.onlineState=c;let p=!1;h.queries.forEach((y,T)=>{for(const N of T.listeners)N.Eu(c)&&(p=!0)}),p&&function xM(n){n.Tu.forEach(e=>{e.next()})}(h)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pj(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,$.Z)(function*(n,e){const t=ft(n),r=e.batch.batchId;try{const i=yield JB(t.localStore,e);VM(t,r,null),UM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bl(t,i)}catch(i){yield Gd(i)}}),PM.apply(this,arguments)}function Lj(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,$.Z)(function*(n,e,t){const r=ft(n);try{const i=yield function(a,c){const h=ft(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(T=>(Zt(null!==T),y=T.keys(),h.mutationQueue.removeMutationBatch(p,T))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);VM(r,e,t),UM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bl(r,i)}catch(i){yield Gd(i)}}),LM.apply(this,arguments)}function UM(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function VM(n,e,t){const r=ft(n);let i=r.oc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Bl(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,$.Z)(function*(n,e,t){const r=ft(n),i=[],a=[],c=[];var h;r.tc.isEmpty()||(r.tc.forEach((h,p)=>{c.push(r.hc(p,e,t).then(y=>{if(y){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),i.push(y);const T=K1.Vi(p.targetId,y);a.push(T)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(h=(0,$.Z)(function*(p,y){const T=ft(p);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Ee.forEach(y,H=>Ee.forEach(H.Pi,K=>T.persistence.referenceDelegate.addReference(N,H.targetId,K)).next(()=>Ee.forEach(H.vi,K=>T.persistence.referenceDelegate.removeReference(N,H.targetId,K)))))}catch(N){if(!zd(N))throw N;Je("LocalStore","Failed to update sequence numbers: "+N)}for(const N of y){const H=N.targetId;if(!N.fromCache){const K=T.$i.get(H),Ae=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);T.$i=T.$i.insert(H,Ae)}}}),function(p,y){return h.apply(this,arguments)})(r.localStore,a))}),$M.apply(this,arguments)}function Vj(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,$.Z)(function*(n,e){const t=ft(n);if(!t.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const r=yield PL(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(h=>{h.reject(new Ye(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bl(t,r.Ki)}var i}),HM.apply(this,arguments)}function JM(n){const e=ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lj.bind(null,e),e}class Qj{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$.Z)(function*(){t.wt=lw(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return function OL(n,e,t,r){return new ZB(n,e,t,r)}(this.persistence,new kL,e.initialUser,this.wt)}_c(e){return new NL(Eb.Os,this.wt)}dc(e){return new HL}terminate(){var e=this;return(0,$.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XM{initialize(e,t){var r=this;return(0,$.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vj.bind(null,r.syncEngine),yield function vM(n,e){return wM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tj}createDatastore(e){const t=lw(e.databaseInfo.databaseId),r=new oj(e.databaseInfo);return new lj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>sF(this.syncEngine,h,0),c=GL.V()?new GL:new rj,new hj(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,h,p,y){const T=new Mj(r,i,a,c,h,p);return y&&(T.ac=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$.Z)(function*(t){const r=ft(t);Je("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield hy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class t${constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ps.UNAUTHENTICATED,this.clientId=KO.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,$.Z)(function*(h){Je("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,$.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=gy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function lF(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,$.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,$.Z)(function*(a){r.isEqual(a)||(yield PL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),eN.apply(this,arguments)}function dF(n,e){return tN.apply(this,arguments)}function tN(){return tN=(0,$.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nN(n);Je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ZL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>ZL(e.remoteStore,a)),n.onlineComponents=e}),tN.apply(this,arguments)}function nN(n){return rN.apply(this,arguments)}function rN(){return rN=(0,$.Z)(function*(n){return n.offlineComponents||(Je("FirestoreClient","Using default OfflineComponentProvider"),yield lF(n,new Qj)),n.offlineComponents}),rN.apply(this,arguments)}function iN(){return iN=(0,$.Z)(function*(n){return n.onlineComponents||(Je("FirestoreClient","Using default OnlineComponentProvider"),yield dF(n,new XM)),n.onlineComponents}),iN.apply(this,arguments)}function sN(n){return function Nb(n){return iN.apply(this,arguments)}(n).then(e=>e.syncEngine)}const mF=new Map;function aN(n,e,t){if(!t)throw new Ye(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yF(n){if(!dt.isDocumentKey(n))throw new Ye(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _F(n){if(dt.isDocumentKey(n))throw new Ye(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Mt()}class wF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function l$(n,e,t,r){if(!0===e&&!0===r)throw new Ye(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wF({}),this._settingsFrozen=!1,e instanceof Wd?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ye(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wd(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ye(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oV;switch(t.type){case"gapi":const r=t.client;return Zt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new lV(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ye(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mF.get(e);t&&(Je("ComponentProvider","Removing Datastore"),mF.delete(e),t.terminate())}(this),Promise.resolve()}}class gi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gi(this.firestore,e,this._key)}}class Xs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class Ac extends Xs{constructor(e,t,r){super(e,t,function ey(n){return new Ul(n)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gi(this.firestore,null,new dt(e))}withConverter(e){return new Ac(this.firestore,e,this._path)}}function d$(n,e,...t){if(n=(0,fe.m9)(n),aN("collection","path",e),n instanceof fw){const r=Vn.fromString(e,...t);return _F(r),new Ac(n,null,r)}{if(!(n instanceof gi||n instanceof Ac))throw new Ye(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vn.fromString(e,...t));return _F(r),new Ac(n.firestore,null,r)}}class p${constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new rM(this,"async_queue_retry"),this.Kc=()=>{const t=Cb();t&&Je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Cb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Cb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new gs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,$.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!zd(t))throw t;Je("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=IM.createAndSchedule(this,e,t,r,a=>this.Wc(a));return this.$c.push(i),i}Gc(){this.Bc&&Mt()}verifyOperationInProgress(){}zc(){var e=this;return(0,$.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class Lr extends fw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new p$,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||IF(this),this._firestoreClient.terminate()}}function m$(n=(0,ve.Mq)()){return(0,ve.qX)(n,"firestore").getImmediate()}function IF(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new EV(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new t$(n._authCredentials,n._appCheckCredentials,n._queue,r)}class wy{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dp(Yi.fromBase64String(e))}catch(t){throw new Ye(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dp(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class DF{constructor(e){this._methodName=e}}class cN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}const y$=/^__.*__$/;class _${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new iy(e,this.data,t,this.fieldTransforms)}}function xF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Ob{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Ob(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Lb(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(xF(this.Zc)&&y$.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class v${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||lw(e)}aa(e,t,r,i=!1){return new Ob({Zc:e,methodName:t,ca:r,path:pi.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Iy(n){const e=n._freezeSettings(),t=lw(n._databaseId);return new v$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lN(n,e,t,r,i,a={}){const c=n.aa(a.merge||a.mergeFields?2:0,e,t,i);hN("Data must be an object, but it was:",c,r);const h=NF(r,c);let p,y;if(a.merge)p=new Ea(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const N of a.mergeFields){const H=fN(e,N,t);if(!c.contains(H))throw new Ye(xe.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);kF(T,H)||T.push(H)}p=new Ea(T),y=c.fieldTransforms.filter(N=>p.covers(N.field))}else p=null,y=c.fieldTransforms;return new _$(new Fs(h),p,y)}function hp(n,e){if(RF(n=(0,fe.m9)(n)))return hN("Unsupported field value:",e,n),NF(n,e);if(n instanceof DF)return function(t,r){if(!xF(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let h=hp(c,r.ra(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bP(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qr.fromDate(t);return{timestampValue:J0(r.wt,i)}}if(t instanceof Qr){const i=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:J0(r.wt,i)}}if(t instanceof cN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dp)return{bytesValue:qP(r.wt,t._byteString)};if(t instanceof gi){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:O1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${kb(t)}`)}(n,e)}function NF(n,e){const t={};return tP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yf(n,(r,i)=>{const a=hp(i,e.ea(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function RF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qr||n instanceof cN||n instanceof dp||n instanceof gi||n instanceof DF)}function hN(n,e,t){if(!RF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kb(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function fN(n,e,t){if((e=(0,fe.m9)(e))instanceof wy)return e._internalPath;if("string"==typeof e)return function Pb(n,e,t){if(e.search(T$)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wy(...e.split("."))._internalPath}catch{throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e);throw Lb("Field path arguments must be of type string or ",n,!1,void 0,t)}const T$=new RegExp("[~\\*/\\[\\]]");function Lb(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Ye(xe.INVALID_ARGUMENT,h+n+p)}function kF(n,e){return n.some(t=>t.isEqual(e))}function N$(n,e){const t=function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kb(n);throw new Ye(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}(n.firestore,Lr),r=function h$(n,e,...t){if(n=(0,fe.m9)(n),1===arguments.length&&(e=KO.I()),aN("doc","path",e),n instanceof fw){const r=Vn.fromString(e,...t);return yF(r),new gi(n,null,new dt(r))}{if(!(n instanceof gi||n instanceof Ac))throw new Ye(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vn.fromString(e,...t));return yF(r),new gi(n.firestore,n instanceof Ac?n.converter:null,new dt(r))}}(n),i=function pN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function mw(n,e){return function(t,r){const i=new gs;return t.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function kj(n,e,t){return RM.apply(this,arguments)}(yield sN(t),r,i)})),i.promise}(function Zi(n){return n._firestoreClient||IF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(n),e)}(t,[lN(Iy(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}class Bb{constructor(e){return e}}const HF="firestore",mN=new U.OlP("angularfire2.firestore-instances");function P$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Bb(r)}}const L$={provide:class k${constructor(){return(0,A.vb)(HF)}},deps:[[new U.FiY,mN]]},F$={provide:Bb,useFactory:function O$(n,e){const t=(0,A.JM)(HF,n,e);return t&&new Bb(t)},deps:[[new U.FiY,mN],ne.Ot]};let U$=(()=>{class n{constructor(){(0,ge.KN)("angularfire",A.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U.oAB({type:n}),n.\u0275inj=U.cJS({providers:[F$,L$]}),n})();function V$(n,...e){return{ngModule:U$,providers:[{provide:mN,useFactory:P$(n),multi:!0,deps:[U.R0b,U.zs3,A.HU,ne.z6,[new U.FiY,Yb],[new U.FiY,oI],...e]}]}}const B$=(0,A.u3)(J2,!0),j$=(0,A.u3)(N$,!0),$$=(0,A.u3)(d$,!0),H$=(0,A.u3)(m$,!0)},9316:(Et,Ne,j)=>{j.d(Ne,{q4:()=>I,HU:()=>xu,vb:()=>Pa,JM:()=>bs,u3:()=>Ap});var A=j(8256),U=j(5694),ne=j(5861),$=(j(9752),j(5578));function bo(){return ts.apply(this,arguments)}function ts(){return(ts=(0,ne.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}function Oc(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,ne.Z)(function*(){try{yield(0,$.eu)()}catch{return!1}return typeof window<"u"&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function bp(){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,ne.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}j(1617),j(9357),j(8162);var Cy=j(4408),Jl=j(640);const Sy=new class co extends Jl.v{}(class dr extends Cy.o{constructor(S,L){super(S,L),this.scheduler=S,this.work=L}schedule(S,L=0){return L>0?super.schedule(S,L):(this.delay=L,this.state=S,this.scheduler.flush(this),this)}execute(S,L){return L>0||this.closed?super.execute(S,L):this._execute(S,L)}requestAsyncId(S,L,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(S,L,W):S.flush(this)}});var ci=j(4986),Ds=j(9751),v=j(8505),_=j(9468),m=j(5363);const I=new A.GfV("7.4.1"),b="__angularfire_symbol__analyticsIsSupportedValue",P="__angularfire_symbol__analyticsIsSupported",z="__angularfire_symbol__remoteConfigIsSupportedValue",Z="__angularfire_symbol__remoteConfigIsSupported",we="__angularfire_symbol__messagingIsSupportedValue",Qe="__angularfire_symbol__messagingIsSupported";function bs(D,S,L){if(S){if(1===S.length)return S[0];const Ie=S.filter(Be=>Be.app===L);if(1===Ie.length)return Ie[0]}return L.container.getProvider(D).getImmediate({optional:!0})}globalThis[P]||(globalThis[P]=bp().then(D=>globalThis[b]=D).catch(()=>globalThis[b]=!1)),globalThis[Qe]||(globalThis[Qe]=Oc().then(D=>globalThis[we]=D).catch(()=>globalThis[we]=!1)),globalThis[Z]||(globalThis[Z]=bo().then(D=>globalThis[z]=D).catch(()=>globalThis[z]=!1));const Pa=(D,S)=>{const L=S?[S]:(0,U.C6)(),W=[];return L.forEach(ue=>{ue.container.getProvider(D).instances.forEach(Be=>{W.includes(Be)||W.push(Be)})}),W};function Rr(){}class Du{constructor(S,L=Sy){this.zone=S,this.delegate=L}now(){return this.delegate.now()}schedule(S,L,W){const ue=this.zone;return this.delegate.schedule(function(Be){ue.runGuarded(()=>{S.apply(this,[Be])})},L,W)}}class bu{constructor(S){this.zone=S,this.task=null}call(S,L){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rr,{},Rr,Rr)),L.pipe((0,v.b)({next:W,complete:W,error:W})).subscribe(S).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xu=(()=>{class D{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new Du(Zone.current)),this.insideAngular=L.run(()=>new Du(Zone.current,ci.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(L){return new(L||D)(A.LFG(A.R0b))},D.\u0275prov=A.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function la(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ed(D){return la().ngZone.runOutsideAngular(()=>D())}function La(D){return la().ngZone.run(()=>D())}function fh(D){return la(),function Ay(D){return function(L){return(L=L.lift(new bu(D.ngZone))).pipe((0,_.R)(D.outsideAngular),(0,m.Q)(D.insideAngular))}}(la())(D)}const Sp=(D,S)=>function(){const W=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),La(()=>D.apply(void 0,W))},Ap=(D,S)=>function(){let L;const W=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof W[Ie]&&(S&&(L||(L=La(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rr,{},Rr,Rr)))),W[Ie]=Sp(W[Ie],L));const ue=ed(()=>D.apply(this,W));if(!S){if(ue instanceof Ds.y){const Ie=la();return ue.pipe((0,_.R)(Ie.outsideAngular),(0,m.Q)(Ie.insideAngular))}return La(()=>ue)}return ue instanceof Ds.y?ue.pipe(fh):ue instanceof Promise?La(()=>new Promise((Ie,Be)=>ue.then(ot=>La(()=>Ie(ot)),ot=>La(()=>Be(ot))))):"function"==typeof ue&&L?function(){return setTimeout(()=>{L&&"scheduled"===L.state&&L.invoke()},10),ue.apply(this,arguments)}:La(()=>ue)}},5578:(Et,Ne,j)=>{j.d(Ne,{$s:()=>Ji,BH:()=>et,L:()=>Se,LL:()=>Ge,Mn:()=>_e,US:()=>fe,ZR:()=>le,b$:()=>st,d:()=>We,eu:()=>Ve,hl:()=>ie,m9:()=>hn,ne:()=>Vt,ru:()=>Ct,tV:()=>Te,uI:()=>at,vZ:()=>_t,w1:()=>He,xO:()=>Kt,z$:()=>it,zI:()=>oe});const ge=function(ae){const X=[];let O=0;for(let R=0;R<ae.length;R++){let k=ae.charCodeAt(R);k<128?X[O++]=k:k<2048?(X[O++]=k>>6|192,X[O++]=63&k|128):55296==(64512&k)&&R+1<ae.length&&56320==(64512&ae.charCodeAt(R+1))?(k=65536+((1023&k)<<10)+(1023&ae.charCodeAt(++R)),X[O++]=k>>18|240,X[O++]=k>>12&63|128,X[O++]=k>>6&63|128,X[O++]=63&k|128):(X[O++]=k>>12|224,X[O++]=k>>6&63|128,X[O++]=63&k|128)}return X},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,X){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let k=0;k<ae.length;k+=3){const ce=ae[k],de=k+1<ae.length,Fe=de?ae[k+1]:0,yt=k+2<ae.length,Nt=yt?ae[k+2]:0;let zn=(15&Fe)<<2|Nt>>6,tr=63&Nt;yt||(tr=64,de||(zn=64)),R.push(O[ce>>2],O[(3&ce)<<4|Fe>>4],O[zn],O[tr])}return R.join("")},encodeString(ae,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ae):this.encodeByteArray(ge(ae),X)},decodeString(ae,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ae):function(ae){const X=[];let O=0,R=0;for(;O<ae.length;){const k=ae[O++];if(k<128)X[R++]=String.fromCharCode(k);else if(k>191&&k<224){const ce=ae[O++];X[R++]=String.fromCharCode((31&k)<<6|63&ce)}else if(k>239&&k<365){const yt=((7&k)<<18|(63&ae[O++])<<12|(63&ae[O++])<<6|63&ae[O++])-65536;X[R++]=String.fromCharCode(55296+(yt>>10)),X[R++]=String.fromCharCode(56320+(1023&yt))}else{const ce=ae[O++],de=ae[O++];X[R++]=String.fromCharCode((15&k)<<12|(63&ce)<<6|63&de)}}return X.join("")}(this.decodeStringToByteArray(ae,X))},decodeStringToByteArray(ae,X){this.init_();const O=X?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let k=0;k<ae.length;){const ce=O[ae.charAt(k++)],Fe=k<ae.length?O[ae.charAt(k)]:0;++k;const Nt=k<ae.length?O[ae.charAt(k)]:64;++k;const Bt=k<ae.length?O[ae.charAt(k)]:64;if(++k,null==ce||null==Fe||null==Nt||null==Bt)throw Error();R.push(ce<<2|Fe>>4),64!==Nt&&(R.push(Fe<<4&240|Nt>>2),64!==Bt&&R.push(Nt<<6&192|Bt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}},Se=function(ae){return function(ae){const X=ge(ae);return fe.encodeByteArray(X,!0)}(ae).replace(/\./g,"")},Te=function(ae){try{return fe.decodeString(ae,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,O)=>{this.resolve=X,this.reject=O})}wrapCallback(X){return(O,R)=>{O?this.reject(O):this.resolve(R),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(O):X(O,R))}}}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Ct(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return it().indexOf("Electron/")>=0}function He(){const ae=it();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function _e(){return it().indexOf("MSAppHost/")>=0}function ie(){return"object"==typeof indexedDB}function Ve(){return new Promise((ae,X)=>{try{let O=!0;const R="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(R);k.onsuccess=()=>{k.result.close(),O||self.indexedDB.deleteDatabase(R),ae(!0)},k.onupgradeneeded=()=>{O=!1},k.onerror=()=>{var ce;X((null===(ce=k.error)||void 0===ce?void 0:ce.message)||"")}}catch(O){X(O)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class le extends Error{constructor(X,O,R){super(O),this.code=X,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(X,O,R){this.service=X,this.serviceName=O,this.errors=R}create(X,...O){const R=O[0]||{},k=`${this.service}/${X}`,ce=this.errors[X],de=ce?function Oe(ae,X){return ae.replace(wt,(O,R)=>{const k=X[R];return null!=k?String(k):`<${R}?>`})}(ce,R):"Error";return new le(k,`${this.serviceName}: ${de} (${k}).`,R)}}const wt=/\{\$([^}]+)}/g;function _t(ae,X){if(ae===X)return!0;const O=Object.keys(ae),R=Object.keys(X);for(const k of O){if(!R.includes(k))return!1;const ce=ae[k],de=X[k];if(Gt(ce)&&Gt(de)){if(!_t(ce,de))return!1}else if(ce!==de)return!1}for(const k of R)if(!O.includes(k))return!1;return!0}function Gt(ae){return null!==ae&&"object"==typeof ae}function Kt(ae){const X=[];for(const[O,R]of Object.entries(ae))Array.isArray(R)?R.forEach(k=>{X.push(encodeURIComponent(O)+"="+encodeURIComponent(k))}):X.push(encodeURIComponent(O)+"="+encodeURIComponent(R));return X.length?"&"+X.join("&"):""}function Vt(ae,X){const O=new Sn(ae,X);return O.subscribe.bind(O)}class Sn{constructor(X,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{X(this)}).catch(R=>{this.error(R)})}next(X){this.forEachObserver(O=>{O.next(X)})}error(X){this.forEachObserver(O=>{O.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,O,R){let k;if(void 0===X&&void 0===O&&void 0===R)throw new Error("Missing Observer.");k=function Ni(ae,X){if("object"!=typeof ae||null===ae)return!1;for(const O of X)if(O in ae&&"function"==typeof ae[O])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:O,complete:R},void 0===k.next&&(k.next=Mr),void 0===k.error&&(k.error=Mr),void 0===k.complete&&(k.complete=Mr);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),ce}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,X)}sendOne(X,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{O(this.observers[X])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}function Ji(ae,X=1e3,O=2){const R=X*Math.pow(O,ae),k=Math.round(.5*R*(Math.random()-.5)*2);return Math.min(144e5,R+k)}function hn(ae){return ae&&ae._delegate?ae._delegate:ae}},5694:(Et,Ne,j)=>{j.d(Ne,{C6:()=>A.C6,KN:()=>A.KN,Mq:()=>A.Mq,ZF:()=>A.ZF});var A=j(9752)},4049:(Et,Ne,j)=>{var A=j(1481),U=j(8256),ne=j(6895),ge=j(9646),$=j(9751),fe=j(4351),ve=j(9300),Se=j(4004);class Te{}class re{}class J{constructor(R){this.normalizedNames=new Map,this.lazyUpdate=null,R?this.lazyInit="string"==typeof R?()=>{this.headers=new Map,R.split("\n").forEach(k=>{const ce=k.indexOf(":");if(ce>0){const de=k.slice(0,ce),Fe=de.toLowerCase(),yt=k.slice(ce+1).trim();this.maybeSetNormalizedName(de,Fe),this.headers.has(Fe)?this.headers.get(Fe).push(yt):this.headers.set(Fe,[yt])}})}:()=>{this.headers=new Map,Object.keys(R).forEach(k=>{let ce=R[k];const de=k.toLowerCase();"string"==typeof ce&&(ce=[ce]),ce.length>0&&(this.headers.set(de,ce),this.maybeSetNormalizedName(k,de))})}:this.headers=new Map}has(R){return this.init(),this.headers.has(R.toLowerCase())}get(R){this.init();const k=this.headers.get(R.toLowerCase());return k&&k.length>0?k[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(R){return this.init(),this.headers.get(R.toLowerCase())||null}append(R,k){return this.clone({name:R,value:k,op:"a"})}set(R,k){return this.clone({name:R,value:k,op:"s"})}delete(R,k){return this.clone({name:R,value:k,op:"d"})}maybeSetNormalizedName(R,k){this.normalizedNames.has(k)||this.normalizedNames.set(k,R)}init(){this.lazyInit&&(this.lazyInit instanceof J?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(R=>this.applyUpdate(R)),this.lazyUpdate=null))}copyFrom(R){R.init(),Array.from(R.headers.keys()).forEach(k=>{this.headers.set(k,R.headers.get(k)),this.normalizedNames.set(k,R.normalizedNames.get(k))})}clone(R){const k=new J;return k.lazyInit=this.lazyInit&&this.lazyInit instanceof J?this.lazyInit:this,k.lazyUpdate=(this.lazyUpdate||[]).concat([R]),k}applyUpdate(R){const k=R.name.toLowerCase();switch(R.op){case"a":case"s":let ce=R.value;if("string"==typeof ce&&(ce=[ce]),0===ce.length)return;this.maybeSetNormalizedName(R.name,k);const de=("a"===R.op?this.headers.get(k):void 0)||[];de.push(...ce),this.headers.set(k,de);break;case"d":const Fe=R.value;if(Fe){let yt=this.headers.get(k);if(!yt)return;yt=yt.filter(Nt=>-1===Fe.indexOf(Nt)),0===yt.length?(this.headers.delete(k),this.normalizedNames.delete(k)):this.headers.set(k,yt)}else this.headers.delete(k),this.normalizedNames.delete(k)}}forEach(R){this.init(),Array.from(this.normalizedNames.keys()).forEach(k=>R(this.normalizedNames.get(k),this.headers.get(k)))}}class et{encodeKey(R){return bt(R)}encodeValue(R){return bt(R)}decodeKey(R){return decodeURIComponent(R)}decodeValue(R){return decodeURIComponent(R)}}const it=/%(\d[a-f0-9])/gi,at={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(O){return encodeURIComponent(O).replace(it,(R,k)=>at[k]??R)}function mt(O){return`${O}`}class Ct{constructor(R={}){if(this.updates=null,this.cloneFrom=null,this.encoder=R.encoder||new et,R.fromString){if(R.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Me(O,R){const k=new Map;return O.length>0&&O.replace(/^\?/,"").split("&").forEach(de=>{const Fe=de.indexOf("="),[yt,Nt]=-1==Fe?[R.decodeKey(de),""]:[R.decodeKey(de.slice(0,Fe)),R.decodeValue(de.slice(Fe+1))],At=k.get(yt)||[];At.push(Nt),k.set(yt,At)}),k}(R.fromString,this.encoder)}else R.fromObject?(this.map=new Map,Object.keys(R.fromObject).forEach(k=>{const ce=R.fromObject[k],de=Array.isArray(ce)?ce.map(mt):[mt(ce)];this.map.set(k,de)})):this.map=null}has(R){return this.init(),this.map.has(R)}get(R){this.init();const k=this.map.get(R);return k?k[0]:null}getAll(R){return this.init(),this.map.get(R)||null}keys(){return this.init(),Array.from(this.map.keys())}append(R,k){return this.clone({param:R,value:k,op:"a"})}appendAll(R){const k=[];return Object.keys(R).forEach(ce=>{const de=R[ce];Array.isArray(de)?de.forEach(Fe=>{k.push({param:ce,value:Fe,op:"a"})}):k.push({param:ce,value:de,op:"a"})}),this.clone(k)}set(R,k){return this.clone({param:R,value:k,op:"s"})}delete(R,k){return this.clone({param:R,value:k,op:"d"})}toString(){return this.init(),this.keys().map(R=>{const k=this.encoder.encodeKey(R);return this.map.get(R).map(ce=>k+"="+this.encoder.encodeValue(ce)).join("&")}).filter(R=>""!==R).join("&")}clone(R){const k=new Ct({encoder:this.encoder});return k.cloneFrom=this.cloneFrom||this,k.updates=(this.updates||[]).concat(R),k}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(R=>this.map.set(R,this.cloneFrom.map.get(R))),this.updates.forEach(R=>{switch(R.op){case"a":case"s":const k=("a"===R.op?this.map.get(R.param):void 0)||[];k.push(mt(R.value)),this.map.set(R.param,k);break;case"d":if(void 0===R.value){this.map.delete(R.param);break}{let ce=this.map.get(R.param)||[];const de=ce.indexOf(mt(R.value));-1!==de&&ce.splice(de,1),ce.length>0?this.map.set(R.param,ce):this.map.delete(R.param)}}}),this.cloneFrom=this.updates=null)}}class We{constructor(){this.map=new Map}set(R,k){return this.map.set(R,k),this}get(R){return this.map.has(R)||this.map.set(R,R.defaultValue()),this.map.get(R)}delete(R){return this.map.delete(R),this}has(R){return this.map.has(R)}keys(){return this.map.keys()}}function _e(O){return typeof ArrayBuffer<"u"&&O instanceof ArrayBuffer}function Xe(O){return typeof Blob<"u"&&O instanceof Blob}function Ke(O){return typeof FormData<"u"&&O instanceof FormData}class Ve{constructor(R,k,ce,de){let Fe;if(this.url=k,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=R.toUpperCase(),function He(O){switch(O){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||de?(this.body=void 0!==ce?ce:null,Fe=de):Fe=ce,Fe&&(this.reportProgress=!!Fe.reportProgress,this.withCredentials=!!Fe.withCredentials,Fe.responseType&&(this.responseType=Fe.responseType),Fe.headers&&(this.headers=Fe.headers),Fe.context&&(this.context=Fe.context),Fe.params&&(this.params=Fe.params)),this.headers||(this.headers=new J),this.context||(this.context=new We),this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=k;else{const Nt=k.indexOf("?");this.urlWithParams=k+(-1===Nt?"?":Nt<k.length-1?"&":"")+yt}}else this.params=new Ct,this.urlWithParams=k}serializeBody(){return null===this.body?null:_e(this.body)||Xe(this.body)||Ke(this.body)||function ie(O){return typeof URLSearchParams<"u"&&O instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ct?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Xe(this.body)?this.body.type||null:_e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ct?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(R={}){const k=R.method||this.method,ce=R.url||this.url,de=R.responseType||this.responseType,Fe=void 0!==R.body?R.body:this.body,yt=void 0!==R.withCredentials?R.withCredentials:this.withCredentials,Nt=void 0!==R.reportProgress?R.reportProgress:this.reportProgress;let At=R.headers||this.headers,Bt=R.params||this.params;const zn=R.context??this.context;return void 0!==R.setHeaders&&(At=Object.keys(R.setHeaders).reduce((tr,qn)=>tr.set(qn,R.setHeaders[qn]),At)),R.setParams&&(Bt=Object.keys(R.setParams).reduce((tr,qn)=>tr.set(qn,R.setParams[qn]),Bt)),new Ve(k,ce,Fe,{params:Bt,headers:At,context:zn,reportProgress:Nt,responseType:de,withCredentials:yt})}}var oe=(()=>((oe=oe||{})[oe.Sent=0]="Sent",oe[oe.UploadProgress=1]="UploadProgress",oe[oe.ResponseHeader=2]="ResponseHeader",oe[oe.DownloadProgress=3]="DownloadProgress",oe[oe.Response=4]="Response",oe[oe.User=5]="User",oe))();class Q{constructor(R,k=200,ce="OK"){this.headers=R.headers||new J,this.status=void 0!==R.status?R.status:k,this.statusText=R.statusText||ce,this.url=R.url||null,this.ok=this.status>=200&&this.status<300}}class ye extends Q{constructor(R={}){super(R),this.type=oe.ResponseHeader}clone(R={}){return new ye({headers:R.headers||this.headers,status:void 0!==R.status?R.status:this.status,statusText:R.statusText||this.statusText,url:R.url||this.url||void 0})}}class le extends Q{constructor(R={}){super(R),this.type=oe.Response,this.body=void 0!==R.body?R.body:null}clone(R={}){return new le({body:void 0!==R.body?R.body:this.body,headers:R.headers||this.headers,status:void 0!==R.status?R.status:this.status,statusText:R.statusText||this.statusText,url:R.url||this.url||void 0})}}class Ge extends Q{constructor(R){super(R,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${R.url||"(unknown url)"}`:`Http failure response for ${R.url||"(unknown url)"}: ${R.status} ${R.statusText}`,this.error=R.error||null}}function Oe(O,R){return{body:R,headers:O.headers,context:O.context,observe:O.observe,params:O.params,reportProgress:O.reportProgress,responseType:O.responseType,withCredentials:O.withCredentials}}let wt=(()=>{class O{constructor(k){this.handler=k}request(k,ce,de={}){let Fe;if(k instanceof Ve)Fe=k;else{let At,Bt;At=de.headers instanceof J?de.headers:new J(de.headers),de.params&&(Bt=de.params instanceof Ct?de.params:new Ct({fromObject:de.params})),Fe=new Ve(k,ce,void 0!==de.body?de.body:null,{headers:At,context:de.context,params:Bt,reportProgress:de.reportProgress,responseType:de.responseType||"json",withCredentials:de.withCredentials})}const yt=(0,ge.of)(Fe).pipe((0,fe.b)(At=>this.handler.handle(At)));if(k instanceof Ve||"events"===de.observe)return yt;const Nt=yt.pipe((0,ve.h)(At=>At instanceof le));switch(de.observe||"body"){case"body":switch(Fe.responseType){case"arraybuffer":return Nt.pipe((0,Se.U)(At=>{if(null!==At.body&&!(At.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return At.body}));case"blob":return Nt.pipe((0,Se.U)(At=>{if(null!==At.body&&!(At.body instanceof Blob))throw new Error("Response is not a Blob.");return At.body}));case"text":return Nt.pipe((0,Se.U)(At=>{if(null!==At.body&&"string"!=typeof At.body)throw new Error("Response is not a string.");return At.body}));default:return Nt.pipe((0,Se.U)(At=>At.body))}case"response":return Nt;default:throw new Error(`Unreachable: unhandled observe type ${de.observe}}`)}}delete(k,ce={}){return this.request("DELETE",k,ce)}get(k,ce={}){return this.request("GET",k,ce)}head(k,ce={}){return this.request("HEAD",k,ce)}jsonp(k,ce){return this.request("JSONP",k,{params:(new Ct).append(ce,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(k,ce={}){return this.request("OPTIONS",k,ce)}patch(k,ce,de={}){return this.request("PATCH",k,Oe(de,ce))}post(k,ce,de={}){return this.request("POST",k,Oe(de,ce))}put(k,ce,de={}){return this.request("PUT",k,Oe(de,ce))}}return O.\u0275fac=function(k){return new(k||O)(U.LFG(Te))},O.\u0275prov=U.Yz7({token:O,factory:O.\u0275fac}),O})();class Ut{constructor(R,k){this.next=R,this.interceptor=k}handle(R){return this.interceptor.intercept(R,this.next)}}const _n=new U.OlP("HTTP_INTERCEPTORS");let Pt=(()=>{class O{intercept(k,ce){return ce.handle(k)}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=U.Yz7({token:O,factory:O.\u0275fac}),O})();const Gt=/^\)\]\}',?\n/;let Kt=(()=>{class O{constructor(k){this.xhrFactory=k}handle(k){if("JSONP"===k.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $.y(ce=>{const de=this.xhrFactory.build();if(de.open(k.method,k.urlWithParams),k.withCredentials&&(de.withCredentials=!0),k.headers.forEach((In,Fn)=>de.setRequestHeader(In,Fn.join(","))),k.headers.has("Accept")||de.setRequestHeader("Accept","application/json, text/plain, */*"),!k.headers.has("Content-Type")){const In=k.detectContentTypeHeader();null!==In&&de.setRequestHeader("Content-Type",In)}if(k.responseType){const In=k.responseType.toLowerCase();de.responseType="json"!==In?In:"text"}const Fe=k.serializeBody();let yt=null;const Nt=()=>{if(null!==yt)return yt;const In=de.statusText||"OK",Fn=new J(de.getAllResponseHeaders()),pr=function Fr(O){return"responseURL"in O&&O.responseURL?O.responseURL:/^X-Request-URL:/m.test(O.getAllResponseHeaders())?O.getResponseHeader("X-Request-URL"):null}(de)||k.url;return yt=new ye({headers:Fn,status:de.status,statusText:In,url:pr}),yt},At=()=>{let{headers:In,status:Fn,statusText:pr,url:Ri}=Nt(),he=null;204!==Fn&&(he=typeof de.response>"u"?de.responseText:de.response),0===Fn&&(Fn=he?200:0);let Y=Fn>=200&&Fn<300;if("json"===k.responseType&&"string"==typeof he){const q=he;he=he.replace(Gt,"");try{he=""!==he?JSON.parse(he):null}catch(me){he=q,Y&&(Y=!1,he={error:me,text:he})}}Y?(ce.next(new le({body:he,headers:In,status:Fn,statusText:pr,url:Ri||void 0})),ce.complete()):ce.error(new Ge({error:he,headers:In,status:Fn,statusText:pr,url:Ri||void 0}))},Bt=In=>{const{url:Fn}=Nt(),pr=new Ge({error:In,status:de.status||0,statusText:de.statusText||"Unknown Error",url:Fn||void 0});ce.error(pr)};let zn=!1;const tr=In=>{zn||(ce.next(Nt()),zn=!0);let Fn={type:oe.DownloadProgress,loaded:In.loaded};In.lengthComputable&&(Fn.total=In.total),"text"===k.responseType&&!!de.responseText&&(Fn.partialText=de.responseText),ce.next(Fn)},qn=In=>{let Fn={type:oe.UploadProgress,loaded:In.loaded};In.lengthComputable&&(Fn.total=In.total),ce.next(Fn)};return de.addEventListener("load",At),de.addEventListener("error",Bt),de.addEventListener("timeout",Bt),de.addEventListener("abort",Bt),k.reportProgress&&(de.addEventListener("progress",tr),null!==Fe&&de.upload&&de.upload.addEventListener("progress",qn)),de.send(Fe),ce.next({type:oe.Sent}),()=>{de.removeEventListener("error",Bt),de.removeEventListener("abort",Bt),de.removeEventListener("load",At),de.removeEventListener("timeout",Bt),k.reportProgress&&(de.removeEventListener("progress",tr),null!==Fe&&de.upload&&de.upload.removeEventListener("progress",qn)),de.readyState!==de.DONE&&de.abort()}})}}return O.\u0275fac=function(k){return new(k||O)(U.LFG(ne.JF))},O.\u0275prov=U.Yz7({token:O,factory:O.\u0275fac}),O})();const mi=new U.OlP("XSRF_COOKIE_NAME"),Dn=new U.OlP("XSRF_HEADER_NAME");class Ar{}let Vt=(()=>{class O{constructor(k,ce,de){this.doc=k,this.platform=ce,this.cookieName=de,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const k=this.doc.cookie||"";return k!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne.Mx)(k,this.cookieName),this.lastCookieString=k),this.lastToken}}return O.\u0275fac=function(k){return new(k||O)(U.LFG(ne.K0),U.LFG(U.Lbi),U.LFG(mi))},O.\u0275prov=U.Yz7({token:O,factory:O.\u0275fac}),O})(),Sn=(()=>{class O{constructor(k,ce){this.tokenService=k,this.headerName=ce}intercept(k,ce){const de=k.url.toLowerCase();if("GET"===k.method||"HEAD"===k.method||de.startsWith("http://")||de.startsWith("https://"))return ce.handle(k);const Fe=this.tokenService.getToken();return null!==Fe&&!k.headers.has(this.headerName)&&(k=k.clone({headers:k.headers.set(this.headerName,Fe)})),ce.handle(k)}}return O.\u0275fac=function(k){return new(k||O)(U.LFG(Ar),U.LFG(Dn))},O.\u0275prov=U.Yz7({token:O,factory:O.\u0275fac}),O})(),$n=(()=>{class O{constructor(k,ce){this.backend=k,this.injector=ce,this.chain=null}handle(k){if(null===this.chain){const ce=this.injector.get(_n,[]);this.chain=ce.reduceRight((de,Fe)=>new Ut(de,Fe),this.backend)}return this.chain.handle(k)}}return O.\u0275fac=function(k){return new(k||O)(U.LFG(re),U.LFG(U.zs3))},O.\u0275prov=U.Yz7({token:O,factory:O.\u0275fac}),O})(),er=(()=>{class O{static disable(){return{ngModule:O,providers:[{provide:Sn,useClass:Pt}]}}static withOptions(k={}){return{ngModule:O,providers:[k.cookieName?{provide:mi,useValue:k.cookieName}:[],k.headerName?{provide:Dn,useValue:k.headerName}:[]]}}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=U.oAB({type:O}),O.\u0275inj=U.cJS({providers:[Sn,{provide:_n,useExisting:Sn,multi:!0},{provide:Ar,useClass:Vt},{provide:mi,useValue:"XSRF-TOKEN"},{provide:Dn,useValue:"X-XSRF-TOKEN"}]}),O})(),br=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=U.oAB({type:O}),O.\u0275inj=U.cJS({providers:[wt,{provide:Te,useClass:$n},Kt,{provide:re,useExisting:Kt}],imports:[er.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),O})();var Xt=j(2126);const ut=[{path:"reactive",loadChildren:()=>j.e(435).then(j.bind(j,5435)).then(O=>O.ReactiveModule)},{path:"**",redirectTo:"reactive"}];let ht=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=U.oAB({type:O}),O.\u0275inj=U.cJS({imports:[Xt.Bz.forRoot(ut,{useHash:!0}),Xt.Bz]}),O})();const Ur=function(){return["/reactive/tienda"]},Zr=function(){return["/reactive/planes-amd"]},vn=function(){return["/reactive/integral"]},wn=function(){return["/reactive/cotizacion"]};let An=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275cmp=U.Xpm({type:O,selectors:[["app-sidemenu"]],decls:33,vars:8,consts:[[1,"menu"],[1,"amd"],["src","assets/Vector.png",1,"A"],["src","assets/Vector2.png",1,"M"],["src","assets/Vector3.png",1,"D"],[1,"links"],[1,"home"],["src","assets/home.png"],["routerLinkActive","active",3,"routerLink"],["src","assets/flechita.png",1,"flecha"],[1,"planes"],["src","assets/planesx.png"],["src","assets/flechita.png",1,"flecha_dos"],[1,"integral"],["src","assets/integral.png"],["src","assets/flechita.png",1,"flecha_tres"],[1,"cotizacion"],["src","assets/cotizacion.png"]],template:function(k,ce){1&k&&(U.TgZ(0,"div",0)(1,"div",1),U._UZ(2,"img",2)(3,"img",3)(4,"img",4),U.TgZ(5,"h1"),U._uU(6,"Atenci\xf3n M\xe9dica"),U.qZA(),U.TgZ(7,"h2"),U._uU(8,"Domiciliaria"),U.qZA()(),U.TgZ(9,"div",5)(10,"div",6),U._UZ(11,"img",7),U.TgZ(12,"a",8)(13,"h1"),U._uU(14," Tienda "),U.qZA()(),U._UZ(15,"img",9),U.qZA(),U.TgZ(16,"div",10),U._UZ(17,"img",11),U.TgZ(18,"a",8)(19,"h1"),U._uU(20," Planes AMD "),U.qZA()(),U._UZ(21,"img",12),U.qZA(),U.TgZ(22,"div",13),U._UZ(23,"img",14),U.TgZ(24,"a",8)(25,"h1"),U._uU(26," AMD Integral "),U.qZA()(),U._UZ(27,"img",15),U.qZA(),U.TgZ(28,"div",16),U._UZ(29,"img",17),U.TgZ(30,"a",8)(31,"h1"),U._uU(32," Cotizaci\xf3n "),U.qZA()()()()()),2&k&&(U.xp6(12),U.Q6J("routerLink",U.DdM(4,Ur)),U.xp6(6),U.Q6J("routerLink",U.DdM(5,Zr)),U.xp6(6),U.Q6J("routerLink",U.DdM(6,vn)),U.xp6(6),U.Q6J("routerLink",U.DdM(7,wn)))},dependencies:[Xt.yS,Xt.Od],styles:[".menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:25px 50px;gap:10px;box-shadow:10px 10px 50px #2c183d0d;border-radius:0 0 50px 50px;height:100px;width:100%;position:absolute;top:0px;background:#FBFBFB}.A[_ngcontent-%COMP%]{position:relative;top:50px;align-items:flex-start}.M[_ngcontent-%COMP%], .D[_ngcontent-%COMP%]{position:relative;top:50px;left:-2px;align-items:flex-start}.menu[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:relative;left:2.7%;top:34%;color:#2c183d;font-size:11px;font-family:Barlow}.menu[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:relative;left:14%;top:5%;color:#452462;font-size:11px;font-family:Barlow}.home[_ngcontent-%COMP%]{position:absolute;left:220px;top:45px}.home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;left:30px;width:53px;height:22px;top:0px;font-family:Barlow;font-style:normal;font-weight:500;font-size:18px;line-height:22px;letter-spacing:-.01em;color:#cad0d9;flex:none;order:1;flex-grow:0;text-decoration:none}.flecha[_ngcontent-%COMP%]{position:absolute;left:130px;top:20.83%;bottom:20.83%}.planes[_ngcontent-%COMP%]{position:absolute;left:400px;top:45px}.planes[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;left:30px;top:0px;bottom:12.5%;width:90px;height:22px;font-family:Barlow;font-style:normal;font-weight:500;font-size:17px;line-height:22px;letter-spacing:-.01em;color:#cad0d9;flex:none;order:1;flex-grow:0}.flecha_dos[_ngcontent-%COMP%]{position:absolute;left:160px;top:20.83%;bottom:20.83%}.integral[_ngcontent-%COMP%]{position:absolute;left:610px;top:45px}.integral[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;left:30px;top:0px;bottom:12.5%;width:90px;height:22px;font-family:Barlow;font-style:normal;font-weight:500;font-size:16px;line-height:22px;letter-spacing:-.01em;color:#cad0d9;flex:none;order:1;flex-grow:0}.flecha_tres[_ngcontent-%COMP%]{position:absolute;left:170px;top:20.83%;bottom:20.83%}.cotizacion[_ngcontent-%COMP%]{position:absolute;left:830px;top:45px}.cotizacion[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;left:30px;top:0px;bottom:12.5%;width:90px;height:22px;font-family:Barlow;font-style:normal;font-weight:500;font-size:18px;line-height:22px;letter-spacing:-.01em;color:#2c183d;flex:none;order:1;flex-grow:0}.active[_ngcontent-%COMP%]{color:#2c183d}"]}),O})(),Ji=(()=>{class O{constructor(){this.title="primeraprueba"}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275cmp=U.Xpm({type:O,selectors:[["app-root"]],decls:2,vars:0,template:function(k,ce){1&k&&U._UZ(0,"app-sidemenu")(1,"router-outlet")},dependencies:[Xt.lC,An]}),O})(),Jt=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=U.oAB({type:O}),O.\u0275inj=U.cJS({imports:[ne.ez,Xt.Bz]}),O})();var fn=j(3692);const hn_firebase={apiKey:"AIzaSyD5Dga9s6AzhFCwCQyYQm-8Q1CXhRJc-5E",authDomain:"amdproyect-16a51.firebaseapp.com",projectId:"amdproyect-16a51",storageBucket:"amdproyect-16a51.appspot.com",messagingSenderId:"1067793208488",appId:"1:1067793208488:web:8b6b98cf44e38568fade9d",measurementId:"G-GM9S7V9TMR"};var ae=j(5679);let X=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=U.oAB({type:O,bootstrap:[Ji]}),O.\u0275inj=U.cJS({imports:[A.b2,ht,br,Jt,(0,fn.hX)(()=>(0,fn.ZF)(hn_firebase)),(0,ae.Cm)(()=>(0,ae.ad)())]}),O})();(0,U.G48)(),A.q6().bootstrapModule(X).catch(O=>console.error(O))},9751:(Et,Ne,j)=>{j.d(Ne,{y:()=>Se});var A=j(930),U=j(727),ne=j(8822),ge=j(9635),$=j(2416),fe=j(576),ve=j(2806);let Se=(()=>{class De{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const it=new De;return it.source=this,it.operator=Me,it}subscribe(Me,it,at){const bt=function J(De){return De&&De instanceof A.Lv||function re(De){return De&&(0,fe.m)(De.next)&&(0,fe.m)(De.error)&&(0,fe.m)(De.complete)}(De)&&(0,U.Nn)(De)}(Me)?Me:new A.Hp(Me,it,at);return(0,ve.x)(()=>{const{operator:mt,source:Ct}=this;bt.add(mt?mt.call(bt,Ct):Ct?this._subscribe(bt):this._trySubscribe(bt))}),bt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(it){Me.error(it)}}forEach(Me,it){return new(it=Te(it))((at,bt)=>{const mt=new A.Hp({next:Ct=>{try{Me(Ct)}catch(st){bt(st),mt.unsubscribe()}},error:bt,complete:at});this.subscribe(mt)})}_subscribe(Me){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Me)}[ne.L](){return this}pipe(...Me){return(0,ge.U)(Me)(this)}toPromise(Me){return new(Me=Te(Me))((it,at)=>{let bt;this.subscribe(mt=>bt=mt,mt=>at(mt),()=>it(bt))})}}return De.create=et=>new De(et),De})();function Te(De){var et;return null!==(et=De??$.v.Promise)&&void 0!==et?et:Promise}},7579:(Et,Ne,j)=>{j.d(Ne,{x:()=>ve});var A=j(9751),U=j(727);const ge=(0,j(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=j(8737),fe=j(2806);let ve=(()=>{class Te extends A.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const De=new Se(this,this);return De.operator=J,De}_throwIfClosed(){if(this.closed)throw new ge}next(J){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(J)}})}error(J){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:De}=this;for(;De.length;)De.shift().error(J)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:De,isStopped:et,observers:Me}=this;return De||et?U.Lc:(this.currentObservers=null,Me.push(J),new U.w0(()=>{this.currentObservers=null,(0,$.P)(Me,J)}))}_checkFinalizedStatuses(J){const{hasError:De,thrownError:et,isStopped:Me}=this;De?J.error(et):Me&&J.complete()}asObservable(){const J=new A.y;return J.source=this,J}}return Te.create=(re,J)=>new Se(re,J),Te})();class Se extends ve{constructor(re,J){super(),this.destination=re,this.source=J}next(re){var J,De;null===(De=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===De||De.call(J,re)}error(re){var J,De;null===(De=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===De||De.call(J,re)}complete(){var re,J;null===(J=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===J||J.call(re)}_subscribe(re){var J,De;return null!==(De=null===(J=this.source)||void 0===J?void 0:J.subscribe(re))&&void 0!==De?De:U.Lc}}},930:(Et,Ne,j)=>{j.d(Ne,{Hp:()=>at,Lv:()=>De});var A=j(576),U=j(727),ne=j(2416),ge=j(7849),$=j(5032);const fe=Te("C",void 0,void 0);function Te(We,He,_e){return{kind:We,value:He,error:_e}}var re=j(3410),J=j(2806);class De extends U.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,U.Nn)(He)&&He.add(this)):this.destination=st}static create(He,_e,Xe){return new at(He,_e,Xe)}next(He){this.isStopped?Ct(function Se(We){return Te("N",We,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Ct(function ve(We){return Te("E",void 0,We)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Ct(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Me(We,He){return et.call(We,He)}class it{constructor(He){this.partialObserver=He}next(He){const{partialObserver:_e}=this;if(_e.next)try{_e.next(He)}catch(Xe){bt(Xe)}}error(He){const{partialObserver:_e}=this;if(_e.error)try{_e.error(He)}catch(Xe){bt(Xe)}else bt(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(_e){bt(_e)}}}class at extends De{constructor(He,_e,Xe){let Ke;if(super(),(0,A.m)(He)||!He)Ke={next:He??void 0,error:_e??void 0,complete:Xe??void 0};else{let ie;this&&ne.v.useDeprecatedNextContext?(ie=Object.create(He),ie.unsubscribe=()=>this.unsubscribe(),Ke={next:He.next&&Me(He.next,ie),error:He.error&&Me(He.error,ie),complete:He.complete&&Me(He.complete,ie)}):Ke=He}this.destination=new it(Ke)}}function bt(We){ne.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(We):(0,ge.h)(We)}function Ct(We,He){const{onStoppedNotification:_e}=ne.v;_e&&re.z.setTimeout(()=>_e(We,He))}const st={closed:!0,next:$.Z,error:function mt(We){throw We},complete:$.Z}},727:(Et,Ne,j)=>{j.d(Ne,{Lc:()=>fe,w0:()=>$,Nn:()=>ve});var A=j(576);const ne=(0,j(3888).d)(Te=>function(J){Te(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((De,et)=>`${et+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var ge=j(8737);class ${constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Me of J)Me.remove(this);else J.remove(this);const{initialTeardown:De}=this;if((0,A.m)(De))try{De()}catch(Me){re=Me instanceof ne?Me.errors:[Me]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Me of et)try{Se(Me)}catch(it){re=re??[],it instanceof ne?re=[...re,...it.errors]:re.push(it)}}if(re)throw new ne(re)}}add(re){var J;if(re&&re!==this)if(this.closed)Se(re);else{if(re instanceof $){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(re)}}_hasParent(re){const{_parentage:J}=this;return J===re||Array.isArray(J)&&J.includes(re)}_addParent(re){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(re),J):J?[J,re]:re}_removeParent(re){const{_parentage:J}=this;J===re?this._parentage=null:Array.isArray(J)&&(0,ge.P)(J,re)}remove(re){const{_finalizers:J}=this;J&&(0,ge.P)(J,re),re instanceof $&&re._removeParent(this)}}$.EMPTY=(()=>{const Te=new $;return Te.closed=!0,Te})();const fe=$.EMPTY;function ve(Te){return Te instanceof $||Te&&"closed"in Te&&(0,A.m)(Te.remove)&&(0,A.m)(Te.add)&&(0,A.m)(Te.unsubscribe)}function Se(Te){(0,A.m)(Te)?Te():Te.unsubscribe()}},2416:(Et,Ne,j)=>{j.d(Ne,{v:()=>A});const A={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Et,Ne,j)=>{j.d(Ne,{z:()=>$});var A=j(8189),ne=j(3269),ge=j(8996);function $(...fe){return function U(){return(0,A.J)(1)}()((0,ge.D)(fe,(0,ne.yG)(fe)))}},515:(Et,Ne,j)=>{j.d(Ne,{E:()=>U});const U=new(j(9751).y)($=>$.complete())},8996:(Et,Ne,j)=>{j.d(Ne,{D:()=>He});var A=j(8421),U=j(5363),ne=j(9468),fe=j(9751),Se=j(2202),Te=j(576),re=j(9672);function De(_e,Xe){if(!_e)throw new Error("Iterable cannot be null");return new fe.y(Ke=>{(0,re.f)(Ke,Xe,()=>{const ie=_e[Symbol.asyncIterator]();(0,re.f)(Ke,Xe,()=>{ie.next().then(Ve=>{Ve.done?Ke.complete():Ke.next(Ve.value)})},0,!0)})})}var et=j(3670),Me=j(8239),it=j(1144),at=j(6495),bt=j(2206),mt=j(4532),Ct=j(3260);function He(_e,Xe){return Xe?function We(_e,Xe){if(null!=_e){if((0,et.c)(_e))return function ge(_e,Xe){return(0,A.Xf)(_e).pipe((0,ne.R)(Xe),(0,U.Q)(Xe))}(_e,Xe);if((0,it.z)(_e))return function ve(_e,Xe){return new fe.y(Ke=>{let ie=0;return Xe.schedule(function(){ie===_e.length?Ke.complete():(Ke.next(_e[ie++]),Ke.closed||this.schedule())})})}(_e,Xe);if((0,Me.t)(_e))return function $(_e,Xe){return(0,A.Xf)(_e).pipe((0,ne.R)(Xe),(0,U.Q)(Xe))}(_e,Xe);if((0,bt.D)(_e))return De(_e,Xe);if((0,at.T)(_e))return function J(_e,Xe){return new fe.y(Ke=>{let ie;return(0,re.f)(Ke,Xe,()=>{ie=_e[Se.h](),(0,re.f)(Ke,Xe,()=>{let Ve,oe;try{({value:Ve,done:oe}=ie.next())}catch(Q){return void Ke.error(Q)}oe?Ke.complete():Ke.next(Ve)},0,!0)}),()=>(0,Te.m)(ie?.return)&&ie.return()})}(_e,Xe);if((0,Ct.L)(_e))return function st(_e,Xe){return De((0,Ct.Q)(_e),Xe)}(_e,Xe)}throw(0,mt.z)(_e)}(_e,Xe):(0,A.Xf)(_e)}},8421:(Et,Ne,j)=>{j.d(Ne,{Xf:()=>et});var A=j(655),U=j(1144),ne=j(8239),ge=j(9751),$=j(3670),fe=j(2206),ve=j(4532),Se=j(6495),Te=j(3260),re=j(576),J=j(7849),De=j(8822);function et(We){if(We instanceof ge.y)return We;if(null!=We){if((0,$.c)(We))return function Me(We){return new ge.y(He=>{const _e=We[De.L]();if((0,re.m)(_e.subscribe))return _e.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,U.z)(We))return function it(We){return new ge.y(He=>{for(let _e=0;_e<We.length&&!He.closed;_e++)He.next(We[_e]);He.complete()})}(We);if((0,ne.t)(We))return function at(We){return new ge.y(He=>{We.then(_e=>{He.closed||(He.next(_e),He.complete())},_e=>He.error(_e)).then(null,J.h)})}(We);if((0,fe.D)(We))return mt(We);if((0,Se.T)(We))return function bt(We){return new ge.y(He=>{for(const _e of We)if(He.next(_e),He.closed)return;He.complete()})}(We);if((0,Te.L)(We))return function Ct(We){return mt((0,Te.Q)(We))}(We)}throw(0,ve.z)(We)}function mt(We){return new ge.y(He=>{(function st(We,He){var _e,Xe,Ke,ie;return(0,A.mG)(this,void 0,void 0,function*(){try{for(_e=(0,A.KL)(We);!(Xe=yield _e.next()).done;)if(He.next(Xe.value),He.closed)return}catch(Ve){Ke={error:Ve}}finally{try{Xe&&!Xe.done&&(ie=_e.return)&&(yield ie.call(_e))}finally{if(Ke)throw Ke.error}}He.complete()})})(We,He).catch(_e=>He.error(_e))})}},9646:(Et,Ne,j)=>{j.d(Ne,{of:()=>ne});var A=j(3269),U=j(8996);function ne(...ge){const $=(0,A.yG)(ge);return(0,U.D)(ge,$)}},5403:(Et,Ne,j)=>{j.d(Ne,{x:()=>U});var A=j(930);function U(ge,$,fe,ve,Se){return new ne(ge,$,fe,ve,Se)}class ne extends A.Lv{constructor($,fe,ve,Se,Te,re){super($),this.onFinalize=Te,this.shouldUnsubscribe=re,this._next=fe?function(J){try{fe(J)}catch(De){$.error(De)}}:super._next,this._error=Se?function(J){try{Se(J)}catch(De){$.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(J){$.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},4351:(Et,Ne,j)=>{j.d(Ne,{b:()=>ne});var A=j(5577),U=j(576);function ne(ge,$){return(0,U.m)($)?(0,A.z)(ge,$,1):(0,A.z)(ge,1)}},9300:(Et,Ne,j)=>{j.d(Ne,{h:()=>ne});var A=j(4482),U=j(5403);function ne(ge,$){return(0,A.e)((fe,ve)=>{let Se=0;fe.subscribe((0,U.x)(ve,Te=>ge.call($,Te,Se++)&&ve.next(Te)))})}},4004:(Et,Ne,j)=>{j.d(Ne,{U:()=>ne});var A=j(4482),U=j(5403);function ne(ge,$){return(0,A.e)((fe,ve)=>{let Se=0;fe.subscribe((0,U.x)(ve,Te=>{ve.next(ge.call($,Te,Se++))}))})}},9718:(Et,Ne,j)=>{j.d(Ne,{h:()=>U});var A=j(4004);function U(ne){return(0,A.U)(()=>ne)}},8189:(Et,Ne,j)=>{j.d(Ne,{J:()=>ne});var A=j(5577),U=j(4671);function ne(ge=1/0){return(0,A.z)(U.y,ge)}},5577:(Et,Ne,j)=>{j.d(Ne,{z:()=>Se});var A=j(4004),U=j(8421),ne=j(4482),ge=j(9672),$=j(5403),ve=j(576);function Se(Te,re,J=1/0){return(0,ve.m)(re)?Se((De,et)=>(0,A.U)((Me,it)=>re(De,Me,et,it))((0,U.Xf)(Te(De,et))),J):("number"==typeof re&&(J=re),(0,ne.e)((De,et)=>function fe(Te,re,J,De,et,Me,it,at){const bt=[];let mt=0,Ct=0,st=!1;const We=()=>{st&&!bt.length&&!mt&&re.complete()},He=Xe=>mt<De?_e(Xe):bt.push(Xe),_e=Xe=>{Me&&re.next(Xe),mt++;let Ke=!1;(0,U.Xf)(J(Xe,Ct++)).subscribe((0,$.x)(re,ie=>{et?.(ie),Me?He(ie):re.next(ie)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(mt--;bt.length&&mt<De;){const ie=bt.shift();it?(0,ge.f)(re,it,()=>_e(ie)):_e(ie)}We()}catch(ie){re.error(ie)}}))};return Te.subscribe((0,$.x)(re,He,()=>{st=!0,We()})),()=>{at?.()}}(De,et,Te,J)))}},5363:(Et,Ne,j)=>{j.d(Ne,{Q:()=>ge});var A=j(9672),U=j(4482),ne=j(5403);function ge($,fe=0){return(0,U.e)((ve,Se)=>{ve.subscribe((0,ne.x)(Se,Te=>(0,A.f)(Se,$,()=>Se.next(Te),fe),()=>(0,A.f)(Se,$,()=>Se.complete(),fe),Te=>(0,A.f)(Se,$,()=>Se.error(Te),fe)))})}},9468:(Et,Ne,j)=>{j.d(Ne,{R:()=>U});var A=j(4482);function U(ne,ge=0){return(0,A.e)(($,fe)=>{fe.add(ne.schedule(()=>$.subscribe(fe),ge))})}},5698:(Et,Ne,j)=>{j.d(Ne,{q:()=>ge});var A=j(515),U=j(4482),ne=j(5403);function ge($){return $<=0?()=>A.E:(0,U.e)((fe,ve)=>{let Se=0;fe.subscribe((0,ne.x)(ve,Te=>{++Se<=$&&(ve.next(Te),$<=Se&&ve.complete())}))})}},8505:(Et,Ne,j)=>{j.d(Ne,{b:()=>$});var A=j(576),U=j(4482),ne=j(5403),ge=j(4671);function $(fe,ve,Se){const Te=(0,A.m)(fe)||ve||Se?{next:fe,error:ve,complete:Se}:fe;return Te?(0,U.e)((re,J)=>{var De;null===(De=Te.subscribe)||void 0===De||De.call(Te);let et=!0;re.subscribe((0,ne.x)(J,Me=>{var it;null===(it=Te.next)||void 0===it||it.call(Te,Me),J.next(Me)},()=>{var Me;et=!1,null===(Me=Te.complete)||void 0===Me||Me.call(Te),J.complete()},Me=>{var it;et=!1,null===(it=Te.error)||void 0===it||it.call(Te,Me),J.error(Me)},()=>{var Me,it;et&&(null===(Me=Te.unsubscribe)||void 0===Me||Me.call(Te)),null===(it=Te.finalize)||void 0===it||it.call(Te)}))}):ge.y}},4408:(Et,Ne,j)=>{j.d(Ne,{o:()=>$});var A=j(727);class U extends A.w0{constructor(ve,Se){super()}schedule(ve,Se=0){return this}}const ne={setInterval(fe,ve,...Se){const{delegate:Te}=ne;return Te?.setInterval?Te.setInterval(fe,ve,...Se):setInterval(fe,ve,...Se)},clearInterval(fe){const{delegate:ve}=ne;return(ve?.clearInterval||clearInterval)(fe)},delegate:void 0};var ge=j(8737);class $ extends U{constructor(ve,Se){super(ve,Se),this.scheduler=ve,this.work=Se,this.pending=!1}schedule(ve,Se=0){if(this.closed)return this;this.state=ve;const Te=this.id,re=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(re,Te,Se)),this.pending=!0,this.delay=Se,this.id=this.id||this.requestAsyncId(re,this.id,Se),this}requestAsyncId(ve,Se,Te=0){return ne.setInterval(ve.flush.bind(ve,this),Te)}recycleAsyncId(ve,Se,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Se;ne.clearInterval(Se)}execute(ve,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(ve,Se);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Se){let re,Te=!1;try{this.work(ve)}catch(J){Te=!0,re=J||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Se}=this,{actions:Te}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(Te,this),null!=ve&&(this.id=this.recycleAsyncId(Se,ve,null)),this.delay=null,super.unsubscribe()}}}},640:(Et,Ne,j)=>{j.d(Ne,{v:()=>ne});const A={now:()=>(A.delegate||Date).now(),delegate:void 0};class U{constructor($,fe=U.now){this.schedulerActionCtor=$,this.now=fe}schedule($,fe=0,ve){return new this.schedulerActionCtor(this,$).schedule(ve,fe)}}U.now=A.now;class ne extends U{constructor($,fe=U.now){super($,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush($){const{actions:fe}=this;if(this._active)return void fe.push($);let ve;this._active=!0;do{if(ve=$.execute($.state,$.delay))break}while($=fe.shift());if(this._active=!1,ve){for(;$=fe.shift();)$.unsubscribe();throw ve}}}},4986:(Et,Ne,j)=>{j.d(Ne,{P:()=>ge,z:()=>ne});var A=j(4408);const ne=new(j(640).v)(A.o),ge=ne},3410:(Et,Ne,j)=>{j.d(Ne,{z:()=>A});const A={setTimeout(U,ne,...ge){const{delegate:$}=A;return $?.setTimeout?$.setTimeout(U,ne,...ge):setTimeout(U,ne,...ge)},clearTimeout(U){const{delegate:ne}=A;return(ne?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(Et,Ne,j)=>{j.d(Ne,{h:()=>U});const U=function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Ne,j)=>{j.d(Ne,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Et,Ne,j)=>{j.d(Ne,{_6:()=>fe,jO:()=>ge,yG:()=>$});var A=j(576),U=j(3532);function ne(ve){return ve[ve.length-1]}function ge(ve){return(0,A.m)(ne(ve))?ve.pop():void 0}function $(ve){return(0,U.K)(ne(ve))?ve.pop():void 0}function fe(ve,Se){return"number"==typeof ne(ve)?ve.pop():Se}},4742:(Et,Ne,j)=>{j.d(Ne,{D:()=>$});const{isArray:A}=Array,{getPrototypeOf:U,prototype:ne,keys:ge}=Object;function $(ve){if(1===ve.length){const Se=ve[0];if(A(Se))return{args:Se,keys:null};if(function fe(ve){return ve&&"object"==typeof ve&&U(ve)===ne}(Se)){const Te=ge(Se);return{args:Te.map(re=>Se[re]),keys:Te}}}return{args:ve,keys:null}}},8737:(Et,Ne,j)=>{function A(U,ne){if(U){const ge=U.indexOf(ne);0<=ge&&U.splice(ge,1)}}j.d(Ne,{P:()=>A})},3888:(Et,Ne,j)=>{function A(U){const ge=U($=>{Error.call($),$.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}j.d(Ne,{d:()=>A})},1810:(Et,Ne,j)=>{function A(U,ne){return U.reduce((ge,$,fe)=>(ge[$]=ne[fe],ge),{})}j.d(Ne,{n:()=>A})},2806:(Et,Ne,j)=>{j.d(Ne,{O:()=>ge,x:()=>ne});var A=j(2416);let U=null;function ne($){if(A.v.useDeprecatedSynchronousErrorHandling){const fe=!U;if(fe&&(U={errorThrown:!1,error:null}),$(),fe){const{errorThrown:ve,error:Se}=U;if(U=null,ve)throw Se}}else $()}function ge($){A.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=$)}},9672:(Et,Ne,j)=>{function A(U,ne,ge,$=0,fe=!1){const ve=ne.schedule(function(){ge(),fe?U.add(this.schedule(null,$)):this.unsubscribe()},$);if(U.add(ve),!fe)return ve}j.d(Ne,{f:()=>A})},4671:(Et,Ne,j)=>{function A(U){return U}j.d(Ne,{y:()=>A})},1144:(Et,Ne,j)=>{j.d(Ne,{z:()=>A});const A=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(Et,Ne,j)=>{j.d(Ne,{D:()=>U});var A=j(576);function U(ne){return Symbol.asyncIterator&&(0,A.m)(ne?.[Symbol.asyncIterator])}},576:(Et,Ne,j)=>{function A(U){return"function"==typeof U}j.d(Ne,{m:()=>A})},3670:(Et,Ne,j)=>{j.d(Ne,{c:()=>ne});var A=j(8822),U=j(576);function ne(ge){return(0,U.m)(ge[A.L])}},6495:(Et,Ne,j)=>{j.d(Ne,{T:()=>ne});var A=j(2202),U=j(576);function ne(ge){return(0,U.m)(ge?.[A.h])}},8239:(Et,Ne,j)=>{j.d(Ne,{t:()=>U});var A=j(576);function U(ne){return(0,A.m)(ne?.then)}},3260:(Et,Ne,j)=>{j.d(Ne,{L:()=>ge,Q:()=>ne});var A=j(655),U=j(576);function ne($){return(0,A.FC)(this,arguments,function*(){const ve=$.getReader();try{for(;;){const{value:Se,done:Te}=yield(0,A.qq)(ve.read());if(Te)return yield(0,A.qq)(void 0);yield yield(0,A.qq)(Se)}}finally{ve.releaseLock()}})}function ge($){return(0,U.m)($?.getReader)}},3532:(Et,Ne,j)=>{j.d(Ne,{K:()=>U});var A=j(576);function U(ne){return ne&&(0,A.m)(ne.schedule)}},4482:(Et,Ne,j)=>{j.d(Ne,{A:()=>U,e:()=>ne});var A=j(576);function U(ge){return(0,A.m)(ge?.lift)}function ne(ge){return $=>{if(U($))return $.lift(function(fe){try{return ge(fe,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Et,Ne,j)=>{j.d(Ne,{Z:()=>ge});var A=j(4004);const{isArray:U}=Array;function ge($){return(0,A.U)(fe=>function ne($,fe){return U(fe)?$(...fe):$(fe)}($,fe))}},5032:(Et,Ne,j)=>{function A(){}j.d(Ne,{Z:()=>A})},9635:(Et,Ne,j)=>{j.d(Ne,{U:()=>ne,z:()=>U});var A=j(4671);function U(...ge){return ne(ge)}function ne(ge){return 0===ge.length?A.y:1===ge.length?ge[0]:function(fe){return ge.reduce((ve,Se)=>Se(ve),fe)}}},7849:(Et,Ne,j)=>{j.d(Ne,{h:()=>ne});var A=j(2416),U=j(3410);function ne(ge){U.z.setTimeout(()=>{const{onUnhandledError:$}=A.v;if(!$)throw ge;$(ge)})}},4532:(Et,Ne,j)=>{function A(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ne,{z:()=>A})},655:(Et,Ne,j)=>{function ge(oe,Q){var ye={};for(var le in oe)Object.prototype.hasOwnProperty.call(oe,le)&&Q.indexOf(le)<0&&(ye[le]=oe[le]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(le=Object.getOwnPropertySymbols(oe);Ge<le.length;Ge++)Q.indexOf(le[Ge])<0&&Object.prototype.propertyIsEnumerable.call(oe,le[Ge])&&(ye[le[Ge]]=oe[le[Ge]])}return ye}function Se(oe,Q,ye,le){return new(ye||(ye=Promise))(function(Oe,wt){function Ut(gn){try{Pt(le.next(gn))}catch(Cn){wt(Cn)}}function _n(gn){try{Pt(le.throw(gn))}catch(Cn){wt(Cn)}}function Pt(gn){gn.done?Oe(gn.value):function Ge(Oe){return Oe instanceof ye?Oe:new ye(function(wt){wt(Oe)})}(gn.value).then(Ut,_n)}Pt((le=le.apply(oe,Q||[])).next())})}function Te(oe,Q){var le,Ge,Oe,wt,ye={label:0,sent:function(){if(1&Oe[0])throw Oe[1];return Oe[1]},trys:[],ops:[]};return wt={next:Ut(0),throw:Ut(1),return:Ut(2)},"function"==typeof Symbol&&(wt[Symbol.iterator]=function(){return this}),wt;function Ut(Pt){return function(gn){return function _n(Pt){if(le)throw new TypeError("Generator is already executing.");for(;ye;)try{if(le=1,Ge&&(Oe=2&Pt[0]?Ge.return:Pt[0]?Ge.throw||((Oe=Ge.return)&&Oe.call(Ge),0):Ge.next)&&!(Oe=Oe.call(Ge,Pt[1])).done)return Oe;switch(Ge=0,Oe&&(Pt=[2&Pt[0],Oe.value]),Pt[0]){case 0:case 1:Oe=Pt;break;case 4:return ye.label++,{value:Pt[1],done:!1};case 5:ye.label++,Ge=Pt[1],Pt=[0];continue;case 7:Pt=ye.ops.pop(),ye.trys.pop();continue;default:if(!(Oe=(Oe=ye.trys).length>0&&Oe[Oe.length-1])&&(6===Pt[0]||2===Pt[0])){ye=0;continue}if(3===Pt[0]&&(!Oe||Pt[1]>Oe[0]&&Pt[1]<Oe[3])){ye.label=Pt[1];break}if(6===Pt[0]&&ye.label<Oe[1]){ye.label=Oe[1],Oe=Pt;break}if(Oe&&ye.label<Oe[2]){ye.label=Oe[2],ye.ops.push(Pt);break}Oe[2]&&ye.ops.pop(),ye.trys.pop();continue}Pt=Q.call(oe,ye)}catch(gn){Pt=[6,gn],Ge=0}finally{le=Oe=0}if(5&Pt[0])throw Pt[1];return{value:Pt[0]?Pt[1]:void 0,done:!0}}([Pt,gn])}}}function De(oe){var Q="function"==typeof Symbol&&Symbol.iterator,ye=Q&&oe[Q],le=0;if(ye)return ye.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&le>=oe.length&&(oe=void 0),{value:oe&&oe[le++],done:!oe}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function et(oe,Q){var ye="function"==typeof Symbol&&oe[Symbol.iterator];if(!ye)return oe;var Ge,wt,le=ye.call(oe),Oe=[];try{for(;(void 0===Q||Q-- >0)&&!(Ge=le.next()).done;)Oe.push(Ge.value)}catch(Ut){wt={error:Ut}}finally{try{Ge&&!Ge.done&&(ye=le.return)&&ye.call(le)}finally{if(wt)throw wt.error}}return Oe}function at(oe,Q,ye){if(ye||2===arguments.length)for(var Oe,le=0,Ge=Q.length;le<Ge;le++)(Oe||!(le in Q))&&(Oe||(Oe=Array.prototype.slice.call(Q,0,le)),Oe[le]=Q[le]);return oe.concat(Oe||Array.prototype.slice.call(Q))}function bt(oe){return this instanceof bt?(this.v=oe,this):new bt(oe)}function mt(oe,Q,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,le=ye.apply(oe,Q||[]),Oe=[];return Ge={},wt("next"),wt("throw"),wt("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function wt(yn){le[yn]&&(Ge[yn]=function(sr){return new Promise(function(Jn,Xn){Oe.push([yn,sr,Jn,Xn])>1||Ut(yn,sr)})})}function Ut(yn,sr){try{!function _n(yn){yn.value instanceof bt?Promise.resolve(yn.value.v).then(Pt,gn):Cn(Oe[0][2],yn)}(le[yn](sr))}catch(Jn){Cn(Oe[0][3],Jn)}}function Pt(yn){Ut("next",yn)}function gn(yn){Ut("throw",yn)}function Cn(yn,sr){yn(sr),Oe.shift(),Oe.length&&Ut(Oe[0][0],Oe[0][1])}}function st(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,Q=oe[Symbol.asyncIterator];return Q?Q.call(oe):(oe=De(oe),ye={},le("next"),le("throw"),le("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function le(Oe){ye[Oe]=oe[Oe]&&function(wt){return new Promise(function(Ut,_n){!function Ge(Oe,wt,Ut,_n){Promise.resolve(_n).then(function(Pt){Oe({value:Pt,done:Ut})},wt)}(Ut,_n,(wt=oe[Oe](wt)).done,wt.value)})}}}j.d(Ne,{CR:()=>et,FC:()=>mt,Jh:()=>Te,KL:()=>st,XA:()=>De,_T:()=>ge,ev:()=>at,mG:()=>Se,qq:()=>bt})},6895:(Et,Ne,j)=>{j.d(Ne,{Do:()=>st,EM:()=>Xr,HT:()=>$,JF:()=>So,K0:()=>ve,Mx:()=>to,O5:()=>qo,S$:()=>bt,V_:()=>re,Ye:()=>We,b0:()=>Ct,bD:()=>_i,ez:()=>zl,q:()=>ne,sg:()=>Oi,w_:()=>fe});var A=j(8256);let U=null;function ne(){return U}function $(x){U||(U=x)}class fe{}const ve=new A.OlP("DocumentToken");let Se=(()=>{class x{historyGo(C){throw new Error("Not implemented")}}return x.\u0275fac=function(C){return new(C||x)},x.\u0275prov=A.Yz7({token:x,factory:function(){return function Te(){return(0,A.LFG)(J)}()},providedIn:"platform"}),x})();const re=new A.OlP("Location Initialized");let J=(()=>{class x extends Se{constructor(C){super(),this._doc=C,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(C){const B=ne().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",C,!1),()=>B.removeEventListener("popstate",C)}onHashChange(C){const B=ne().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",C,!1),()=>B.removeEventListener("hashchange",C)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(C){this.location.pathname=C}pushState(C,B,ee){De()?this._history.pushState(C,B,ee):this.location.hash=ee}replaceState(C,B,ee){De()?this._history.replaceState(C,B,ee):this.location.hash=ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return x.\u0275fac=function(C){return new(C||x)(A.LFG(ve))},x.\u0275prov=A.Yz7({token:x,factory:function(){return function et(){return new J((0,A.LFG)(ve))}()},providedIn:"platform"}),x})();function De(){return!!window.history.pushState}function Me(x,V){if(0==x.length)return V;if(0==V.length)return x;let C=0;return x.endsWith("/")&&C++,V.startsWith("/")&&C++,2==C?x+V.substring(1):1==C?x+V:x+"/"+V}function it(x){const V=x.match(/#|\?|$/),C=V&&V.index||x.length;return x.slice(0,C-("/"===x[C-1]?1:0))+x.slice(C)}function at(x){return x&&"?"!==x[0]?"?"+x:x}let bt=(()=>{class x{historyGo(C){throw new Error("Not implemented")}}return x.\u0275fac=function(C){return new(C||x)},x.\u0275prov=A.Yz7({token:x,factory:function(){return(0,A.f3M)(Ct)},providedIn:"root"}),x})();const mt=new A.OlP("appBaseHref");let Ct=(()=>{class x extends bt{constructor(C,B){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,A.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Me(this._baseHref,C)}path(C=!1){const B=this._platformLocation.pathname+at(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&C?`${B}${ee}`:B}pushState(C,B,ee,be){const Ue=this.prepareExternalUrl(ee+at(be));this._platformLocation.pushState(C,B,Ue)}replaceState(C,B,ee,be){const Ue=this.prepareExternalUrl(ee+at(be));this._platformLocation.replaceState(C,B,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return x.\u0275fac=function(C){return new(C||x)(A.LFG(Se),A.LFG(mt,8))},x.\u0275prov=A.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),st=(()=>{class x extends bt{constructor(C,B){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(C){const B=Me(this._baseHref,C);return B.length>0?"#"+B:B}pushState(C,B,ee,be){let Ue=this.prepareExternalUrl(ee+at(be));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(C,B,Ue)}replaceState(C,B,ee,be){let Ue=this.prepareExternalUrl(ee+at(be));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(C,B,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return x.\u0275fac=function(C){return new(C||x)(A.LFG(Se),A.LFG(mt,8))},x.\u0275prov=A.Yz7({token:x,factory:x.\u0275fac}),x})(),We=(()=>{class x{constructor(C){this._subject=new A.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const B=this._locationStrategy.getBaseHref();this._baseHref=it(Xe(B)),this._locationStrategy.onPopState(ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:ee.state,type:ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,B=""){return this.path()==this.normalize(C+at(B))}normalize(C){return x.stripTrailingSlash(function _e(x,V){return x&&V.startsWith(x)?V.substring(x.length):V}(this._baseHref,Xe(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,B="",ee=null){this._locationStrategy.pushState(ee,"",C,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+at(B)),ee)}replaceState(C,B="",ee=null){this._locationStrategy.replaceState(ee,"",C,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+at(B)),ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",B){this._urlChangeListeners.forEach(ee=>ee(C,B))}subscribe(C,B,ee){return this._subject.subscribe({next:C,error:B,complete:ee})}}return x.normalizeQueryParams=at,x.joinWithSlash=Me,x.stripTrailingSlash=it,x.\u0275fac=function(C){return new(C||x)(A.LFG(bt))},x.\u0275prov=A.Yz7({token:x,factory:function(){return function He(){return new We((0,A.LFG)(bt))}()},providedIn:"root"}),x})();function Xe(x){return x.replace(/\/index.html$/,"")}function to(x,V){V=encodeURIComponent(V);for(const C of x.split(";")){const B=C.indexOf("="),[ee,be]=-1==B?[C,""]:[C.slice(0,B),C.slice(B+1)];if(ee.trim()===V)return decodeURIComponent(be)}return null}class Nr{constructor(V,C,B,ee){this.$implicit=V,this.ngForOf=C,this.index=B,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class x{constructor(C,B,ee){this._viewContainer=C,this._template=B,this._differs=ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const B=this._viewContainer;C.forEachOperation((ee,be,Ue)=>{if(null==ee.previousIndex)B.createEmbeddedView(this._template,new Nr(ee.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)B.remove(null===be?void 0:be);else if(null!==be){const nt=B.get(be);B.move(nt,Ue),zo(nt,ee)}});for(let ee=0,be=B.length;ee<be;ee++){const nt=B.get(ee).context;nt.index=ee,nt.count=be,nt.ngForOf=this._ngForOf}C.forEachIdentityChange(ee=>{zo(B.get(ee.currentIndex),ee)})}static ngTemplateContextGuard(C,B){return!0}}return x.\u0275fac=function(C){return new(C||x)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},x.\u0275dir=A.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function zo(x,V){x.context.$implicit=V.item}let qo=(()=>{class x{constructor(C,B){this._viewContainer=C,this._context=new Da,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Pi("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Pi("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,B){return!0}}return x.\u0275fac=function(C){return new(C||x)(A.Y36(A.s_b),A.Y36(A.Rgc))},x.\u0275dir=A.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class Da{constructor(){this.$implicit=null,this.ngIf=null}}function Pi(x,V){if(V&&!V.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,A.AaK)(V)}'.`)}let zl=(()=>{class x{}return x.\u0275fac=function(C){return new(C||x)},x.\u0275mod=A.oAB({type:x}),x.\u0275inj=A.cJS({}),x})();const _i="browser";let Xr=(()=>{class x{}return x.\u0275prov=(0,A.Yz7)({token:x,providedIn:"root",factory:()=>new cu((0,A.LFG)(ve),window)}),x})();class cu{constructor(V,C){this.document=V,this.window=C,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const C=function Is(x,V){const C=x.getElementById(V)||x.getElementsByName(V)[0];if(C)return C;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const B=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let ee=B.currentNode;for(;ee;){const be=ee.shadowRoot;if(be){const Ue=be.getElementById(V)||be.querySelector(`[name="${V}"]`);if(Ue)return Ue}ee=B.nextNode()}}return null}(this.document,V);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=V)}}scrollToElement(V){const C=V.getBoundingClientRect(),B=C.left+this.window.pageXOffset,ee=C.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(B-be[0],ee-be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=Fi(this.window.history)||Fi(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Fi(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class So{}},8256:(Et,Ne,j)=>{j.d(Ne,{tb:()=>bm,AFp:()=>Lv,ip1:()=>Tm,CZH:()=>Dm,hGG:()=>tA,z2F:()=>Om,sBO:()=>JT,Sil:()=>Vv,_Vd:()=>Ih,EJc:()=>jS,Xts:()=>Lw,SBq:()=>Eh,lqb:()=>Hi,qLn:()=>nl,vpe:()=>Ja,XFs:()=>It,OlP:()=>Kn,zs3:()=>tc,ZZ4:()=>t0,aQg:()=>n0,soG:()=>Ld,YKP:()=>mv,h0i:()=>lr,PXZ:()=>KS,R0b:()=>Rs,FiY:()=>ti,Lbi:()=>Pd,g9A:()=>Ml,Qsj:()=>$p,FYo:()=>Vy,JOm:()=>ja,tp0:()=>da,Rgc:()=>As,dDg:()=>zS,eoX:()=>GT,q4F:()=>Gw,GfV:()=>Hw,s_b:()=>cs,ifc:()=>Jt,MMx:()=>fm,Lck:()=>hS,eFA:()=>Nf,G48:()=>Vd,Gpc:()=>Ct,f3M:()=>Be,_c5:()=>o0,c2e:()=>FT,zSh:()=>Vw,wAp:()=>Ft,vHH:()=>_e,lri:()=>Hv,rWj:()=>HT,D6c:()=>a0,cg1:()=>Qa,kL8:()=>vl,dqk:()=>fn,sIi:()=>ic,CqO:()=>kg,QGY:()=>Rg,QP$:()=>Sl,F4k:()=>B_,RDi:()=>Gb,AaK:()=>at,qOj:()=>jh,TTD:()=>_i,_Bn:()=>bi,xp6:()=>DI,uIk:()=>zh,ekj:()=>Hg,Suo:()=>vc,Xpm:()=>At,lG2:()=>Ri,Yz7:()=>Kt,cJS:()=>Dn,oAB:()=>In,Yjl:()=>he,Y36:()=>ad,_UZ:()=>Ng,qZA:()=>Jh,TgZ:()=>Zh,n5z:()=>Yc,LFG:()=>ue,$8M:()=>Bi,$Z:()=>RI,NdJ:()=>Xh,CRH:()=>wT,oxw:()=>yE,Q6J:()=>L_,DdM:()=>gm,iGM:()=>vT,LSH:()=>Pw,YNc:()=>fE,_uU:()=>RE,Oqu:()=>_d,hij:()=>Wg});var A=j(8189),U=j(8421),ne=j(515),ge=j(3269),$=j(8996),ve=j(7579),Se=j(727),Te=j(9751),re=j(930),J=j(4482);function et(s,o,...u){if(!0===o)return void s();if(!1===o)return;const l=new re.Hp({next:()=>{l.unsubscribe(),s()}});return o(...u).subscribe(l)}function Me(s){for(let o in s)if(s[o]===Me)return o;throw Error("Could not find renamed property on target object.")}function it(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function at(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(at).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function bt(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const mt=Me({__forward_ref__:Me});function Ct(s){return s.__forward_ref__=Ct,s.toString=function(){return at(this())},s}function st(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(mt)&&s.__forward_ref__===Ct}class _e extends Error{constructor(o,u){super(function Xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Ke(s){return"string"==typeof s?s:null==s?"":String(s)}function ye(s,o){throw new _e(-201,!1)}function or(s,o){null==s&&function un(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ar(s){return Vt(s,Mr)||Vt(s,br)}function Vt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ni(s){return s&&(s.hasOwnProperty(er)||s.hasOwnProperty(xr))?s[er]:null}const Mr=Me({\u0275prov:Me}),er=Me({\u0275inj:Me}),br=Me({ngInjectableDef:Me}),xr=Me({ngInjectorDef:Me});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let Xt;function ht(s){const o=Xt;return Xt=s,o}function Ur(s,o,u){const l=Ar(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&It.Optional?null:void 0!==o?o:void ye(at(s))}function vn(s){return{toString:s}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),Jt=(()=>{return(s=Jt||(Jt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Jt;var s})();const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),X={},O=[],R=Me({\u0275cmp:Me}),k=Me({\u0275dir:Me}),ce=Me({\u0275pipe:Me}),de=Me({\u0275mod:Me}),Fe=Me({\u0275fac:Me}),yt=Me({__NG_ELEMENT_ID__:Me});let Nt=0;function At(s){return vn(()=>{const u=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||O,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Jt.Emulated,id:"c"+Nt++,styles:s.styles||O,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.dependencies,g=s.features;return d.inputs=pr(s.inputs,l),d.outputs=pr(s.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(zn).filter(tr):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(me).filter(tr):null,d})}function zn(s){return Y(s)||q(s)}function tr(s){return null!==s}const qn={};function In(s){return vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||O,declarations:s.declarations||O,imports:s.imports||O,exports:s.exports||O,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(qn[s.id]=s.type),o})}function pr(s,o){if(null==s)return X;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=l,o&&(o[d]=f)}return u}const Ri=At;function he(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Y(s){return s[R]||null}function q(s){return s[k]||null}function me(s){return s[ce]||null}function Re(s,o){const u=s[de]||null;if(!u&&!0===o)throw new Error(`Type ${at(s)} does not have '\u0275mod' property.`);return u}function rr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Br(s){return Array.isArray(s)&&!0===s[1]}function ws(s){return 0!=(8&s.flags)}function $s(s){return 2==(2&s.flags)}function jr(s){return 1==(1&s.flags)}function ai(s){return null!==s.template}function nu(s){return 0!=(256&s[2])}function Gs(s,o){return s.hasOwnProperty(Fe)?s[Fe]:null}class zl{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function _i(){return Li}function Li(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ko),ro}function ro(){const s=Qo(this),o=s?.current;if(o){const u=s.previous;if(u===X)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Ko(s,o,u,l){const d=Qo(s)||function Nc(s,o){return s[uu]=o}(s,{previous:X,current:null}),f=d.current||(d.current={}),g=d.previous,w=this.declaredInputs[u],E=g[w];f[w]=new zl(E&&E.currentValue,o,g===X),s[l]=o}_i.ngInherit=!0;const uu="__ngSimpleChanges__";function Qo(s){return s[uu]||null}function x(s){for(;Array.isArray(s);)s=s[0];return s}function B(s,o){return x(o[s])}function ee(s,o){return x(o[s.index])}function Ue(s,o){return s.data[o]}function cn(s,o){const u=o[s];return rr(u)?u:u[0]}function Nn(s){return 4==(4&s[2])}function bn(s){return 64==(64&s[2])}function Wn(s,o){return null==o?null:s[o]}function Rn(s){s[18]=0}function ur(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const gt={lFrame:kc(null),bindingsEnabled:!0};function Es(){return gt.bindingsEnabled}function Pe(){return gt.lFrame.lView}function dn(){return gt.lFrame.tView}function Hn(){let s=Ma();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ma(){return gt.lFrame.currentTNode}function so(s,o){const u=gt.lFrame;u.currentTNode=s,u.isParent=o}function hu(){return gt.lFrame.isParent}function Ra(){return gt.lFrame.bindingIndex++}function ih(s,o){const u=gt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Kl(o)}function Kl(s){gt.lFrame.currentDirectiveIndex=s}function Rc(){return gt.lFrame.currentQueryIndex}function pu(s){gt.lFrame.currentQueryIndex=s}function Hu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Oa(s,o,u){if(u&It.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&It.Host||(d=Hu(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const l=gt.lFrame=Gu();return l.currentTNode=o,l.lView=s,!0}function gu(s){const o=Gu(),u=s[1];gt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Gu(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?kc(s):o}function kc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function zu(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Oc=zu;function Jo(){const s=zu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ei(){return gt.lFrame.selectedIndex}function qs(s){gt.lFrame.selectedIndex=s}function ir(){const s=gt.lFrame;return Ue(s.tView,s.selectedIndex)}function Vc(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:F}=f;g&&(s.contentHooks||(s.contentHooks=[])).push(-u,g),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-u,E),M&&((s.viewHooks||(s.viewHooks=[])).push(u,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,M)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(u,F)}}function Bc(s,o,u){oo(s,o,3,u)}function Xo(s,o,u,l){(3&s[2])===u&&oo(s,o,u,l)}function yr(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function oo(s,o,u,l){const f=l??-1,g=o.length-1;let w=0;for(let E=void 0!==l?65535&s[18]:0;E<g;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=l&&w>=l)break}else o[E]<0&&(s[18]+=65536),(w<f||-1==f)&&(jc(s,u,o,E),s[18]=(4294901760&s[18])+E+2),E++}function jc(s,o,u,l){const d=u[l]<0,f=u[l+1],w=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class mu{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function Wu(s,o,u){let l=0;for(;l<u.length;){const d=u[l];if("number"==typeof d){if(0!==d)break;l++;const f=u[l++],g=u[l++],w=u[l++];s.setAttribute(o,g,w,f)}else{const f=d,g=u[++l];Gc(f)?s.setProperty(o,f,g):s.setAttribute(o,f,g),l++}}return l}function ah(s){return 3===s||4===s||6===s}function Gc(s){return 64===s.charCodeAt(0)}function _u(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||uh(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function uh(s,o,u,l,d){let f=0,g=s.length;if(-1===o)g=-1;else for(;f<s.length;){const w=s[f++];if("number"==typeof w){if(w===o){g=-1;break}if(w>o){g=f-1;break}}}for(;f<s.length;){const w=s[f];if("number"==typeof w)break;if(w===u){if(null===l)return void(null!==d&&(s[f+1]=d));if(l===s[f+1])return void(s[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==g&&(s.splice(g,0,o),f=g+1),s.splice(f++,0,u),null!==l&&s.splice(f++,0,l),null!==d&&s.splice(f++,0,d)}function zc(s){return-1!==s}function ta(s){return 32767&s}function Ts(s,o){let u=function Tp(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let vu=!0;function Yn(s){const o=vu;return vu=s,o}let wu=0;const ao={};function na(s,o){const u=No(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,ra(l.data,s),ra(o,null),ra(l.blueprint,null));const d=ia(s,o),f=s.injectorIndex;if(zc(d)){const g=ta(d),w=Ts(d,o),E=w[1].data;for(let M=0;M<8;M++)o[f+M]=w[g+M]|E[g+M]}return o[f+8]=d,f}function ra(s,o){s.push(0,0,0,0,0,0,0,0,o)}function No(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ia(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){if(l=Yl(d),null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function sa(s,o,u){!function Ku(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(yt)&&(l=u[yt]),null==l&&(l=u[yt]=wu++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function Ql(s,o,u){if(u&It.Optional)return s;ye()}function Qu(s,o,u,l){if(u&It.Optional&&void 0===l&&(l=null),0==(u&(It.Self|It.Host))){const d=s[9],f=ht(void 0);try{return d?d.get(o,l,u&It.Optional):Ur(o,l,u&It.Optional)}finally{ht(f)}}return Ql(l,0,u)}function Wc(s,o,u,l=It.Default,d){if(null!==s){if(1024&o[2]){const g=function Zc(s,o,u,l,d){let f=s,g=o;for(;null!==f&&null!==g&&1024&g[2]&&!(256&g[2]);){const w=Iu(f,g,u,l|It.Self,ao);if(w!==ao)return w;let E=f.parent;if(!E){const M=g[21];if(M){const F=M.get(u,ao,l);if(F!==ao)return F}E=Yl(g),g=g[15]}f=E}return d}(s,o,u,l,ao);if(g!==ao)return g}const f=Iu(s,o,u,l,ao);if(f!==ao)return f}return Qu(o,u,l,d)}function Iu(s,o,u,l,d){const f=function Dp(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:Qc:o}(u);if("function"==typeof f){if(!Oa(o,s,l))return l&It.Host?Ql(d,0,l):Qu(o,u,l,d);try{const g=f(l);if(null!=g||l&It.Optional)return g;ye()}finally{Oc()}}else if("number"==typeof f){let g=null,w=No(s,o),E=-1,M=l&It.Host?o[16][6]:null;for((-1===w||l&It.SkipSelf)&&(E=-1===w?ia(s,o):o[w+8],-1!==E&&Kc(l,!1)?(g=o[1],w=ta(E),o=Ts(E,o)):w=-1);-1!==w;){const F=o[1];if(Yu(f,w,F.data)){const G=dh(w,o,u,g,l,M);if(G!==ao)return G}E=o[w+8],-1!==E&&Kc(l,o[1].data[w+8]===M)&&Yu(f,w,o)?(g=F,w=ta(E),o=Ts(E,o)):w=-1}}return d}function dh(s,o,u,l,d,f){const g=o[1],w=g.data[s+8],F=oa(w,g,u,null==l?$s(w)&&vu:l!=g&&0!=(3&w.type),d&It.Host&&f===w);return null!==F?Ir(o,g,F,w):ao}function oa(s,o,u,l,d){const f=s.providerIndexes,g=o.data,w=1048575&f,E=s.directiveStart,F=f>>20,te=d?w+F:s.directiveEnd;for(let pe=l?w:w+F;pe<te;pe++){const ke=g[pe];if(pe<E&&u===ke||pe>=E&&ke.type===u)return pe}if(d){const pe=g[E];if(pe&&ai(pe)&&pe.type===u)return E}return null}function Ir(s,o,u,l){let d=s[u];const f=o.data;if(function $c(s){return s instanceof mu}(d)){const g=d;g.resolving&&function Ve(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new _e(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ke(s)}(f[u]));const w=Yn(g.canSeeViewProviders);g.resolving=!0;const E=g.injectImpl?ht(g.injectImpl):null;Oa(s,l,It.Default);try{d=s[u]=g.factory(void 0,f,s,l),o.firstCreatePass&&u>=l.directiveStart&&function Ip(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(l){const g=Li(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==E&&ht(E),Yn(w),g.resolving=!1,Oc()}}return d}function Yu(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Kc(s,o){return!(s&It.Self||s&It.Host&&o)}class Hr{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return Wc(this._tNode,this._lView,o,l,u)}}function Qc(){return new Hr(Hn(),Pe())}function Yc(s){return vn(()=>{const o=s.prototype.constructor,u=o[Fe]||aa(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const f=d[Fe]||aa(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function aa(s){return We(s)?()=>{const o=aa(st(s));return o&&o()}:Gs(s)}function Yl(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Bi(s){return function Ro(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const f=u[d];if(ah(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(Hn(),s)}const Eu="__parameters__";function ua(s,o,u){return vn(()=>{const l=function Jc(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...f){if(this instanceof d)return l.apply(this,f),this;const g=new d(...f);return w.annotation=g,w;function w(E,M,F){const G=E.hasOwnProperty(Eu)?E[Eu]:Object.defineProperty(E,Eu,{value:[]})[Eu];for(;G.length<=F;)G.push(null);return(G[F]=G[F]||[]).push(g),E}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Kn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Kt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ci(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),ci(l,o)):o!==s&&o.push(l)}return o}function Ds(s,o){s.forEach(u=>Array.isArray(u)?Ds(u,o):o(u))}function v(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function _(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Qe(s,o,u){let l=ct(s,o);return l>=0?s[1|l]=u:(l=~l,function P(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Ht(s,o){const u=ct(s,o);if(u>=0)return s[1|u]}function ct(s,o){return function $i(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const f=l+(d-l>>1),g=s[f<<u];if(o===g)return f<<u;g>o?d=f:l=f+1}return~(d<<u)}(s,o,1)}const Ju={},td="__NG_DI_FLAG__",fh="ngTempTokenPath",Sp=/\n/gm,D="__source";let S;function L(s){const o=S;return S=s,o}function W(s,o=It.Default){if(void 0===S)throw new _e(-203,!1);return null===S?Ur(s,void 0,o):S.get(s,o&It.Optional?null:void 0,o)}function ue(s,o=It.Default){return(function ut(){return Xt}()||W)(st(s),o)}function Be(s,o=It.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ue(s,o)}function ot(s){const o=[];for(let u=0;u<s.length;u++){const l=st(s[u]);if(Array.isArray(l)){if(0===l.length)throw new _e(900,!1);let d,f=It.Default;for(let g=0;g<l.length;g++){const w=l[g],E=nn(w);"number"==typeof E?-1===E?d=w.token:f|=E:d=w}o.push(ue(d,f))}else o.push(ue(l))}return o}function Rt(s,o){return s[td]=o,s.prototype[td]=o,s}function nn(s){return s[td]}const ti=Rt(ua("Optional"),8),da=Rt(ua("SkipSelf"),4);let Ny;function Gb(s){Ny=s}class xw{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ec(s){return s instanceof xw?s.changingThisBreaksApplicationSecurity:s}const bN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,CN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var li=(()=>((li=li||{})[li.NONE=0]="NONE",li[li.HTML=1]="HTML",li[li.STYLE=2]="STYLE",li[li.SCRIPT=3]="SCRIPT",li[li.URL=4]="URL",li[li.RESOURCE_URL=5]="RESOURCE_URL",li))();function Pw(s){const o=function Vp(){const s=Pe();return s&&s[12]}();return o?o.sanitize(li.URL,s)||"":function mh(s,o){const u=function Kb(s){return s instanceof xw&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}(s,"URL")?ec(s):function ky(s){return(s=String(s)).match(bN)||s.match(CN)?s:"unsafe:"+s}(Ke(s))}const Lw=new Kn("ENVIRONMENT_INITIALIZER"),ox=new Kn("INJECTOR",-1),ax=new Kn("INJECTOR_DEF_TYPES");class ux{get(o,u=Ju){if(u===Ju){const l=new Error(`NullInjectorError: No provider for ${at(o)}!`);throw l.name="NullInjectorError",l}return u}}function jN(...s){return{\u0275providers:cx(0,s)}}function cx(s,...o){const u=[],l=new Set;let d;return Ds(o,f=>{const g=f;Fw(g,u,[],l)&&(d||(d=[]),d.push(g))}),void 0!==d&&lx(d,u),u}function lx(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];Ds(d,f=>{o.push(f)})}}function Fw(s,o,u,l){if(!(s=st(s)))return!1;let d=null,f=Ni(s);const g=!f&&Y(s);if(f||g){if(g&&!g.standalone)return!1;d=s}else{const E=s.ngModule;if(f=Ni(E),!f)return!1;d=E}const w=l.has(d);if(g){if(w)return!1;if(l.add(d),g.dependencies){const E="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const M of E)Fw(M,o,u,l)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let M;l.add(d);try{Ds(f.imports,F=>{Fw(F,o,u,l)&&(M||(M=[]),M.push(F))})}finally{}void 0!==M&&lx(M,o)}if(!w){const M=Gs(d)||(()=>new d);o.push({provide:d,useFactory:M,deps:O},{provide:ax,useValue:d,multi:!0},{provide:Lw,useValue:()=>ue(d),multi:!0})}const E=f.providers;null==E||w||Ds(E,F=>{o.push(F)})}}return d!==s&&void 0!==s.providers}const $N=Me({provide:String,useValue:Me});function Uw(s){return null!==s&&"object"==typeof s&&$N in s}function rd(s){return"function"==typeof s}const Vw=new Kn("Set Injector scope."),yh={},fx={};let Py;function Gr(){return void 0===Py&&(Py=new ux),Py}class Hi{}class _h extends Hi{constructor(o,u,l,d){super(),this.parent=u,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gi(o,g=>this.processProvider(g)),this.records.set(ox,el(void 0,this)),d.has("environment")&&this.records.set(Hi,el(void 0,this));const f=this.records.get(Vw);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ax.multi,O,It.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=L(this),l=ht(void 0);try{return o()}finally{L(u),ht(l)}}get(o,u=Ju,l=It.Default){this.assertNotDestroyed();const d=L(this),f=ht(void 0);try{if(!(l&It.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function _x(s){return"function"==typeof s||"object"==typeof s&&s instanceof Kn}(o)&&Ar(o);w=E&&this.injectableDefInScope(E)?el(vh(o),yh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&It.Self?Gr():this.parent).get(o,u=l&It.Optional&&u===Ju?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[fh]=g[fh]||[]).unshift(at(o)),d)throw g;return function rn(s,o,u,l){const d=s[fh];throw o[D]&&d.unshift(o[D]),s.message=function jt(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=at(o);if(Array.isArray(o))d=o.map(at).join(" -> ");else if("object"==typeof o){let f=[];for(let g in o)if(o.hasOwnProperty(g)){let w=o[g];f.push(g+":"+("string"==typeof w?JSON.stringify(w):at(w)))}d=`{${f.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(Sp,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[fh]=null,s}(g,o,"R3InjectorError",this.source)}throw g}finally{ht(f),L(d)}}resolveInjectorInitializers(){const o=L(this),u=ht(void 0);try{const l=this.get(Lw.multi,O,It.Self);for(const d of l)d()}finally{L(o),ht(u)}}toString(){const o=[],u=this.records;for(const l of u.keys())o.push(at(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(o){let u=rd(o=st(o))?o:st(o&&o.provide);const l=function gx(s){return Uw(s)?el(void 0,s.useValue):el(Bw(s),yh)}(o);if(rd(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=el(void 0,yh,!0),d.factory=()=>ot(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,l)}hydrate(o,u){return u.value===yh&&(u.value=fx,u.value=u.factory()),"object"==typeof u.value&&u.value&&function yx(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=st(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function vh(s){const o=Ar(s),u=null!==o?o.factory:Gs(s);if(null!==u)return u;if(s instanceof Kn)throw new _e(204,!1);if(s instanceof Function)return function px(s){const o=s.length;if(o>0)throw function m(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?"),new _e(204,!1);const u=function Sn(s){const o=s&&(s[Mr]||s[br]);if(o){const u=function $n(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new _e(204,!1)}function Bw(s,o,u){let l;if(rd(s)){const d=st(s);return Gs(d)||vh(d)}if(Uw(s))l=()=>st(s.useValue);else if(function hx(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...ot(s.deps||[]));else if(function dx(s){return!(!s||!s.useExisting)}(s))l=()=>ue(st(s.useExisting));else{const d=st(s&&(s.useClass||s.provide));if(!function mx(s){return!!s.deps}(s))return Gs(d)||vh(d);l=()=>new d(...ot(s.deps))}return l}function el(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function vx(s){return!!s.\u0275providers}function Gi(s,o){for(const u of s)Array.isArray(u)?Gi(u,o):vx(u)?Gi(u.\u0275providers,o):o(u)}class Ly{}class Uy{resolveComponentFactory(o){throw function Fy(s){const o=Error(`No component factory found for ${at(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ih=(()=>{class s{}return s.NULL=new Uy,s})();function wx(){return id(Hn(),Pe())}function id(s,o){return new Eh(ee(s,o))}let Eh=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=wx,s})();function Ix(s){return s instanceof Eh?s.nativeElement:s}class Vy{}let $p=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function $w(){const s=Pe(),u=cn(Hn().index,s);return(rr(u)?u:s)[11]}(),s})(),Ex=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class Hw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Gw=new Hw("14.1.1"),By={};function Dh(s){return s.ngOriginalError}class nl{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Dh(o);for(;u&&Dh(u);)u=Dh(u);return u||null}}const Gy=new Map;let Mx=0;const zy="__ngContext__";function is(s,o){rr(o)?(s[zy]=o[20],function Rx(s){Gy.set(s[20],s)}(o)):s[zy]=o}function xh(s){const o=s[zy];return"number"==typeof o?function tI(s){return Gy.get(s)||null}(o):o||null}function Wp(s){const o=xh(s);return o?rr(o)?o:o.lView:null}const WN=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(fn))();function ha(s){return s instanceof Function?s():s}var ja=(()=>((ja=ja||{})[ja.Important=1]="Important",ja[ja.DashCase=2]="DashCase",ja))();function cI(s,o){return undefined(s,o)}function Kp(s){const o=s[3];return Br(o)?o[3]:o}function dI(s){return hI(s[13])}function Ch(s){return hI(s[4])}function hI(s){for(;null!==s&&!Br(s);)s=s[4];return s}function il(s,o,u,l,d){if(null!=l){let f,g=!1;Br(l)?f=l:rr(l)&&(g=!0,l=l[0]);const w=x(l);0===s&&null!==u?null==d?zx(o,u,w):sl(o,u,w,d||null,!0):1===s&&null!==u?sl(o,u,w,d||null,!0):2===s?function Wx(s,o,u){const l=Jy(s,o);l&&function tR(s,o,u,l){s.removeChild(o,u,l)}(s,l,o,u)}(o,w,g):3===s&&o.destroyNode(w),null!=f&&function iR(s,o,u,l,d){const f=u[7];f!==x(u)&&il(o,s,l,f,d);for(let w=10;w<u.length;w++){const E=u[w];Zp(E[1],E,s,o,l,f)}}(o,s,f,u,d)}}function Qp(s,o,u){return s.createElement(o,u)}function Sh(s,o){const u=s[9],l=u.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,ur(d,-1)),u.splice(l,1)}function Zy(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&Sh(d,l),o>0&&(s[u-1][4]=l[4]);const f=_(s,10+o);!function fI(s,o){Zp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const g=f[19];null!==g&&g.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function gI(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&Zp(s,o,u,3,null,null),function jx(s){let o=s[13];if(!o)return mI(s[1],s);for(;o;){let u=null;if(rr(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)rr(o)&&mI(o[1],o),o=o[3];null===o&&(o=s),rr(o)&&mI(o[1],o),u=o&&o[4]}o=u}}(o)}}function mI(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Gx(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof mu)){const f=u[l+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const w=d[f[g]],E=f[g+1];try{E.call(w)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function Hx(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const g=u[f+1],w="function"==typeof g?g(o):x(o[g]),E=l[d=u[f+2]],M=u[f+3];"boolean"==typeof M?w.removeEventListener(u[f],E,M):M>=0?l[d=M]():l[d=-M].unsubscribe(),f+=2}else{const g=l[d=u[f+1]];u[f].call(g)}if(null!==l){for(let f=d+1;f<l.length;f++)(0,l[f])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Br(o[3])){u!==o[3]&&Sh(u,o);const l=o[19];null!==l&&l.detachView(s)}!function kx(s){Gy.delete(s[20])}(o)}}function yI(s,o,u){return function _I(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Jt.None||d===Jt.Emulated)return null}return ee(l,u)}(s,o.parent,u)}function sl(s,o,u,l,d){s.insertBefore(o,u,l,d)}function zx(s,o,u){s.appendChild(o,u)}function qx(s,o,u,l,d){null!==l?sl(s,o,u,l,d):zx(s,o,u)}function Jy(s,o){return s.parentNode(o)}let Xy=function Yp(s,o,u){return 40&s.type?ee(s,u):null};function Ah(s,o,u,l){const d=yI(s,l,o),f=o[11],w=function vI(s,o,u){return Xy(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let E=0;E<u.length;E++)qx(f,d,u[E],w,!1);else qx(f,d,u,w,!1)}function t_(s,o){if(null!==o){const u=o.type;if(3&u)return ee(o,s);if(4&u)return II(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return t_(s,l);{const d=s[o.index];return Br(d)?II(-1,d):x(d)}}if(32&u)return cI(o,s)()||x(s[o.index]);{const l=Mh(s,o);return null!==l?Array.isArray(l)?l[0]:t_(Kp(s[16]),l):t_(s,o.next)}}return null}function Mh(s,o){return null!==o?s[16][6].projection[o.projection]:null}function II(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return t_(l,d)}return o[7]}function EI(s,o,u,l,d,f,g){for(;null!=u;){const w=l[u.index],E=u.type;if(g&&0===o&&(w&&is(x(w),l),u.flags|=4),64!=(64&u.flags))if(8&E)EI(s,o,u.child,l,d,f,!1),il(o,s,d,w,f);else if(32&E){const M=cI(u,l);let F;for(;F=M();)il(o,s,d,F,f);il(o,s,d,w,f)}else 16&E?Kx(s,o,l,u,d,f):il(o,s,d,w,f);u=g?u.projectionNext:u.next}}function Zp(s,o,u,l,d,f){EI(u,l,s.firstChild,o,d,f,!1)}function Kx(s,o,u,l,d,f){const g=u[16],E=g[6].projection[l.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)il(o,s,d,E[M],f);else EI(s,o,E,g[3],d,f,!0)}function TI(s,o,u){s.setAttribute(o,"style",u)}function Jp(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function Qx(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===l||s.charCodeAt(d+f)<=32)return d}u=d+1}}const Yx="ng-template";function oR(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==Qx(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Zx(s){return 4===s.type&&s.value!==Yx}function Jx(s,o,u){return o===(4!==s.type||u?s.value:Yx)}function aR(s,o,u){let l=4;const d=s.attrs||[],f=function uR(s){for(let o=0;o<s.length;o++)if(ah(s[o]))return o;return s.length}(d);let g=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!g)if(4&l){if(l=2|1&l,""!==E&&!Jx(s,E,u)||""===E&&1===o.length){if(fa(l))return!1;g=!0}}else{const M=8&l?E:o[++w];if(8&l&&null!==s.attrs){if(!oR(s.attrs,M,u)){if(fa(l))return!1;g=!0}continue}const G=n_(8&l?"class":E,d,Zx(s),u);if(-1===G){if(fa(l))return!1;g=!0;continue}if(""!==M){let te;te=G>f?"":d[G+1].toLowerCase();const pe=8&l?te:null;if(pe&&-1!==Qx(pe,M,0)||2&l&&M!==te){if(fa(l))return!1;g=!0}}}}else{if(!g&&!fa(l)&&!fa(E))return!1;if(g&&fa(E))continue;g=!1,l=E|1&l}}return fa(l)||g}function fa(s){return 0==(1&s)}function n_(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let f=!1;for(;d<o.length;){const g=o[d];if(g===s)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function cR(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function Xx(s,o,u=!1){for(let l=0;l<o.length;l++)if(aR(s,o[l],u))return!0;return!1}function eC(s,o){return s?":not("+o.trim()+")":o}function dR(s){let o=s[0],u=1,l=2,d="",f=!1;for(;u<s.length;){let g=s[u];if("string"==typeof g)if(2&l){const w=s[++u];d+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+g:4&l&&(d+=" "+g);else""!==d&&!fa(g)&&(o+=eC(f,d),d=""),l=g,f=f||!fa(l);u++}return""!==d&&(o+=eC(f,d)),o}const en={};function DI(s){rC(dn(),Pe(),ei()+s,!1)}function rC(s,o,u,l){if(!l)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&Bc(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Xo(o,f,0,u)}qs(u)}function eg(s,o=null,u=null,l){const d=Pn(s,o,u,l);return d.resolveInjectorInitializers(),d}function Pn(s,o=null,u=null,l,d=new Set){const f=[u||O,jN(s)];return l=l||("object"==typeof s?void 0:at(s)),new _h(f,o||Gr(),l||null,d)}let tc=(()=>{class s{static create(u,l){if(Array.isArray(u))return eg({name:""},l,u,"");{const d=u.name??"";return eg({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=Ju,s.NULL=new ux,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>ue(ox)}),s.__NG_ELEMENT_ID__=-1,s})();function ad(s,o=It.Default){const u=Pe();return null===u?ue(s,o):Wc(Hn(),u,st(s),o)}function RI(){throw new Error("invalid")}function rg(s,o){return s<<17|o<<2}function pa(s){return s>>17&32767}function Au(s){return 2|s}function ko(s){return(131068&s)>>2}function c_(s,o){return-131069&s|o<<2}function Nh(s){return 1|s}function os(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],f=u[l+1];if(-1!==f){const g=s.data[f];pu(d),g.contentQueries(2,o[f],f)}}}function ud(s,o,u,l,d,f,g,w,E,M,F){const G=o.blueprint.slice();return G[0]=d,G[2]=76|l,(null!==F||s&&1024&s[2])&&(G[2]|=1024),Rn(G),G[3]=G[15]=s,G[8]=u,G[10]=g||s&&s[10],G[11]=w||s&&s[11],G[12]=E||s&&s[12]||null,G[9]=M||s&&s[9]||null,G[6]=f,G[20]=function Nx(){return Mx++}(),G[21]=F,G[16]=2==o.type?s[16]:G,G}function al(s,o,u,l,d){let f=s.data[o];if(null===f)f=function ug(s,o,u,l,d){const f=Ma(),g=hu(),E=s.data[o]=function SC(s,o,u,l,d,f){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=E),null!==f&&(g?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(s,o,u,l,d),function _p(){return gt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=l,f.attrs=d;const g=function Ao(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return so(f,!0),f}function ul(s,o,u,l){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function cd(s,o,u){gu(o);try{const l=s.viewQuery;null!==l&&Tg(1,l,u);const d=s.template;null!==d&&cl(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&os(s,o),s.staticViewQueries&&Tg(2,s.viewQuery,u);const f=s.components;null!==f&&function jI(s,o){for(let u=0;u<o.length;u++)b_(s,o[u])}(o,f)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Jo()}}function Oh(s,o,u,l){const d=o[2];if(128!=(128&d)){gu(o);try{Rn(o),function Na(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&cl(s,o,u,2,l);const g=3==(3&d);if(g){const M=s.preOrderCheckHooks;null!==M&&Bc(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Xo(o,M,0,null),yr(o,0)}if(function wi(s){for(let o=dI(s);null!==o;o=Ch(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],f=d[3];0==(512&d[2])&&ur(f,1),d[2]|=512}}}(o),function D_(s){for(let o=dI(s);null!==o;o=Ch(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];bn(l)&&Oh(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&os(s,o),g){const M=s.contentCheckHooks;null!==M&&Bc(o,M)}else{const M=s.contentHooks;null!==M&&Xo(o,M,1),yr(o,1)}!function __(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)qs(~d);else{const f=d,g=u[++l],w=u[++l];ih(g,f),w(2,o[f])}}}finally{qs(-1)}}(s,o);const w=s.components;null!==w&&function BI(s,o){for(let u=0;u<o.length;u++)qi(s,o[u])}(o,w);const E=s.viewQuery;if(null!==E&&Tg(2,E,l),g){const M=s.viewCheckHooks;null!==M&&Bc(o,M)}else{const M=s.viewHooks;null!==M&&Xo(o,M,2),yr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ur(o[3],-1))}finally{Jo()}}}function CC(s,o,u,l){const d=o[10],g=Nn(o);try{!g&&d.begin&&d.begin(),g&&cd(s,o,l),Oh(s,o,u,l)}finally{!g&&d.end&&d.end()}}function cl(s,o,u,l,d){const f=ei(),g=2&l;try{qs(-1),g&&o.length>22&&rC(s,o,22,!1),u(l,d)}finally{qs(f)}}function Ph(s,o,u){!Es()||(function gg(s,o,u,l){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||na(u,o),is(l,o);const g=u.initialInputs;for(let w=d;w<f;w++){const E=s.data[w],M=ai(E);M&&YI(o,u,E);const F=Ir(o,s,w,u);is(F,o),null!==g&&ZI(0,w-d,F,E,0,g),M&&(cn(u.index,o)[8]=F)}}(s,o,u,ee(u,o)),128==(128&u.flags)&&function mg(s,o,u){const l=u.directiveStart,d=u.directiveEnd,f=u.index,g=function fu(){return gt.lFrame.currentDirectiveIndex}();try{qs(f);for(let w=l;w<d;w++){const E=s.data[w],M=o[w];Kl(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&yg(E,M)}}finally{qs(-1),Kl(g)}}(s,o,u))}function cg(s,o,u=ee){const l=o.localNames;if(null!==l){let d=o.index+1;for(let f=0;f<l.length;f+=2){const g=l[f+1],w=-1===g?u(o,s):s[g];s[d++]=w}}}function $I(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=lg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function lg(s,o,u,l,d,f,g,w,E,M){const F=22+l,G=F+d,te=function dg(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:en);return u}(F,G),pe="function"==typeof M?M():M;return te[1]={type:s,blueprint:te,template:u,queries:null,viewQuery:w,declTNode:o,data:te.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:E,consts:pe,incompleteFirstPass:!1}}function hg(s,o,u,l){const d=bg(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&xg(s).push(l,d.length-1))}function GI(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function fg(s,o){const l=o.directiveEnd,d=s.data,f=o.attrs,g=[];let w=null,E=null;for(let M=o.directiveStart;M<l;M++){const F=d[M],G=F.inputs,te=null===f||Zx(o)?null:NC(G,f);g.push(te),w=GI(G,M,w),E=GI(F.outputs,M,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=g,o.inputs=w,o.outputs=E}function qI(s,o){const u=cn(o,s);16&u[2]||(u[2]|=32)}function ll(s,o,u,l){let d=!1;if(Es()){const f=function I_(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const g=l[f];Xx(u,g.selectors,!1)&&(d||(d=[]),sa(na(u,o),s,g.type),ai(g)?(_g(s,u),d.unshift(g)):d.push(g))}return d}(s,o,u),g=null===l?null:{"":-1};if(null!==f){d=!0,T_(u,s.data.length,f.length);for(let F=0;F<f.length;F++){const G=f[F];G.providersResolver&&G.providersResolver(G)}let w=!1,E=!1,M=ul(s,o,f.length,null);for(let F=0;F<f.length;F++){const G=f[F];u.mergedAttrs=_u(u.mergedAttrs,G.hostAttrs),QI(s,u,o,M,G),KI(M,G,g),null!==G.contentQueries&&(u.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(u.flags|=128);const te=G.type.prototype;!w&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!E&&(te.ngOnChanges||te.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),E=!0),M++}fg(s,u)}g&&function E_(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new _e(-301,!1);l.push(o[d],f)}}}(u,l,g)}return u.mergedAttrs=_u(u.mergedAttrs,u.attrs),d}function WI(s,o,u,l,d,f){const g=f.hostBindings;if(g){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function MC(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=E&&w.push(E),w.push(l,d,g)}}function yg(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function _g(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function KI(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;ai(o)&&(u[""]=s)}}function T_(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function QI(s,o,u,l,d){s.data[l]=d;const f=d.factory||(d.factory=Gs(d.type)),g=new mu(f,ai(d),ad);s.blueprint[l]=g,u[l]=g,WI(s,o,0,l,ul(s,u,d.hostVars,en),d)}function YI(s,o,u){const l=ee(o,s),d=$I(u),f=s[10],g=wg(s,ud(s,d,null,u.onPush?32:16,l,o,f,f.createRenderer(l,u),null,null,null));s[o.index]=g}function ga(s,o,u,l,d,f){const g=ee(s,o);!function Lh(s,o,u,l,d,f,g){if(null==f)s.removeAttribute(o,d,u);else{const w=null==g?Ke(f):g(f,l||"",d);s.setAttribute(o,d,w,u)}}(o[11],g,f,s.value,u,l,d)}function ZI(s,o,u,l,d,f){const g=f[o];if(null!==g){const w=l.setInput;for(let E=0;E<g.length;){const M=g[E++],F=g[E++],G=g[E++];null!==w?l.setInput(u,G,M,F):u[F]=G}}}function NC(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function vg(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function qi(s,o){const u=cn(o,s);if(bn(u)){const l=u[1];48&u[2]?Oh(l,u,l.template,u[8]):u[5]>0&&ld(u)}}function ld(s){for(let l=dI(s);null!==l;l=Ch(l))for(let d=10;d<l.length;d++){const f=l[d];if(512&f[2]){const g=f[1];Oh(g,f,g.template,f[8])}else f[5]>0&&ld(f)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=cn(u[l],s);bn(d)&&d[5]>0&&ld(d)}}function b_(s,o){const u=cn(o,s),l=u[1];(function RC(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),cd(l,u,u[8])}function wg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ig(s){for(;s;){s[2]|=32;const o=Kp(s);if(nu(s)&&!o)return s;s=o}return null}function Eg(s){!function XI(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],l=Wp(u);if(null!==l){const d=l[1];CC(d,l,d.template,u)}}}(s[8])}function Tg(s,o,u){pu(0),o(s,u)}const Dg=(()=>Promise.resolve(null))();function bg(s){return s[7]||(s[7]=[])}function xg(s){return s.cleanup||(s.cleanup=[])}function tE(s,o){const u=s[9],l=u?u.get(nl,null):null;l&&l.handleError(o)}function dl(s,o,u,l,d){for(let f=0;f<u.length;){const g=u[f++],w=u[f++],E=o[g],M=s.data[g];null!==M.setInput?M.setInput(E,d,l,w):E[w]=d}}function Uh(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let g=0;g<o.length;g++){const w=o[g];"number"==typeof w?f=w:1==f?d=bt(d,w):2==f&&(l=bt(l,w+": "+o[++g]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}function Vh(s,o,u,l,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&l.push(x(f)),Br(f))for(let w=10;w<f.length;w++){const E=f[w],M=E[1].firstChild;null!==M&&Vh(E[1],E,M,l)}const g=u.type;if(8&g)Vh(s,o,u.child,l);else if(32&g){const w=cI(u,o);let E;for(;E=w();)l.push(E)}else if(16&g){const w=Mh(o,u);if(Array.isArray(w))l.push(...w);else{const E=Kp(o[16]);Vh(E[1],E,w,l,!0)}}u=d?u.projectionNext:u.next}return l}class rc{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Vh(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Br(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(Zy(o,l),_(u,l))}this._attachedToViewContainer=!1}gI(this._lView[1],this._lView)}onDestroy(o){hg(this._lView[1],this._lView,null,o)}markForCheck(){Ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Fh(s,o,u){const l=o[10];l.begin&&l.begin();try{Oh(s,o,s.template,u)}catch(d){throw tE(o,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pI(s,o){Zp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=o}}class OC extends rc{constructor(o){super(o),this._view=o}detectChanges(){Eg(this._view)}checkNoChanges(){}get context(){return null}}class C_ extends Ih{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Y(o);return new ma(u,this.ngModule)}}function hl(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class LC{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,l){const d=this.injector.get(o,By,l);return d!==By||u===By?d:this.parentInjector.get(o,u,l)}}class ma extends Ly{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function tC(s){return s.map(dR).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return hl(this.componentDef.inputs)}get outputs(){return hl(this.componentDef.outputs)}create(o,u,l,d){let f=(d=d||this.ngModule)instanceof Hi?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new LC(o,f):o,w=g.get(Vy,null);if(null===w)throw new _e(407,!1);const E=g.get(Ex,null),M=w.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",G=l?function w_(s,o,u){return s.selectRootElement(o,u===Jt.ShadowDom)}(M,l,this.componentDef.encapsulation):Qp(w.createRenderer(null,this.componentDef),F,function PC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),te=this.componentDef.onPush?288:272,pe=function sE(s,o){return{components:[],scheduler:s||WN,clean:Dg,playerHandler:o||null,flags:0}}(),ke=lg(0,null,null,1,0,null,null,null,null,null),qe=ud(null,ke,pe,te,null,null,w,M,E,g,null);let rt,pt;gu(qe);try{const kt=function iE(s,o,u,l,d,f){const g=u[1];u[22]=s;const E=al(g,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(Uh(E,M,!0),null!==s&&(Wu(d,s,M),null!==E.classes&&Jp(d,s,E.classes),null!==E.styles&&TI(d,s,E.styles)));const F=l.createRenderer(s,o),G=ud(u,$I(o),null,o.onPush?32:16,u[22],E,l,F,f||null,null,null);return g.firstCreatePass&&(sa(na(E,u),g,o.type),_g(g,E),T_(E,u.length,1)),wg(u,G),u[22]=G}(G,this.componentDef,qe,w,M);if(G)if(l)Wu(M,G,["ng-version",Gw.full]);else{const{attrs:je,classes:Ot}=function nC(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let f=s[l];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++l]):8===d&&u.push(f);else{if(!fa(d))break;d=f}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);je&&Wu(M,G,je),Ot&&Ot.length>0&&Jp(M,G,Ot.join(" "))}if(pt=Ue(ke,22),void 0!==u){const je=pt.projection=[];for(let Ot=0;Ot<this.ngContentSelectors.length;Ot++){const Tn=u[Ot];je.push(null!=Tn?Array.from(Tn):null)}}rt=function xs(s,o,u,l,d){const f=u[1],g=function AC(s,o,u){const l=Hn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),QI(s,l,o,ul(s,o,1,null),u),fg(s,l));const d=Ir(o,s,l.directiveStart,l);is(d,o);const f=ee(l,o);return f&&is(f,o),d}(f,u,o);if(l.components.push(g),s[8]=g,null!==d)for(const E of d)E(g,o);if(o.contentQueries){const E=Hn();o.contentQueries(1,g,E.directiveStart)}const w=Hn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(qs(w.index),WI(u[1],w,0,w.directiveStart,w.directiveEnd,o),yg(o,g)),g}(kt,this.componentDef,qe,pe,[Bh]),cd(ke,qe,null)}finally{Jo()}return new rE(this.componentType,rt,id(pt,qe),qe,pt)}}class rE extends class Bp{}{constructor(o,u,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new OC(d),this.componentType=o}setInput(o,u){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const f=this._rootLView;dl(f[1],f,d,o,u),qI(f,this._tNode.index)}}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Bh(){const s=Hn();Vc(Pe()[1],s)}function jh(s){let o=function M_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(ai(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new _e(903,!1);d=o.\u0275dir}if(d){if(u){l.push(d);const g=s;g.inputs=Sg(s.inputs),g.declaredInputs=Sg(s.declaredInputs),g.outputs=Sg(s.outputs);const w=d.hostBindings;w&&R_(s,w);const E=d.viewQuery,M=d.contentQueries;if(E&&$h(s,E),M&&N_(s,M),it(s.inputs,d.inputs),it(s.declaredInputs,d.declaredInputs),it(s.outputs,d.outputs),ai(d)&&d.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const w=f[g];w&&w.ngInherit&&w(s),w===jh&&(u=!1)}}o=Object.getPrototypeOf(o)}!function oE(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=_u(d.hostAttrs,u=_u(u,d.hostAttrs))}}(l)}function Sg(s){return s===X?{}:s===O?[]:s}function $h(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function N_(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,f)=>{o(l,d,f),u(l,d,f)}:o}function R_(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}let Gh=null;function fl(){if(!Gh){const s=fn.Symbol;if(s&&s.iterator)Gh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Gh=l)}}}return Gh}function ic(s){return!!Mg(s)&&(Array.isArray(s)||!(s instanceof Map)&&fl()in s)}function Mg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Wi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function zh(s,o,u,l){const d=Pe();return Wi(d,Ra(),o)&&(dn(),ga(ir(),d,s,o,u,l)),zh}function fE(s,o,u,l,d,f,g,w){const E=Pe(),M=dn(),F=s+22,G=M.firstCreatePass?function hE(s,o,u,l,d,f,g,w,E){const M=o.consts,F=al(o,s,4,g||null,Wn(M,w));ll(o,u,F,Wn(M,E)),Vc(o,F);const G=F.tViews=lg(2,F,l,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,F),G.queries=o.queries.embeddedTView(F)),F}(F,M,E,o,u,l,d,f,g):M.data[F];so(G,!1);const te=E[11].createComment("");Ah(M,E,te,G),is(te,E),wg(E,E[F]=vg(te,E,te,G)),jr(G)&&Ph(M,E,G),null!=g&&cg(E,G,w)}function L_(s,o,u){const l=Pe();return Wi(l,Ra(),o)&&function lo(s,o,u,l,d,f,g,w){const E=ee(o,u);let F,M=o.inputs;!w&&null!=M&&(F=M[l])?(dl(s,u,F,l,d),$s(o)&&qI(u,o.index)):3&o.type&&(l=function zI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=g?g(d,o.value||"",l):d,f.setProperty(E,l,d))}(dn(),ir(),l,s,o,l[11],u,!1),L_}function gl(s,o,u,l,d){const g=d?"class":"style";dl(s,u,o.inputs[g],g,l)}function Zh(s,o,u,l){const d=Pe(),f=dn(),g=22+s,w=d[11],E=d[g]=Qp(w,o,function wp(){return gt.lFrame.currentNamespace}()),M=f.firstCreatePass?function uc(s,o,u,l,d,f,g){const w=o.consts,M=al(o,s,2,d,Wn(w,f));return ll(o,u,M,Wn(w,g)),null!==M.attrs&&Uh(M,M.attrs,!1),null!==M.mergedAttrs&&Uh(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(g,f,d,0,o,u,l):f.data[g];so(M,!0);const F=M.mergedAttrs;null!==F&&Wu(w,E,F);const G=M.classes;null!==G&&Jp(w,E,G);const te=M.styles;return null!==te&&TI(w,E,te),64!=(64&M.flags)&&Ah(f,d,E,M),0===function Yo(){return gt.lFrame.elementDepthCount}()&&is(E,d),function Sa(){gt.lFrame.elementDepthCount++}(),jr(M)&&(Ph(f,d,M),function v_(s,o,u){if(ws(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const g=s.data[f];g.contentQueries&&g.contentQueries(1,u[f],f)}}}(f,M,d)),null!==l&&cg(d,M),Zh}function Jh(){let s=Hn();hu()?function ql(){gt.lFrame.isParent=!1}():(s=s.parent,so(s,!1));const o=s;!function zs(){gt.lFrame.elementDepthCount--}();const u=dn();return u.firstCreatePass&&(Vc(u,s),ws(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function oh(s){return 0!=(16&s.flags)}(o)&&gl(u,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Hc(s){return 0!=(32&s.flags)}(o)&&gl(u,o,Pe(),o.stylesWithoutHost,!1),Jh}function Ng(s,o,u,l){return Zh(s,o,u,l),Jh(),Ng}function Rg(s){return!!s&&"function"==typeof s.then}function B_(s){return!!s&&"function"==typeof s.subscribe}const kg=B_;function Xh(s,o,u,l){const d=Pe(),f=dn(),g=Hn();return function Og(s,o,u,l,d,f,g,w){const E=jr(l),F=s.firstCreatePass&&xg(s),G=o[8],te=bg(o);let pe=!0;if(3&l.type||w){const rt=ee(l,o),pt=w?w(rt):rt,kt=te.length,je=w?Tn=>w(x(Tn[l.index])):l.index;let Ot=null;if(!w&&E&&(Ot=function pE(s,o,u,l){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===u&&d[f+1]===l){const w=o[7],E=d[f+2];return w.length>E?w[E]:null}"string"==typeof g&&(f+=2)}return null}(s,o,d,l.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=f,Ot.__ngLastListenerFn__=f,pe=!1;else{f=mE(l,o,G,f,!1);const Tn=u.listen(pt,d,f);te.push(f,Tn),F&&F.push(d,je,kt,kt+1)}}else f=mE(l,o,G,f,!1);const ke=l.outputs;let qe;if(pe&&null!==ke&&(qe=ke[d])){const rt=qe.length;if(rt)for(let pt=0;pt<rt;pt+=2){const wr=o[qe[pt]][qe[pt+1]].subscribe(f),Ol=te.length;te.push(f,wr),F&&F.push(d,l.index,Ol,-(Ol+1))}}}(f,d,d[11],g,s,o,0,l),Xh}function gE(s,o,u,l){try{return!1!==u(l)}catch(d){return tE(s,d),!1}}function mE(s,o,u,l,d){return function f(g){if(g===Function)return l;Ig(2&s.flags?cn(s.index,o):o);let E=gE(o,0,l,g),M=f.__ngNextListenerFn__;for(;M;)E=gE(o,0,M,g)&&E,M=M.__ngNextListenerFn__;return d&&!1===E&&(g.preventDefault(),g.returnValue=!1),E}}function yE(s=1){return function Pc(s){return(gt.lFrame.contextLView=function qu(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function H_(s,o,u,l,d){const f=s[u+1],g=null===o;let w=l?pa(f):ko(f),E=!1;for(;0!==w&&(!1===E||g);){const F=s[w+1];Vg(s[w],o)&&(E=!0,s[w+1]=l?Nh(F):Au(F)),w=l?pa(F):ko(F)}E&&(s[u+1]=l?Au(f):Nh(f))}function Vg(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ct(s,o)>=0}function Hg(s,o){return function Fo(s,o,u,l){const d=Pe(),f=dn(),g=function Vi(s){const o=gt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function Q_(s,o,u,l){const d=s.data;if(null===d[u+1]){const f=d[ei()],g=function cc(s,o){return o>=s.expandoStartIndex}(s,u);(function Y_(s,o){return 0!=(s.flags&(o?16:32))})(f,l)&&null===o&&!g&&(o=!1),o=function CE(s,o,u,l){const d=function Zo(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=yd(u=Cs(null,s,o,u,l),o.attrs,l),f=null);else{const g=o.directiveStylingLast;if(-1===g||s[g]!==d)if(u=Cs(d,s,o,u,l),null===f){let E=function SE(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==ko(l))return s[pa(l)]}(s,o,l);void 0!==E&&Array.isArray(E)&&(E=Cs(null,s,o,E[1],l),E=yd(E,o.attrs,l),function AE(s,o,u,l){s[pa(u?o.classBindings:o.styleBindings)]=l}(s,o,l,E))}else f=function Gg(s,o,u){let l;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)l=yd(l,s[f].hostAttrs,u);return yd(l,o.attrs,u)}(s,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,l),function EE(s,o,u,l,d,f){let g=f?o.classBindings:o.styleBindings,w=pa(g),E=ko(g);s[l]=u;let F,M=!1;if(Array.isArray(u)){const G=u;F=G[1],(null===F||ct(G,F)>0)&&(M=!0)}else F=u;if(d)if(0!==E){const te=pa(s[w+1]);s[l+1]=rg(te,w),0!==te&&(s[te+1]=c_(s[te+1],l)),s[w+1]=function IC(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=rg(w,0),0!==w&&(s[w+1]=c_(s[w+1],l)),w=l;else s[l+1]=rg(E,0),0===w?w=l:s[E+1]=c_(s[E+1],l),E=l;M&&(s[l+1]=Au(s[l+1])),H_(s,F,l,!0),H_(s,F,l,!1),function TE(s,o,u,l,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&ct(f,o)>=0&&(u[l+1]=Nh(u[l+1]))}(o,F,s,l,f),g=rg(w,E),f?o.classBindings=g:o.styleBindings=g}(d,f,o,u,g,l)}}(f,s,g,l),o!==en&&Wi(d,g,o)&&function NE(s,o,u,l,d,f,g,w){if(!(3&o.type))return;const E=s.data,M=E[w+1];qg(function EC(s){return 1==(1&s)}(M)?zg(E,o,u,d,ko(M),g):void 0)||(qg(f)||function ig(s){return 2==(2&s)}(M)&&(f=zg(E,null,u,d,w,g)),function sR(s,o,u,l,d){if(o)d?s.addClass(u,l):s.removeClass(u,l);else{let f=-1===l.indexOf("-")?void 0:ja.DashCase;null==d?s.removeStyle(u,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ja.Important),s.setStyle(u,l,d,f))}}(l,g,B(ei(),u),d,f))}(f,f.data[ei()],d,d[11],s,d[g+1]=function GC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=at(ec(s)))),s}(o,u),l,g)}(s,o,null,!0),Hg}function Cs(s,o,u,l,d){let f=null;const g=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<g&&(f=o[w],l=yd(l,f.hostAttrs,d),f!==s);)w++;return null!==s&&(u.directiveStylingLast=w),l}function yd(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?d=g:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qe(s,g,!!u||o[++f]))}return void 0===s?null:s}function zg(s,o,u,l,d,f){const g=null===o;let w;for(;d>0;){const E=s[d],M=Array.isArray(E),F=M?E[1]:E,G=null===F;let te=u[d+1];te===en&&(te=G?O:void 0);let pe=G?Ht(te,l):F===l?te:void 0;if(M&&!qg(pe)&&(pe=Ht(E,l)),qg(pe)&&(w=pe,g))return w;const ke=s[d+1];d=g?pa(ke):ko(ke)}if(null!==o){let E=f?o.residualClasses:o.residualStyles;null!=E&&(w=Ht(E,l))}return w}function qg(s){return void 0!==s}function RE(s,o=""){const u=Pe(),l=dn(),d=s+22,f=l.firstCreatePass?al(l,d,1,o,null):l.data[d],g=u[d]=function Qy(s,o){return s.createText(o)}(u[11],o);Ah(l,u,g,f),so(f,!1)}function _d(s){return Wg("",s,""),_d}function Wg(s,o,u){const l=Pe(),d=function oc(s,o,u,l){return Wi(s,Ra(),u)?o+Ke(u)+l:en}(l,s,o,u);return d!==en&&function za(s,o,u){const l=B(o,s);!function Yy(s,o,u){s.setValue(o,u)}(s[11],l,u)}(l,ei(),d),Wg}const Or=void 0;var CR=["en",[["a","p"],["AM","PM"],Or],[["AM","PM"],Or,Or],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Or,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Or,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Or,"{1} 'at' {0}",Or],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wd(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Cr={};function Qa(s){const o=function wl(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Yg(o);if(u)return u;const l=o.split("-")[0];if(u=Yg(l),u)return u;if("en"===l)return CR;throw new _e(701,!1)}function vl(s){return Qa(s)[Ft.PluralCase]}function Yg(s){return s in Cr||(Cr[s]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[s]),Cr[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const Tt="en-US";let Jg=Tt;function pf(s,o,u,l,d){if(s=st(s),Array.isArray(s))for(let f=0;f<s.length;f++)pf(s[f],o,u,l,d);else{const f=dn(),g=Pe();let w=rd(s)?s:st(s.provide),E=Bw(s);const M=Hn(),F=1048575&M.providerIndexes,G=M.directiveStart,te=M.providerIndexes>>20;if(rd(s)||!s.multi){const pe=new mu(E,d,ad),ke=xn(w,o,d?F:F+te,G);-1===ke?(sa(na(M,g),f,w),gv(f,s,o.length),o.push(w),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),u.push(pe),g.push(pe)):(u[ke]=pe,g[ke]=pe)}else{const pe=xn(w,o,F+te,G),ke=xn(w,o,F,F+te),qe=pe>=0&&u[pe],rt=ke>=0&&u[ke];if(d&&!rt||!d&&!qe){sa(na(M,g),f,w);const pt=function hm(s,o,u,l,d){const f=new mu(s,u,ad);return f.multi=[],f.index=o,f.componentProviders=0,Wr(f,d,l&&!u),f}(d?JE:ZE,u.length,d,l,E);!d&&rt&&(u[ke].providerFactory=pt),gv(f,s,o.length,0),o.push(w),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),u.push(pt),g.push(pt)}else gv(f,s,pe>-1?pe:ke,Wr(u[d?ke:pe],E,!d&&l));!d&&l&&rt&&u[ke].componentProviders++}}}function gv(s,o,u,l){const d=rd(o),f=function HN(s){return!!s.useClass}(o);if(d||f){const E=(f?st(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const F=M.indexOf(u);-1===F?M.push(u,[l,E]):M[F+1].push(l,E)}else M.push(u,E)}}}function Wr(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function xn(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function ZE(s,o,u,l){return Kr(this.multi,[])}function JE(s,o,u,l){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=Ir(u,u[1],this.providerFactory.index,l);f=w.slice(0,g),Kr(d,f);for(let E=g;E<w.length;E++)f.push(w[E])}else f=[],Kr(d,f);return f}function Kr(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function bi(s,o=[]){return u=>{u.providersResolver=(l,d)=>function ff(s,o,u){const l=dn();if(l.firstCreatePass){const d=ai(s);pf(u,l.data,l.blueprint,d,!0),pf(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class lr{}class mv{}function hS(s,o){return new XE(s,o??null)}class XE extends lr{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new C_(this);const l=Re(o);this._bootstrapComponents=ha(l.bootstrap),this._r3Injector=Pn(o,u,[{provide:lr,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver}],at(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gf extends mv{constructor(o){super(),this.moduleType=o}create(o){return new XE(this.moduleType,o)}}class fS extends lr{constructor(o,u,l){super(),this.componentFactoryResolver=new C_(this),this.instance=null;const d=new _h([...o,{provide:lr,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver}],u||Gr(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function fm(s,o,u=null){return new fS(s,o,u).injector}function gm(s,o,u){const l=function $r(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}()+s,d=Pe();return d[l]===en?function qa(s,o,u){return s[o]=u}(d,l,u?o.call(u):o()):function Mu(s,o){return s[o]}(d,l)}function Ev(s){return o=>{setTimeout(s,void 0,o)}}const Ja=class Md extends ve.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){let d=o,f=u||(()=>null),g=l;if(o&&"object"==typeof o){const E=o;d=E.next?.bind(E),f=E.error?.bind(E),g=E.complete?.bind(E)}this.__isAsync&&(f=Ev(f),d&&(d=Ev(d)),g&&(g=Ev(g)));const w=super.subscribe({next:d,error:f,complete:g});return o instanceof Se.w0&&o.add(w),w}};function TS(){return this._results[fl()]()}class mm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=fl(),l=mm.prototype;l[u]||(l[u]=TS)}get changes(){return this._changes||(this._changes=new Ja)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=ci(o);(this._changesDetected=!function Xl(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],f=o[l];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let As=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ou,s})();const DS=As,mT=class extends DS{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o,u){const l=this._declarationTContainer.tViews,d=ud(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),cd(l,d,o),new rc(d)}};function Ou(){return ym(Hn(),Pe())}function ym(s,o){return 4&s.type?new mT(o,s,id(s,o)):null}let cs=(()=>{class s{}return s.__NG_ELEMENT_ID__=mc,s})();function mc(){return Sr(Hn(),Pe())}const vr=cs,Ki=class extends vr{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return id(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ia(this._hostTNode,this._hostLView);if(zc(o)){const u=Ts(o,this._hostLView),l=ta(o);return new Hr(u[1].data[l+8],u)}return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=yT(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const g=o.createEmbeddedView(u||{},f);return this.insert(g,d),g}createComponent(o,u,l,d,f){const g=o&&!function co(s){return"function"==typeof s}(o);let w;if(g)w=u;else{const G=u||{};w=G.index,l=G.injector,d=G.projectableNodes,f=G.environmentInjector||G.ngModuleRef}const E=g?o:new ma(Y(o)),M=l||this.parentInjector;if(!f&&null==E.ngModule){const te=(g?M:this.parentInjector).get(Hi,null);te&&(f=te)}const F=E.create(M,d,void 0,f);return this.insert(F.hostView,w),F}insert(o,u){const l=o._lView,d=l[1];if(function ln(s){return Br(s[3])}(l)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const G=l[3],te=new Ki(G,G[6],G[3]);te.detach(te.indexOf(o))}}const f=this._adjustIndex(u),g=this._lContainer;!function $x(s,o,u,l){const d=10+l,f=u.length;l>0&&(u[d-1][4]=o),l<f-10?(o[4]=u[d],v(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const g=o[17];null!==g&&u!==g&&function eR(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(g,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(d,l,g,f);const w=II(f,g),E=l[11],M=Jy(E,g[7]);return null!==M&&function XN(s,o,u,l,d,f){l[0]=d,l[6]=o,Zp(s,l,u,1,d,f)}(d,g[6],E,l,M,w),o.attachToViewContainerRef(),v(Tv(g),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=yT(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=Zy(this._lContainer,u);l&&(_(Tv(this._lContainer),u),gI(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=Zy(this._lContainer,u);return l&&null!=_(Tv(this._lContainer),u)?new rc(l):null}_adjustIndex(o,u=0){return o??this.length+u}};function yT(s){return s[8]}function Tv(s){return s[8]||(s[8]=[])}function Sr(s,o){let u;const l=o[s.index];if(Br(l))u=l;else{let d;if(8&s.type)d=x(l);else{const f=o[11];d=f.createComment("");const g=ee(s,o);sl(f,Jy(f,g),d,function nR(s,o){return s.nextSibling(o)}(f,g),!1)}o[s.index]=u=vg(l,o,d,s),wg(o,u)}return new Ki(u,s,o)}class Ms{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ms(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<l;f++){const g=u.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new Pu(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Ns(o,u).matches&&this.queries[u].setDirty()}}class eu{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class yc{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,f=this.getByIndex(l).embeddedTView(o,d);f&&(f.indexInDeclarationView=l,null!==u?u.push(f):u=[f])}return null!==u?new yc(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class _c{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new _c(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(o,u,bS(u,f)),this.matchTNodeWithReadOption(o,u,oa(u,o,f,!1,!1))}else l===As?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,oa(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Eh||d===cs||d===As&&4&u.type)this.addMatch(u.index,-2);else{const f=oa(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function bS(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function xS(s,o,u,l){return-1===u?function _T(s,o){return 11&s.type?id(s,o):4&s.type?ym(s,o):null}(o,s):-2===u?function $e(s,o,u){return u===Eh?id(o,s):u===As?ym(o,s):u===cs?Sr(o,s):void 0}(s,o,l):Ir(s,s[1],u,o)}function Ef(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const f=s.data,g=u.matches,w=[];for(let E=0;E<g.length;E+=2){const M=g[E];w.push(M<0?null:xS(o,f[M],g[E+1],u.metadata.read))}d.matches=w}return d.matches}function go(s,o,u,l){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const g=Ef(s,o,d,u);for(let w=0;w<f.length;w+=2){const E=f[w];if(E>0)l.push(g[w/2]);else{const M=f[w+1],F=o[-E];for(let G=10;G<F.length;G++){const te=F[G];te[17]===te[3]&&go(te[1],te,M,l)}if(null!==F[9]){const G=F[9];for(let te=0;te<G.length;te++){const pe=G[te];go(pe[1],pe,M,l)}}}}}return l}function vT(s){const o=Pe(),u=dn(),l=Rc();pu(l+1);const d=Ns(u,l);if(s.dirty&&Nn(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?go(u,o,l,[]):Ef(u,o,d,l);s.reset(f,Ix),s.notifyOnChanges()}return!0}return!1}function vc(s,o,u,l){const d=dn();if(d.firstCreatePass){const f=Hn();(function _m(s,o,u){null===s.queries&&(s.queries=new yc),s.queries.track(new _c(o,u))})(d,new eu(o,u,l),f.index),function IT(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function Dv(s,o,u){const l=new mm(4==(4&u));hg(s,o,l,l.destroy),null===o[19]&&(o[19]=new Pu),o[19].queries.push(new Ms(l))}(d,Pe(),u)}function wT(){return function bl(s,o){return s[19].queries[o].queryList}(Pe(),Rc())}function Ns(s,o){return s.queries.getByIndex(o)}function Sl(s){const o=Y(s)||q(s)||me(s);return null!==o&&o.standalone}function Sf(...s){}const Tm=new Kn("Application Initializer");let Dm=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Sf,this.reject=Sf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Rg(f))u.push(f);else if(kg(f)){const g=new Promise((w,E)=>{f.subscribe({complete:w,error:E})});u.push(g)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(ue(Tm,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Lv=new Kn("AppId",{providedIn:"root",factory:function LT(){return`${Fv()}${Fv()}${Fv()}`}});function Fv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ml=new Kn("Platform Initializer"),Pd=new Kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bm=new Kn("appBootstrapListener");let FT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ld=new Kn("LocaleId",{providedIn:"root",factory:()=>Be(Ld,It.Optional|It.SkipSelf)||function BS(){return typeof $localize<"u"&&$localize.locale||Tt}()}),jS=new Kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $S{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Vv=(()=>{class s{compileModuleSync(u){return new gf(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),f=ha(Re(u).declarations).reduce((g,w)=>{const E=Y(w);return E&&g.push(new ma(E)),g},[]);return new $S(l,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Bv=(()=>Promise.resolve(0))();function xm(s){typeof Zone>"u"?Bv.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Rs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function $T(){let s=fn.requestAnimationFrame,o=fn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jv(s){const o=()=>{!function Sm(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(fn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Af(s),s.isCheckStableRunning=!0,Nl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Af(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,f,g,w)=>{try{return Am(s),u.invokeTask(d,f,g,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),$v(s)}},onInvoke:(u,l,d,f,g,w,E)=>{try{return Am(s),u.invoke(d,f,g,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),$v(s)}},onHasTask:(u,l,d,f)=>{u.hasTask(d,f),l===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Af(s),Nl(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,l,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new _e(909,!1)}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,o,Cm,Sf,Sf);try{return f.runTask(g,u,l)}finally{f.cancelTask(g)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const Cm={};function Nl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Af(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Am(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function $v(s){s._nesting--,Nl(s)}class GS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}const Hv=new Kn(""),HT=new Kn("");let Fd,zS=(()=>{class s{constructor(u,l,d){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fd||(function zT(s){Fd=s}(d),d.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),xm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xm(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(ue(Rs),ue(GT),ue(HT))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),GT=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return Fd?.findTestabilityInTree(this,u,l)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Bo=null;const Mm=new Kn("AllowMultipleToken"),Gv=new Kn("PlatformDestroyListeners");class KS{constructor(o,u){this.name=o,this.token=u}}function Nf(s,o,u=[]){const l=`Platform: ${o}`,d=new Kn(l);return(f=[])=>{let g=kf();if(!g||g.injector.get(Mm,!1)){const w=[...u,...f,{provide:d,useValue:!0}];s?s(w):function Mf(s){if(Bo&&!Bo.get(Mm,!1))throw new _e(400,!1);Bo=s;const o=s.get(Rm);(function Rl(s){const o=s.get(Ml,null);o&&o.forEach(u=>u())})(s)}(function Nm(s=[],o){return tc.create({name:o,providers:[{provide:Vw,useValue:"platform"},{provide:Gv,useValue:new Set([()=>Bo=null])},...s]})}(w,l))}return function Rf(s){const o=kf();if(!o)throw new _e(401,!1);return o}()}}function kf(){return Bo?.get(Rm)??null}let Rm=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const d=function WT(s,o){let u;return u="noop"===s?new GS:("zone.js"===s?void 0:s)||new Rs(o),u}(l?.ngZone,function Vu(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:Rs,useValue:d}];return d.run(()=>{const g=tc.create({providers:f,parent:this.injector,name:u.moduleType.name}),w=u.create(g),E=w.injector.get(nl,null);if(!E)throw new _e(402,!1);return d.runOutsideAngular(()=>{const M=d.onError.subscribe({next:F=>{E.handleError(F)}});w.onDestroy(()=>{Ud(this._modules,w),M.unsubscribe()})}),function KT(s,o,u){try{const l=u();return Rg(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(E,d,()=>{const M=w.injector.get(Dm);return M.runInitializers(),M.donePromise.then(()=>(function Xg(s){or(s,"Expected localeId to be defined"),"string"==typeof s&&(Jg=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Ld,Tt)||Tt),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,l=[]){const d=km({},l);return function qS(s,o,u){const l=new gf(u);return Promise.resolve(l)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const l=u.injector.get(Om);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new _e(403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(Gv,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(ue(tc))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function km(s,o){return Array.isArray(o)?o.reduce(km,s):{...s,...o}}let Om=(()=>{class s{constructor(u,l,d){this._zone=u,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new Te.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),g=new Te.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),xm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=function fe(...s){const o=(0,ge.yG)(s),u=(0,ge._6)(s,1/0),l=s;return l.length?1===l.length?(0,U.Xf)(l[0]):(0,A.J)(u)((0,$.D)(l,o)):ne.E}(f,g.pipe(function De(s={}){const{connector:o=(()=>new ve.x),resetOnError:u=!0,resetOnComplete:l=!0,resetOnRefCountZero:d=!0}=s;return f=>{let g,w,E,M=0,F=!1,G=!1;const te=()=>{w?.unsubscribe(),w=void 0},pe=()=>{te(),g=E=void 0,F=G=!1},ke=()=>{const qe=g;pe(),qe?.unsubscribe()};return(0,J.e)((qe,rt)=>{M++,!G&&!F&&te();const pt=E=E??o();rt.add(()=>{M--,0===M&&!G&&!F&&(w=et(ke,d))}),pt.subscribe(rt),!g&&M>0&&(g=new re.Hp({next:kt=>pt.next(kt),error:kt=>{G=!0,te(),w=et(pe,u,kt),pt.error(kt)},complete:()=>{F=!0,te(),w=et(pe,l),pt.complete()}}),(0,U.Xf)(qe).subscribe(g))})(f)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,l){const d=u instanceof Ly;if(!this._injector.get(Dm).done)throw!d&&Sl(u),new _e(405,false);let g;g=d?u:this._injector.get(Ih).resolveComponentFactory(u),this.componentTypes.push(g.componentType);const w=function WS(s){return s.isBoundToModule}(g)?void 0:this._injector.get(lr),M=g.create(tc.NULL,[],l||g.selector,w),F=M.location.nativeElement,G=M.injector.get(Hv,null);return G?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),Ud(this.components,M),G?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Ud(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(bm,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ud(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new _e(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(ue(Rs),ue(Hi),ue(nl))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ud(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let Of=!0;function Vd(){Of=!1}let JT=(()=>{class s{}return s.__NG_ELEMENT_ID__=XT,s})();function XT(s){return function ZS(s,o,u){if($s(s)&&!u){const l=cn(s.index,o);return new rc(l,l)}return 47&s.type?new rc(o[16],o):null}(Hn(),Pe(),16==(16&s))}class uD{constructor(){}supports(o){return ic(o)}create(o){return new Yv(o)}}const XS=(s,o)=>o;class Yv{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||XS}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,f=null;for(;u||l;){const g=!l||u&&u.currentIndex<cD(l,d,f)?u:l,w=cD(g,d,f),E=g.currentIndex;if(g===l)d--,l=l._nextRemoved;else if(u=u._next,null==g.previousIndex)d++;else{f||(f=[]);const M=w-d,F=E-d;if(M!=F){for(let te=0;te<M;te++){const pe=te<f.length?f[te]:f[te]=0,ke=pe+te;F<=ke&&ke<M&&(f[te]=pe+1)}f[g.previousIndex]=F-M}}w!==E&&o(g,w,E)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!ic(o))throw new _e(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,g,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],g=this._trackByFn(w,f),null!==u&&Object.is(u.trackById,g)?(l&&(u=this._verifyReinsertion(u,f,g,w)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,g,w),l=!0),u=u._next}else d=0,function uE(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[fl()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,w=>{g=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,g)?(l&&(u=this._verifyReinsertion(u,w,g,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,g,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new Zv(u,l),f,d),o}_verifyReinsertion(o,u,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Jv),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Zv{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class Jv{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new eA,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cD(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class Xv{constructor(){}supports(o){return o instanceof Map||Mg(o)}create(){return new lD}}class lD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Mg(o)))throw new _e(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const l=new dD(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class dD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e0(){return new t0([new uD])}let t0=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||e0()),deps:[[s,new da,new ti]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new _e(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:e0}),s})();function hD(){return new n0([new Xv])}let n0=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||hD()),deps:[[s,new da,new ti]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new _e(901,!1)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:hD}),s})();const o0=Nf(null,"core",[]);let tA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(ue(Om))},s.\u0275mod=In({type:s}),s.\u0275inj=Dn({}),s})();function a0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},9752:(Et,Ne,j)=>{j.d(Ne,{C6:()=>Ar,Jn:()=>Kt,KN:()=>$n,Mq:()=>Dn,Xd:()=>Jn,ZF:()=>mi,qX:()=>Xn}),j(5861);var U=j(1617),ne=j(9357),ge=j(5578);j(8162);const re=new ne.Yd("@firebase/app"),_n="[DEFAULT]",Pt={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Cn=new Map;function yn(O,R){try{O.container.addComponent(R)}catch(k){re.debug(`Component ${R.name} failed to register with FirebaseApp ${O.name}`,k)}}function Jn(O){const R=O.name;if(Cn.has(R))return re.debug(`There were multiple attempts to register component ${R}.`),!1;Cn.set(R,O);for(const k of gn.values())yn(k,O);return!0}function Xn(O,R){const k=O.container.getProvider("heartbeat").getImmediate({optional:!0});return k&&k.triggerHeartbeat(),O.container.getProvider(R)}const Gt=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fr{constructor(R,k,ce){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const Kt="9.9.2";function mi(O,R={}){"object"!=typeof R&&(R={name:R});const k=Object.assign({name:_n,automaticDataCollectionEnabled:!1},R),ce=k.name;if("string"!=typeof ce||!ce)throw Gt.create("bad-app-name",{appName:String(ce)});const de=gn.get(ce);if(de){if((0,ge.vZ)(O,de.options)&&(0,ge.vZ)(k,de.config))return de;throw Gt.create("duplicate-app",{appName:ce})}const Fe=new U.H0(ce);for(const Nt of Cn.values())Fe.addComponent(Nt);const yt=new Fr(O,k,Fe);return gn.set(ce,yt),yt}function Dn(O=_n){const R=gn.get(O);if(!R)throw Gt.create("no-app",{appName:O});return R}function Ar(){return Array.from(gn.values())}function $n(O,R,k){var ce;let de=null!==(ce=Pt[O])&&void 0!==ce?ce:O;k&&(de+=`-${k}`);const Fe=de.match(/\s|\//),yt=R.match(/\s|\//);if(Fe||yt){const Nt=[`Unable to register library "${de}" with version "${R}":`];return Fe&&Nt.push(`library name "${de}" contains illegal characters (whitespace or "/")`),Fe&&yt&&Nt.push("and"),yt&&Nt.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void re.warn(Nt.join(" "))}Jn(new U.wA(`${de}-version`,()=>({library:de,version:R}),"VERSION"))}},1617:(Et,Ne,j)=>{j.d(Ne,{H0:()=>Se,wA:()=>ne});var A=j(5861),U=j(5578);class ne{constructor(re,J,De){this.name=re,this.instanceFactory=J,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ge="[DEFAULT]";class ${constructor(re,J){this.name=re,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const J=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(J)){const De=new U.BH;if(this.instancesDeferred.set(J,De),this.isInitialized(J)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:J});et&&De.resolve(et)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(re){var J;const De=this.normalizeInstanceIdentifier(re?.identifier),et=null!==(J=re?.optional)&&void 0!==J&&J;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Me){if(et)return null;throw Me}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function ve(Te){return"EAGER"===Te.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[J,De]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(J);try{const Me=this.getOrInitializeService({instanceIdentifier:et});De.resolve(Me)}catch{}}}}clearInstance(re=ge){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,A.Z)(function*(){const J=Array.from(re.instances.values());yield Promise.all([...J.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...J.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ge){return this.instances.has(re)}getOptions(re=ge){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:J={}}=re,De=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:De,options:J});for(const[Me,it]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Me)&&it.resolve(et);return et}onInit(re,J){var De;const et=this.normalizeInstanceIdentifier(J),Me=null!==(De=this.onInitCallbacks.get(et))&&void 0!==De?De:new Set;Me.add(re),this.onInitCallbacks.set(et,Me);const it=this.instances.get(et);return it&&re(it,et),()=>{Me.delete(re)}}invokeOnInitCallbacks(re,J){const De=this.onInitCallbacks.get(J);if(De)for(const et of De)try{et(re,J)}catch{}}getOrInitializeService({instanceIdentifier:re,options:J={}}){let De=this.instances.get(re);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=re,Te===ge?void 0:Te),options:J}),this.instances.set(re,De),this.instancesOptions.set(re,J),this.invokeOnInitCallbacks(De,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,De)}catch{}var Te;return De||null}normalizeInstanceIdentifier(re=ge){return this.component?this.component.multipleInstances?re:ge:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const J=this.getProvider(re.name);if(J.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);J.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const J=new $(re,this);return this.providers.set(re,J),J}getProviders(){return Array.from(this.providers.values())}}},9357:(Et,Ne,j)=>{j.d(Ne,{Yd:()=>ve,in:()=>U});const A=[];var U=(()=>((U=U||{})[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",U))();const ne={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ge=U.INFO,$={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},fe=(re,J,...De)=>{if(J<re.logLevel)return;const et=(new Date).toISOString(),Me=$[J];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Me](`[${et}]  ${re.name}:`,...De)};class ve{constructor(J){this.name=J,this._logLevel=ge,this._logHandler=fe,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in U))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?ne[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...J),this._logHandler(this,U.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...J),this._logHandler(this,U.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,U.INFO,...J),this._logHandler(this,U.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,U.WARN,...J),this._logHandler(this,U.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...J),this._logHandler(this,U.ERROR,...J)}}},8162:(Et,Ne,j)=>{let ne,ge;j.d(Ne,{Lj:()=>We,X3:()=>st}),j(5861);const ve=new WeakMap,Se=new WeakMap,Te=new WeakMap,re=new WeakMap,J=new WeakMap;let Me={get(ie,Ve,oe){if(ie instanceof IDBTransaction){if("done"===Ve)return Se.get(ie);if("objectStoreNames"===Ve)return ie.objectStoreNames||Te.get(ie);if("store"===Ve)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return mt(ie[Ve])},set:(ie,Ve,oe)=>(ie[Ve]=oe,!0),has:(ie,Ve)=>ie instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in ie};function bt(ie){return"function"==typeof ie?function at(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...Ve){return ie.apply(Ct(this),Ve),mt(ve.get(this))}:function(...Ve){return mt(ie.apply(Ct(this),Ve))}:function(Ve,...oe){const Q=ie.call(Ct(this),Ve,...oe);return Te.set(Q,Ve.sort?Ve.sort():[Ve]),mt(Q)}}(ie):(ie instanceof IDBTransaction&&function et(ie){if(Se.has(ie))return;const Ve=new Promise((oe,Q)=>{const ye=()=>{ie.removeEventListener("complete",le),ie.removeEventListener("error",Ge),ie.removeEventListener("abort",Ge)},le=()=>{oe(),ye()},Ge=()=>{Q(ie.error||new DOMException("AbortError","AbortError")),ye()};ie.addEventListener("complete",le),ie.addEventListener("error",Ge),ie.addEventListener("abort",Ge)});Se.set(ie,Ve)}(ie),((ie,Ve)=>Ve.some(oe=>ie instanceof oe))(ie,function $(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Me):ie)}function mt(ie){if(ie instanceof IDBRequest)return function De(ie){const Ve=new Promise((oe,Q)=>{const ye=()=>{ie.removeEventListener("success",le),ie.removeEventListener("error",Ge)},le=()=>{oe(mt(ie.result)),ye()},Ge=()=>{Q(ie.error),ye()};ie.addEventListener("success",le),ie.addEventListener("error",Ge)});return Ve.then(oe=>{oe instanceof IDBCursor&&ve.set(oe,ie)}).catch(()=>{}),J.set(Ve,ie),Ve}(ie);if(re.has(ie))return re.get(ie);const Ve=bt(ie);return Ve!==ie&&(re.set(ie,Ve),J.set(Ve,ie)),Ve}const Ct=ie=>J.get(ie);function st(ie,Ve,{blocked:oe,upgrade:Q,blocking:ye,terminated:le}={}){const Ge=indexedDB.open(ie,Ve),Oe=mt(Ge);return Q&&Ge.addEventListener("upgradeneeded",wt=>{Q(mt(Ge.result),wt.oldVersion,wt.newVersion,mt(Ge.transaction))}),oe&&Ge.addEventListener("blocked",()=>oe()),Oe.then(wt=>{le&&wt.addEventListener("close",()=>le()),ye&&wt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Oe}function We(ie,{blocked:Ve}={}){const oe=indexedDB.deleteDatabase(ie);return Ve&&oe.addEventListener("blocked",()=>Ve()),mt(oe).then(()=>{})}},1481:(Et,Ne,j)=>{j.d(Ne,{Dx:()=>Xt,b2:()=>Mr,q6:()=>Vt});var A=j(6895),U=j(8256);class ne extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends ne{static makeCurrent(){(0,A.HT)(new ge)}onAndCancel(Y,q,me){return Y.addEventListener(q,me,!1),()=>{Y.removeEventListener(q,me,!1)}}dispatchEvent(Y,q){Y.dispatchEvent(q)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,q){return(q=q||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,q){return"window"===q?window:"document"===q?Y:"body"===q?Y.body:null}getBaseHref(Y){const q=function fe(){return $=$||document.querySelector("base"),$?$.getAttribute("href"):null}();return null==q?null:function Se(he){ve=ve||document.createElement("a"),ve.setAttribute("href",he);const Y=ve.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(q)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,A.Mx)(document.cookie,Y)}}let ve,$=null;const Te=new U.OlP("TRANSITION_ID"),J=[{provide:U.ip1,useFactory:function re(he,Y,q){return()=>{q.get(U.CZH).donePromise.then(()=>{const me=(0,A.q)(),Re=Y.querySelectorAll(`style[ng-transition="${he}"]`);for(let St=0;St<Re.length;St++)me.remove(Re[St])})}},deps:[Te,A.K0,U.zs3],multi:!0}];let et=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(q){return new(q||he)},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})();const Me=new U.OlP("EventManagerPlugins");let it=(()=>{class he{constructor(q,me){this._zone=me,this._eventNameToPlugin=new Map,q.forEach(Re=>Re.manager=this),this._plugins=q.slice().reverse()}addEventListener(q,me,Re){return this._findPluginFor(me).addEventListener(q,me,Re)}addGlobalEventListener(q,me,Re){return this._findPluginFor(me).addGlobalEventListener(q,me,Re)}getZone(){return this._zone}_findPluginFor(q){const me=this._eventNameToPlugin.get(q);if(me)return me;const Re=this._plugins;for(let St=0;St<Re.length;St++){const Le=Re[St];if(Le.supports(q))return this._eventNameToPlugin.set(q,Le),Le}throw new Error(`No event manager plugin found for event ${q}`)}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(Me),U.LFG(U.R0b))},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})();class at{constructor(Y){this._doc=Y}addGlobalEventListener(Y,q,me){const Re=(0,A.q)().getGlobalEventTarget(this._doc,Y);if(!Re)throw new Error(`Unsupported event target ${Re} for event ${q}`);return this.addEventListener(Re,q,me)}}let bt=(()=>{class he{constructor(){this._stylesSet=new Set}addStyles(q){const me=new Set;q.forEach(Re=>{this._stylesSet.has(Re)||(this._stylesSet.add(Re),me.add(Re))}),this.onStylesAdded(me)}onStylesAdded(q){}getAllStyles(){return Array.from(this._stylesSet)}}return he.\u0275fac=function(q){return new(q||he)},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})(),mt=(()=>{class he extends bt{constructor(q){super(),this._doc=q,this._hostNodes=new Map,this._hostNodes.set(q.head,[])}_addStylesToHost(q,me,Re){q.forEach(St=>{const Le=this._doc.createElement("style");Le.textContent=St,Re.push(me.appendChild(Le))})}addHost(q){const me=[];this._addStylesToHost(this._stylesSet,q,me),this._hostNodes.set(q,me)}removeHost(q){const me=this._hostNodes.get(q);me&&me.forEach(Ct),this._hostNodes.delete(q)}onStylesAdded(q){this._hostNodes.forEach((me,Re)=>{this._addStylesToHost(q,Re,me)})}ngOnDestroy(){this._hostNodes.forEach(q=>q.forEach(Ct))}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(A.K0))},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})();function Ct(he){(0,A.q)().remove(he)}const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g;function oe(he,Y,q){for(let me=0;me<Y.length;me++){let Re=Y[me];Array.isArray(Re)?oe(he,Re,q):(Re=Re.replace(We,he),q.push(Re))}return q}function Q(he){return Y=>{if("__ngUnwrap__"===Y)return he;!1===he(Y)&&(Y.preventDefault(),Y.returnValue=!1)}}let le=(()=>{class he{constructor(q,me,Re){this.eventManager=q,this.sharedStylesHost=me,this.appId=Re,this.rendererByCompId=new Map,this.defaultRenderer=new Ge(q)}createRenderer(q,me){if(!q||!me)return this.defaultRenderer;switch(me.encapsulation){case U.ifc.Emulated:{let Re=this.rendererByCompId.get(me.id);return Re||(Re=new _n(this.eventManager,this.sharedStylesHost,me,this.appId),this.rendererByCompId.set(me.id,Re)),Re.applyToHost(q),Re}case 1:case U.ifc.ShadowDom:return new Pt(this.eventManager,this.sharedStylesHost,q,me);default:if(!this.rendererByCompId.has(me.id)){const Re=oe(me.id,me.styles,[]);this.sharedStylesHost.addStyles(Re),this.rendererByCompId.set(me.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(it),U.LFG(mt),U.LFG(U.AFp))},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})();class Ge{constructor(Y){this.eventManager=Y,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,q){return q?document.createElementNS(st[q]||q,Y):document.createElement(Y)}createComment(Y){return document.createComment(Y)}createText(Y){return document.createTextNode(Y)}appendChild(Y,q){(Ut(Y)?Y.content:Y).appendChild(q)}insertBefore(Y,q,me){Y&&(Ut(Y)?Y.content:Y).insertBefore(q,me)}removeChild(Y,q){Y&&Y.removeChild(q)}selectRootElement(Y,q){let me="string"==typeof Y?document.querySelector(Y):Y;if(!me)throw new Error(`The selector "${Y}" did not match any elements`);return q||(me.textContent=""),me}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,q,me,Re){if(Re){q=Re+":"+q;const St=st[Re];St?Y.setAttributeNS(St,q,me):Y.setAttribute(q,me)}else Y.setAttribute(q,me)}removeAttribute(Y,q,me){if(me){const Re=st[me];Re?Y.removeAttributeNS(Re,q):Y.removeAttribute(`${me}:${q}`)}else Y.removeAttribute(q)}addClass(Y,q){Y.classList.add(q)}removeClass(Y,q){Y.classList.remove(q)}setStyle(Y,q,me,Re){Re&(U.JOm.DashCase|U.JOm.Important)?Y.style.setProperty(q,me,Re&U.JOm.Important?"important":""):Y.style[q]=me}removeStyle(Y,q,me){me&U.JOm.DashCase?Y.style.removeProperty(q):Y.style[q]=""}setProperty(Y,q,me){Y[q]=me}setValue(Y,q){Y.nodeValue=q}listen(Y,q,me){return"string"==typeof Y?this.eventManager.addGlobalEventListener(Y,q,Q(me)):this.eventManager.addEventListener(Y,q,Q(me))}}function Ut(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class _n extends Ge{constructor(Y,q,me,Re){super(Y),this.component=me;const St=oe(Re+"-"+me.id,me.styles,[]);q.addStyles(St),this.contentAttr=function ie(he){return"_ngcontent-%COMP%".replace(We,he)}(Re+"-"+me.id),this.hostAttr=function Ve(he){return"_nghost-%COMP%".replace(We,he)}(Re+"-"+me.id)}applyToHost(Y){super.setAttribute(Y,this.hostAttr,"")}createElement(Y,q){const me=super.createElement(Y,q);return super.setAttribute(me,this.contentAttr,""),me}}class Pt extends Ge{constructor(Y,q,me,Re){super(Y),this.sharedStylesHost=q,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=oe(Re.id,Re.styles,[]);for(let Le=0;Le<St.length;Le++){const xt=document.createElement("style");xt.textContent=St[Le],this.shadowRoot.appendChild(xt)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Y,q){return super.appendChild(this.nodeOrShadowRoot(Y),q)}insertBefore(Y,q,me){return super.insertBefore(this.nodeOrShadowRoot(Y),q,me)}removeChild(Y,q){return super.removeChild(this.nodeOrShadowRoot(Y),q)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}}let gn=(()=>{class he extends at{constructor(q){super(q)}supports(q){return!0}addEventListener(q,me,Re){return q.addEventListener(me,Re,!1),()=>this.removeEventListener(q,me,Re)}removeEventListener(q,me,Re){return q.removeEventListener(me,Re)}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(A.K0))},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})();const Cn=["alt","control","meta","shift"],sr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xn={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let or=(()=>{class he extends at{constructor(q){super(q)}supports(q){return null!=he.parseEventName(q)}addEventListener(q,me,Re){const St=he.parseEventName(me),Le=he.eventCallback(St.fullKey,Re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(q,St.domEventName,Le))}static parseEventName(q){const me=q.toLowerCase().split("."),Re=me.shift();if(0===me.length||"keydown"!==Re&&"keyup"!==Re)return null;const St=he._normalizeKey(me.pop());let Le="";if(Cn.forEach(tn=>{const Vr=me.indexOf(tn);Vr>-1&&(me.splice(Vr,1),Le+=tn+".")}),Le+=St,0!=me.length||0===St.length)return null;const xt={};return xt.domEventName=Re,xt.fullKey=Le,xt}static getEventFullKey(q){let me="",Re=function un(he){let Y=he.key;if(null==Y){if(Y=he.keyIdentifier,null==Y)return"Unidentified";Y.startsWith("U+")&&(Y=String.fromCharCode(parseInt(Y.substring(2),16)),3===he.location&&Jn.hasOwnProperty(Y)&&(Y=Jn[Y]))}return sr[Y]||Y}(q);return Re=Re.toLowerCase()," "===Re?Re="space":"."===Re&&(Re="dot"),Cn.forEach(St=>{St!=Re&&(0,Xn[St])(q)&&(me+=St+".")}),me+=Re,me}static eventCallback(q,me,Re){return St=>{he.getEventFullKey(St)===q&&Re.runGuarded(()=>me(St))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(A.K0))},he.\u0275prov=U.Yz7({token:he,factory:he.\u0275fac}),he})();const Vt=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:A.bD},{provide:U.g9A,useValue:function Kt(){ge.makeCurrent()},multi:!0},{provide:A.K0,useFactory:function Dn(){return(0,U.RDi)(document),document},deps:[]}]),Sn=new U.OlP(""),$n=[{provide:U.rWj,useClass:class De{addToWindow(Y){U.dqk.getAngularTestability=(me,Re=!0)=>{const St=Y.findTestabilityInTree(me,Re);if(null==St)throw new Error("Could not find testability for element.");return St},U.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(me=>{const Re=U.dqk.getAllAngularTestabilities();let St=Re.length,Le=!1;const xt=function(tn){Le=Le||tn,St--,0==St&&me(Le)};Re.forEach(function(tn){tn.whenStable(xt)})})}findTestabilityInTree(Y,q,me){return null==q?null:Y.getTestability(q)??(me?(0,A.q)().isShadowRoot(q)?this.findTestabilityInTree(Y,q.host,!0):this.findTestabilityInTree(Y,q.parentElement,!0):null)}},deps:[]},{provide:U.lri,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]}],Ni=[{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function mi(){return new U.qLn},deps:[]},{provide:Me,useClass:gn,multi:!0,deps:[A.K0,U.R0b,U.Lbi]},{provide:Me,useClass:or,multi:!0,deps:[A.K0]},{provide:le,useClass:le,deps:[it,mt,U.AFp]},{provide:U.FYo,useExisting:le},{provide:bt,useExisting:mt},{provide:mt,useClass:mt,deps:[A.K0]},{provide:it,useClass:it,deps:[Me,U.R0b]},{provide:A.JF,useClass:et,deps:[]},[]];let Mr=(()=>{class he{constructor(q){}static withServerTransition(q){return{ngModule:he,providers:[{provide:U.AFp,useValue:q.appId},{provide:Te,useExisting:U.AFp},J]}}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(Sn,12))},he.\u0275mod=U.oAB({type:he}),he.\u0275inj=U.cJS({providers:[...Ni,...$n],imports:[A.ez,U.hGG]}),he})(),Xt=(()=>{class he{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return he.\u0275fac=function(q){return new(q||he)(U.LFG(A.K0))},he.\u0275prov=U.Yz7({token:he,factory:function(q){let me=null;return me=q?new q:function It(){return new Xt((0,U.LFG)(A.K0))}(),me},providedIn:"root"}),he})();typeof window<"u"&&window},2126:(Et,Ne,j)=>{j.d(Ne,{Od:()=>Qc,yS:()=>Hr,Bz:()=>Ty,lC:()=>V});var A=j(8256),U=j(7579);class ne extends U.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const m=super._subscribe(_);return!m.closed&&_.next(this._value),m}getValue(){const{hasError:_,thrownError:m,_value:I}=this;if(_)throw m;return this._throwIfClosed(),I}next(_){super.next(this._value=_)}}var ge=j(9751),$=j(4742),fe=j(8996),ve=j(4671),Se=j(3268),Te=j(3269),re=j(1810),J=j(5403),De=j(9672);function et(...v){const _=(0,Te.yG)(v),m=(0,Te.jO)(v),{args:I,keys:b}=(0,$.D)(v);if(0===I.length)return(0,fe.D)([],_);const P=new ge.y(function Me(v,_,m=ve.y){return I=>{it(_,()=>{const{length:b}=v,P=new Array(b);let z=b,Z=b;for(let we=0;we<b;we++)it(_,()=>{const Qe=(0,fe.D)(v[we],_);let Ht=!1;Qe.subscribe((0,J.x)(I,ct=>{P[we]=ct,Ht||(Ht=!0,Z--),Z||I.next(m(P.slice()))},()=>{--z||I.complete()}))},I)},I)}}(I,_,b?z=>(0,re.n)(b,z):ve.y));return m?P.pipe((0,Se.Z)(m)):P}function it(v,_,m){v?(0,De.f)(m,v,_):_()}var at=j(8421);function bt(v){return new ge.y(_=>{(0,at.Xf)(v()).subscribe(_)})}var mt=j(576);function Ct(v,_){const m=(0,mt.m)(v)?v:()=>v,I=b=>b.error(m());return new ge.y(_?b=>_.schedule(I,0,b):I)}const We=(0,j(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var He=j(727),_e=j(4482);function Xe(){return(0,_e.e)((v,_)=>{let m=null;v._refCount++;const I=(0,J.x)(_,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const b=v._connection,P=m;m=null,b&&(!P||b===P)&&b.unsubscribe(),_.unsubscribe()});v.subscribe(I),I.closed||(m=v.connect())})}class Ke extends ge.y{constructor(_,m){super(),this.source=_,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new He.w0;const m=this.getSubject();_.add(this.source.subscribe((0,J.x)(m,void 0,()=>{this._teardown(),m.complete()},I=>{this._teardown(),m.error(I)},()=>this._teardown()))),_.closed&&(this._connection=null,_=He.w0.EMPTY)}return _}refCount(){return Xe()(this)}}var ie=j(9646),Ve=j(7272),oe=j(9635),Q=j(515),ye=j(6895);function le(v,_){return(0,_e.e)((m,I)=>{let b=null,P=0,z=!1;const Z=()=>z&&!b&&I.complete();m.subscribe((0,J.x)(I,we=>{b?.unsubscribe();let Qe=0;const Ht=P++;(0,at.Xf)(v(we,Ht)).subscribe(b=(0,J.x)(I,ct=>I.next(_?_(we,ct,Ht,Qe++):ct),()=>{b=null,Z()}))},()=>{z=!0,Z()}))})}var Oe=j(9300),wt=j(5698);function Ut(v){return(0,_e.e)((_,m)=>{let I=!1;_.subscribe((0,J.x)(m,b=>{I=!0,m.next(b)},()=>{I||m.next(v),m.complete()}))})}function _n(v=Pt){return(0,_e.e)((_,m)=>{let I=!1;_.subscribe((0,J.x)(m,b=>{I=!0,m.next(b)},()=>I?m.complete():m.error(v())))})}function Pt(){return new We}function gn(v,_){const m=arguments.length>=2;return I=>I.pipe(v?(0,Oe.h)((b,P)=>v(b,P,I)):ve.y,(0,wt.q)(1),m?Ut(_):_n(()=>new We))}function Cn(v){return(0,_e.e)((_,m)=>{let P,I=null,b=!1;I=_.subscribe((0,J.x)(m,void 0,void 0,z=>{P=(0,at.Xf)(v(z,Cn(v)(_))),I?(I.unsubscribe(),I=null,P.subscribe(m)):b=!0})),b&&(I.unsubscribe(),I=null,P.subscribe(m))})}function yn(v,_,m,I,b){return(P,z)=>{let Z=m,we=_,Qe=0;P.subscribe((0,J.x)(z,Ht=>{const ct=Qe++;we=Z?v(we,Ht,ct):(Z=!0,Ht),I&&z.next(we)},b&&(()=>{Z&&z.next(we),z.complete()})))}}function sr(v,_){return(0,_e.e)(yn(v,_,arguments.length>=2,!0))}function Jn(v){return v<=0?()=>Q.E:(0,_e.e)((_,m)=>{let I=[];_.subscribe((0,J.x)(m,b=>{I.push(b),v<I.length&&I.shift()},()=>{for(const b of I)m.next(b);m.complete()},void 0,()=>{I=null}))})}function Xn(v,_){const m=arguments.length>=2;return I=>I.pipe(v?(0,Oe.h)((b,P)=>v(b,P,I)):ve.y,Jn(1),m?Ut(_):_n(()=>new We))}function un(v){return(0,_e.e)((_,m)=>{try{_.subscribe(m)}finally{m.add(v)}})}var _t=j(4004),Gt=j(5577),Fr=j(4351),Kt=j(8505),mi=j(9718),Dn=j(8189),Ar=j(1481);const Vt="primary";class Sn{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const m=this.params[_];return Array.isArray(m)?m[0]:m}return null}getAll(_){if(this.has(_)){const m=this.params[_];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function $n(v){return new Sn(v)}function Ni(v,_,m){const I=m.path.split("/");if(I.length>v.length||"full"===m.pathMatch&&(_.hasChildren()||I.length<v.length))return null;const b={};for(let P=0;P<I.length;P++){const z=I[P],Z=v[P];if(z.startsWith(":"))b[z.substring(1)]=Z;else if(z!==Z.path)return null}return{consumed:v.slice(0,I.length),posParams:b}}function er(v,_){const m=v?Object.keys(v):void 0,I=_?Object.keys(_):void 0;if(!m||!I||m.length!=I.length)return!1;let b;for(let P=0;P<m.length;P++)if(b=m[P],!br(v[b],_[b]))return!1;return!0}function br(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const m=[...v].sort(),I=[..._].sort();return m.every((b,P)=>I[P]===b)}return v===_}function xr(v){return Array.prototype.concat.apply([],v)}function It(v){return v.length>0?v[v.length-1]:null}function ut(v,_){for(const m in v)v.hasOwnProperty(m)&&_(v[m],m)}function ht(v){return(0,A.CqO)(v)?v:(0,A.QGY)(v)?(0,fe.D)(Promise.resolve(v)):(0,ie.of)(v)}const vn={exact:function Jt(v,_,m){if(!de(v.segments,_.segments)||!X(v.segments,_.segments,m)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const I in _.children)if(!v.children[I]||!Jt(v.children[I],_.children[I],m))return!1;return!0},subset:hn},wn={exact:function Ji(v,_){return er(v,_)},subset:function fn(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(m=>br(v[m],_[m]))},ignored:()=>!0};function An(v,_,m){return vn[m.paths](v.root,_.root,m.matrixParams)&&wn[m.queryParams](v.queryParams,_.queryParams)&&!("exact"===m.fragment&&v.fragment!==_.fragment)}function hn(v,_,m){return ae(v,_,_.segments,m)}function ae(v,_,m,I){if(v.segments.length>m.length){const b=v.segments.slice(0,m.length);return!(!de(b,m)||_.hasChildren()||!X(b,m,I))}if(v.segments.length===m.length){if(!de(v.segments,m)||!X(v.segments,m,I))return!1;for(const b in _.children)if(!v.children[b]||!hn(v.children[b],_.children[b],I))return!1;return!0}{const b=m.slice(0,v.segments.length),P=m.slice(v.segments.length);return!!(de(v.segments,b)&&X(v.segments,b,I)&&v.children[Vt])&&ae(v.children[Vt],_,P,I)}}function X(v,_,m){return _.every((I,b)=>wn[m](v[b].parameters,I.parameters))}class O{constructor(_,m,I){this.root=_,this.queryParams=m,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return At.serialize(this)}}class R{constructor(_,m){this.segments=_,this.children=m,this.parent=null,ut(m,(I,b)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bt(this)}}class k{constructor(_,m){this.path=_,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=$n(this.parameters)),this._parameterMap}toString(){return he(this)}}function de(v,_){return v.length===_.length&&v.every((m,I)=>m.path===_[I].path)}class yt{}class Nt{parse(_){const m=new Vr(_);return new O(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(_){const m=`/${zn(_.root,!0)}`,I=function q(v){const _=Object.keys(v).map(m=>{const I=v[m];return Array.isArray(I)?I.map(b=>`${qn(m)}=${qn(b)}`).join("&"):`${qn(m)}=${qn(I)}`}).filter(m=>!!m);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${m}${I}${"string"==typeof _.fragment?`#${function In(v){return encodeURI(v)}(_.fragment)}`:""}`}}const At=new Nt;function Bt(v){return v.segments.map(_=>he(_)).join("/")}function zn(v,_){if(!v.hasChildren())return Bt(v);if(_){const m=v.children[Vt]?zn(v.children[Vt],!1):"",I=[];return ut(v.children,(b,P)=>{P!==Vt&&I.push(`${P}:${zn(b,!1)}`)}),I.length>0?`${m}(${I.join("//")})`:m}{const m=function Fe(v,_){let m=[];return ut(v.children,(I,b)=>{b===Vt&&(m=m.concat(_(I,b)))}),ut(v.children,(I,b)=>{b!==Vt&&(m=m.concat(_(I,b)))}),m}(v,(I,b)=>b===Vt?[zn(v.children[Vt],!1)]:[`${b}:${zn(I,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Vt]?`${Bt(v)}/${m[0]}`:`${Bt(v)}/(${m.join("//")})`}}function tr(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qn(v){return tr(v).replace(/%3B/gi,";")}function Fn(v){return tr(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pr(v){return decodeURIComponent(v)}function Ri(v){return pr(v.replace(/\+/g,"%20"))}function he(v){return`${Fn(v.path)}${function Y(v){return Object.keys(v).map(_=>`;${Fn(_)}=${Fn(v[_])}`).join("")}(v.parameters)}`}const me=/^[^\/()?;=#]+/;function Re(v){const _=v.match(me);return _?_[0]:""}const St=/^[^=?&#]+/,xt=/^[^&#]+/;class Vr{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(_.length>0||Object.keys(m).length>0)&&(I[Vt]=new R(_,m)),I}parseSegment(){const _=Re(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new A.vHH(4009,!1);return this.capture(_),new k(pr(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const m=Re(this.remaining);if(!m)return;this.capture(m);let I="";if(this.consumeOptional("=")){const b=Re(this.remaining);b&&(I=b,this.capture(I))}_[pr(m)]=pr(I)}parseQueryParam(_){const m=function Le(v){const _=v.match(St);return _?_[0]:""}(this.remaining);if(!m)return;this.capture(m);let I="";if(this.consumeOptional("=")){const z=function tn(v){const _=v.match(xt);return _?_[0]:""}(this.remaining);z&&(I=z,this.capture(I))}const b=Ri(m),P=Ri(I);if(_.hasOwnProperty(b)){let z=_[b];Array.isArray(z)||(z=[z],_[b]=z),z.push(P)}else _[b]=P}parseParens(_){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Re(this.remaining),b=this.remaining[I.length];if("/"!==b&&")"!==b&&";"!==b)throw new A.vHH(4010,!1);let P;I.indexOf(":")>-1?(P=I.slice(0,I.indexOf(":")),this.capture(P),this.capture(":")):_&&(P=Vt);const z=this.parseChildren();m[P]=1===Object.keys(z).length?z[Vt]:new R([],z),this.consumeOptional("//")}return m}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new A.vHH(4011,!1)}}function yi(v){return v.segments.length>0?new R([],{[Vt]:v}):v}function ar(v){const _={};for(const I of Object.keys(v.children)){const P=ar(v.children[I]);(P.segments.length>0||P.hasChildren())&&(_[I]=P)}return function eo(v){if(1===v.numberOfChildren&&v.children[Vt]){const _=v.children[Vt];return new R(v.segments.concat(_.segments),_.children)}return v}(new R(v.segments,_))}function zt(v){return v instanceof O}function gr(v,_,m,I,b){if(0===m.length)return nr(_.root,_.root,_.root,I,b);const P=function Nr(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new vs(!0,0,v);let _=0,m=!1;const I=v.reduce((b,P,z)=>{if("object"==typeof P&&null!=P){if(P.outlets){const Z={};return ut(P.outlets,(we,Qe)=>{Z[Qe]="string"==typeof we?we.split("/"):we}),[...b,{outlets:Z}]}if(P.segmentPath)return[...b,P.segmentPath]}return"string"!=typeof P?[...b,P]:0===z?(P.split("/").forEach((Z,we)=>{0==we&&"."===Z||(0==we&&""===Z?m=!0:".."===Z?_++:""!=Z&&b.push(Z))}),b):[...b,P]},[]);return new vs(m,_,I)}(m);return P.toRoot()?nr(_.root,_.root,new R([],{}),I,b):function z(we){const Qe=function Mn(v,_,m,I){if(v.isAbsolute)return new Oi(_.root,!0,0);if(-1===I)return new Oi(m,m===_.root,0);return function qo(v,_,m){let I=v,b=_,P=m;for(;P>b;){if(P-=b,I=I.parent,!I)throw new A.vHH(4005,!1);b=I.segments.length}return new Oi(I,!1,b-P)}(m,I+(to(v.commands[0])?0:1),v.numberOfDoubleDots)}(P,_,v.snapshot?._urlSegment,we),Ht=Qe.processChildren?Vs(Qe.segmentGroup,Qe.index,P.commands):Pi(Qe.segmentGroup,Qe.index,P.commands);return nr(_.root,Qe.segmentGroup,Ht,I,b)}(v.snapshot?._lastPathIndex)}function to(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Xi(v){return"object"==typeof v&&null!=v&&v.outlets}function nr(v,_,m,I,b){let z,P={};I&&ut(I,(we,Qe)=>{P[Qe]=Array.isArray(we)?we.map(Ht=>`${Ht}`):`${we}`}),z=v===_?m:es(v,_,m);const Z=yi(ar(z));return new O(Z,P,b)}function es(v,_,m){const I={};return ut(v.children,(b,P)=>{I[P]=b===_?m:es(b,_,m)}),new R(v.segments,I)}class vs{constructor(_,m,I){if(this.isAbsolute=_,this.numberOfDoubleDots=m,this.commands=I,_&&I.length>0&&to(I[0]))throw new A.vHH(4003,!1);const b=I.find(Xi);if(b&&b!==It(I))throw new A.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oi{constructor(_,m,I){this.segmentGroup=_,this.processChildren=m,this.index=I}}function Pi(v,_,m){if(v||(v=new R([],{})),0===v.segments.length&&v.hasChildren())return Vs(v,_,m);const I=function Bs(v,_,m){let I=0,b=_;const P={match:!1,pathIndex:0,commandIndex:0};for(;b<v.segments.length;){if(I>=m.length)return P;const z=v.segments[b],Z=m[I];if(Xi(Z))break;const we=`${Z}`,Qe=I<m.length-1?m[I+1]:null;if(b>0&&void 0===we)break;if(we&&Qe&&"object"==typeof Qe&&void 0===Qe.outlets){if(!ba(we,Qe,z))return P;I+=2}else{if(!ba(we,{},z))return P;I++}b++}return{match:!0,pathIndex:b,commandIndex:I}}(v,_,m),b=m.slice(I.commandIndex);if(I.match&&I.pathIndex<v.segments.length){const P=new R(v.segments.slice(0,I.pathIndex),{});return P.children[Vt]=new R(v.segments.slice(I.pathIndex),v.children),Vs(P,0,b)}return I.match&&0===b.length?new R(v.segments,{}):I.match&&!v.hasChildren()?Wo(v,_,m):I.match?Vs(v,0,b):Wo(v,_,m)}function Vs(v,_,m){if(0===m.length)return new R(v.segments,{});{const I=function Da(v){return Xi(v[0])?v[0].outlets:{[Vt]:v}}(m),b={};return ut(I,(P,z)=>{"string"==typeof P&&(P=[P]),null!==P&&(b[z]=Pi(v.children[z],_,P))}),ut(v.children,(P,z)=>{void 0===I[z]&&(b[z]=P)}),new R(v.segments,b)}}function Wo(v,_,m){const I=v.segments.slice(0,_);let b=0;for(;b<m.length;){const P=m[b];if(Xi(P)){const we=js(P.outlets);return new R(I,we)}if(0===b&&to(m[0])){I.push(new k(v.segments[_].path,mr(m[0]))),b++;continue}const z=Xi(P)?P.outlets[Vt]:`${P}`,Z=b<m.length-1?m[b+1]:null;z&&Z&&to(Z)?(I.push(new k(z,mr(Z))),b+=2):(I.push(new k(z,{})),b++)}return new R(I,{})}function js(v){const _={};return ut(v,(m,I)=>{"string"==typeof m&&(m=[m]),null!==m&&(_[I]=Wo(new R([],{}),0,m))}),_}function mr(v){const _={};return ut(v,(m,I)=>_[I]=`${m}`),_}function ba(v,_,m){return v==m.path&&er(_,m.parameters)}class rr{constructor(_,m){this.id=_,this.url=m}}class Br extends rr{constructor(_,m,I="imperative",b=null){super(_,m),this.type=0,this.navigationTrigger=I,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ws extends rr{constructor(_,m,I){super(_,m),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $s extends rr{constructor(_,m,I,b){super(_,m),this.reason=I,this.code=b,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jr extends rr{constructor(_,m,I,b){super(_,m),this.error=I,this.target=b,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ai extends rr{constructor(_,m,I,b){super(_,m),this.urlAfterRedirects=I,this.state=b,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nu extends rr{constructor(_,m,I,b){super(_,m),this.urlAfterRedirects=I,this.state=b,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends rr{constructor(_,m,I,b,P){super(_,m),this.urlAfterRedirects=I,this.state=b,this.shouldActivate=P,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ru extends rr{constructor(_,m,I,b){super(_,m),this.urlAfterRedirects=I,this.state=b,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mc extends rr{constructor(_,m,I,b){super(_,m),this.urlAfterRedirects=I,this.state=b,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class To{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ju{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $u{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iu{constructor(_,m,I){this.routerEvent=_,this.position=m,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gl{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const m=this.pathFromRoot(_);return m.length>1?m[m.length-2]:null}children(_){const m=Do(_,this._root);return m?m.children.map(I=>I.value):[]}firstChild(_){const m=Do(_,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(_){const m=bo(_,this._root);return m.length<2?[]:m[m.length-2].children.map(b=>b.value).filter(b=>b!==_)}pathFromRoot(_){return bo(_,this._root).map(m=>m.value)}}function Do(v,_){if(v===_.value)return _;for(const m of _.children){const I=Do(v,m);if(I)return I}return null}function bo(v,_){if(v===_.value)return[_];for(const m of _.children){const I=bo(v,m);if(I.length)return I.unshift(_),I}return[]}class ts{constructor(_,m){this.value=_,this.children=m}toString(){return`TreeNode(${this.value})`}}function xo(v){const _={};return v&&v.children.forEach(m=>_[m.value.outlet]=m),_}class xa extends Gl{constructor(_,m){super(_),this.snapshot=m,_i(this,_)}toString(){return this.snapshot.toString()}}function su(v,_){const m=function Ca(v,_){const z=new Gs([],{},{},"",{},Vt,_,null,v.root,-1,{});return new zl("",new ts(z,[]))}(v,_),I=new ne([new k("",{})]),b=new ne({}),P=new ne({}),z=new ne({}),Z=new ne(""),we=new Jr(I,b,z,Z,P,Vt,_,m.root);return we.snapshot=m.root,new xa(new ts(we,[]),m)}class Jr{constructor(_,m,I,b,P,z,Z,we){this.url=_,this.params=m,this.queryParams=I,this.fragment=b,this.data=P,this.outlet=z,this.component=Z,this._futureSnapshot=we}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(_=>$n(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(_=>$n(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ou(v,_="emptyOnly"){const m=v.pathFromRoot;let I=0;if("always"!==_)for(I=m.length-1;I>=1;){const b=m[I],P=m[I-1];if(b.routeConfig&&""===b.routeConfig.path)I--;else{if(P.component)break;I--}}return function au(v){return v.reduce((_,m)=>({params:{..._.params,...m.params},data:{..._.data,...m.data},resolve:{...m.data,..._.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(I))}class Gs{constructor(_,m,I,b,P,z,Z,we,Qe,Ht,ct,On){this.url=_,this.params=m,this.queryParams=I,this.fragment=b,this.data=P,this.outlet=z,this.component=Z,this.routeConfig=we,this._urlSegment=Qe,this._lastPathIndex=Ht,this._correctedLastPathIndex=On??Ht,this._resolve=ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zl extends Gl{constructor(_,m){super(m),this.url=_,_i(this,m)}toString(){return Li(this._root)}}function _i(v,_){_.value._routerState=v,_.children.forEach(m=>_i(v,m))}function Li(v){const _=v.children.length>0?` { ${v.children.map(Li).join(", ")} } `:"";return`${v.value}${_}`}function ro(v){if(v.snapshot){const _=v.snapshot,m=v._futureSnapshot;v.snapshot=m,er(_.queryParams,m.queryParams)||v.queryParams.next(m.queryParams),_.fragment!==m.fragment&&v.fragment.next(m.fragment),er(_.params,m.params)||v.params.next(m.params),function Mr(v,_){if(v.length!==_.length)return!1;for(let m=0;m<v.length;++m)if(!er(v[m],_[m]))return!1;return!0}(_.url,m.url)||v.url.next(m.url),er(_.data,m.data)||v.data.next(m.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Ko(v,_){const m=er(v.params,_.params)&&function ce(v,_){return de(v,_)&&v.every((m,I)=>er(m.parameters,_[I].parameters))}(v.url,_.url);return m&&!(!v.parent!=!_.parent)&&(!v.parent||Ko(v.parent,_.parent))}function Qo(v,_,m){if(m&&v.shouldReuseRoute(_.value,m.value.snapshot)){const I=m.value;I._futureSnapshot=_.value;const b=function Nc(v,_,m){return _.children.map(I=>{for(const b of m.children)if(v.shouldReuseRoute(I.value,b.value.snapshot))return Qo(v,I,b);return Qo(v,I)})}(v,_,m);return new ts(I,b)}{if(v.shouldAttach(_.value)){const P=v.retrieve(_.value);if(null!==P){const z=P.route;return z.value._futureSnapshot=_.value,z.children=_.children.map(Z=>Qo(v,Z)),z}}const I=function Co(v){return new Jr(new ne(v.url),new ne(v.params),new ne(v.queryParams),new ne(v.fragment),new ne(v.data),v.outlet,v.component,v)}(_.value),b=_.children.map(P=>Qo(v,P));return new ts(I,b)}}const ui="ngNavigationCancelingError";function Xr(v,_){const{redirectTo:m,navigationBehaviorOptions:I}=zt(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,b=cu(!1,0,_);return b.url=m,b.navigationBehaviorOptions=I,b}function cu(v,_,m){const I=new Error("NavigationCancelingError: "+(v||""));return I[ui]=!0,I.cancellationCode=_,m&&(I.url=m),I}function Fi(v){return Is(v)&&zt(v.url)}function Is(v){return v&&v[ui]}class lu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new So,this.attachRef=null}}class So{constructor(){this.contexts=new Map}onChildOutletCreated(_,m){const I=this.getOrCreateContext(_);I.outlet=m,this.contexts.set(_,I)}onChildOutletDestroyed(_){const m=this.getContext(_);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let m=this.getContext(_);return m||(m=new lu,this.contexts.set(_,m)),m}getContext(_){return this.contexts.get(_)||null}}const x=!1;let V=(()=>{class v{constructor(m,I,b,P,z){this.parentContexts=m,this.location=I,this.changeDetector=P,this.environmentInjector=z,this.activated=null,this._activatedRoute=null,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.attachEvents=new A.vpe,this.detachEvents=new A.vpe,this.name=b||Vt,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A.vHH(4012,x);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A.vHH(4012,x);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A.vHH(4012,x);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,I){this.activated=m,this._activatedRoute=I,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,I){if(this.isActivated)throw new A.vHH(4013,x);this._activatedRoute=m;const b=this.location,z=m._futureSnapshot.component,Z=this.parentContexts.getOrCreateContext(this.name).children,we=new C(m,Z,b.injector);if(I&&function B(v){return!!v.resolveComponentFactory}(I)){const Qe=I.resolveComponentFactory(z);this.activated=b.createComponent(Qe,b.length,we)}else this.activated=b.createComponent(z,{index:b.length,injector:we,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)(A.Y36(So),A.Y36(A.s_b),A.$8M("name"),A.Y36(A.sBO),A.Y36(A.lqb))},v.\u0275dir=A.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),v})();class C{constructor(_,m,I){this.route=_,this.childContexts=m,this.parent=I}get(_,m){return _===Jr?this.route:_===So?this.childContexts:this.parent.get(_,m)}}let ee=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=A.Xpm({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(m,I){1&m&&A._UZ(0,"router-outlet")},dependencies:[V],encapsulation:2}),v})();function be(v,_){return v.providers&&!v._injector&&(v._injector=(0,A.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function ur(v){const _=v.children&&v.children.map(ur),m=_?{...v,children:_}:{...v};return!m.component&&!m.loadComponent&&(_||m.loadChildren)&&m.outlet&&m.outlet!==Vt&&(m.component=ee),m}function gt(v){return v.outlet||Vt}function Ui(v,_){const m=v.filter(I=>gt(I)===_);return m.push(...v.filter(I=>gt(I)!==_)),m}function io(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const m=_.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Sa{constructor(_,m,I,b){this.routeReuseStrategy=_,this.futureState=m,this.currState=I,this.forwardEvent=b}activate(_){const m=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,I,_),ro(this.futureState.root),this.activateChildRoutes(m,I,_)}deactivateChildRoutes(_,m,I){const b=xo(m);_.children.forEach(P=>{const z=P.value.outlet;this.deactivateRoutes(P,b[z],I),delete b[z]}),ut(b,(P,z)=>{this.deactivateRouteAndItsChildren(P,I)})}deactivateRoutes(_,m,I){const b=_.value,P=m?m.value:null;if(b===P)if(b.component){const z=I.getContext(b.outlet);z&&this.deactivateChildRoutes(_,m,z.children)}else this.deactivateChildRoutes(_,m,I);else P&&this.deactivateRouteAndItsChildren(m,I)}deactivateRouteAndItsChildren(_,m){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,m):this.deactivateRouteAndOutlet(_,m)}detachAndStoreRouteSubtree(_,m){const I=m.getContext(_.value.outlet),b=I&&_.value.component?I.children:m,P=xo(_);for(const z of Object.keys(P))this.deactivateRouteAndItsChildren(P[z],b);if(I&&I.outlet){const z=I.outlet.detach(),Z=I.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:z,route:_,contexts:Z})}}deactivateRouteAndOutlet(_,m){const I=m.getContext(_.value.outlet),b=I&&_.value.component?I.children:m,P=xo(_);for(const z of Object.keys(P))this.deactivateRouteAndItsChildren(P[z],b);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(_,m,I){const b=xo(m);_.children.forEach(P=>{this.activateRoutes(P,b[P.value.outlet],I),this.forwardEvent(new $l(P.value.snapshot))}),_.children.length&&this.forwardEvent(new jl(_.value.snapshot))}activateRoutes(_,m,I){const b=_.value,P=m?m.value:null;if(ro(b),b===P)if(b.component){const z=I.getOrCreateContext(b.outlet);this.activateChildRoutes(_,m,z.children)}else this.activateChildRoutes(_,m,I);else if(b.component){const z=I.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const Z=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),z.children.onOutletReAttached(Z.contexts),z.attachRef=Z.componentRef,z.route=Z.route.value,z.outlet&&z.outlet.attach(Z.componentRef,Z.route.value),ro(Z.route.value),this.activateChildRoutes(_,null,z.children)}else{const Z=io(b.snapshot),we=Z?.get(A._Vd)??null;z.attachRef=null,z.route=b,z.resolver=we,z.injector=Z,z.outlet&&z.outlet.activateWith(b,z.injector),this.activateChildRoutes(_,null,z.children)}}else this.activateChildRoutes(_,null,I)}}class zs{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Es{constructor(_,m){this.component=_,this.route=m}}function Aa(v,_,m){const I=v._root;return dn(I,_?_._root:null,m,[I.value])}function Pe(v,_,m){return(io(_)??m).get(v)}function dn(v,_,m,I,b={canDeactivateChecks:[],canActivateChecks:[]}){const P=xo(_);return v.children.forEach(z=>{(function du(v,_,m,I,b={canDeactivateChecks:[],canActivateChecks:[]}){const P=v.value,z=_?_.value:null,Z=m?m.getContext(v.value.outlet):null;if(z&&P.routeConfig===z.routeConfig){const we=function yp(v,_,m){if("function"==typeof m)return m(v,_);switch(m){case"pathParamsChange":return!de(v.url,_.url);case"pathParamsOrQueryParamsChange":return!de(v.url,_.url)||!er(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ko(v,_)||!er(v.queryParams,_.queryParams);default:return!Ko(v,_)}}(z,P,P.routeConfig.runGuardsAndResolvers);we?b.canActivateChecks.push(new zs(I)):(P.data=z.data,P._resolvedData=z._resolvedData),dn(v,_,P.component?Z?Z.children:null:m,I,b),we&&Z&&Z.outlet&&Z.outlet.isActivated&&b.canDeactivateChecks.push(new Es(Z.outlet.component,z))}else z&&Hn(_,Z,b),b.canActivateChecks.push(new zs(I)),dn(v,null,P.component?Z?Z.children:null:m,I,b)})(z,P[z.value.outlet],m,I.concat([z.value]),b),delete P[z.value.outlet]}),ut(P,(z,Z)=>Hn(z,m.getContext(Z),b)),b}function Hn(v,_,m){const I=xo(v),b=v.value;ut(I,(P,z)=>{Hn(P,b.component?_?_.children.getContext(z):null:_,m)}),m.canDeactivateChecks.push(new Es(b.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,b))}function Ma(v){return"function"==typeof v}const $r=Symbol("INITIAL_VALUE");function vi(){return le(v=>et(v.map(_=>_.pipe((0,wt.q)(1),function Ge(...v){const _=(0,Te.yG)(v);return(0,_e.e)((m,I)=>{(_?(0,Ve.z)(v,m,_):(0,Ve.z)(v,m)).subscribe(I)})}($r)))).pipe((0,_t.U)(_=>{for(const m of _)if(!0!==m){if(m===$r)return $r;if(!1===m||m instanceof O)return m}return!0}),(0,Oe.h)(_=>_!==$r),(0,wt.q)(1)))}function Rc(v){return(0,oe.z)((0,Kt.b)(_=>{if(zt(_))throw Xr(0,_)}),(0,_t.U)(_=>!0===_))}const Hu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oa(v,_,m,I,b){const P=gu(v,_,m);return P.matched?function pu(v,_,m,I){const b=_.canMatch;if(!b||0===b.length)return(0,ie.of)(!0);const P=b.map(z=>{const Z=v.get(z),we=function rh(v){return v&&Ma(v.canMatch)}(Z)?Z.canMatch(_,m):Z(_,m);return ht(we)});return(0,ie.of)(P).pipe(vi(),Rc())}(I=be(_,I),_,m).pipe((0,_t.U)(z=>!0===z?P:{...Hu})):(0,ie.of)(P)}function gu(v,_,m){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||m.length>0)?{...Hu}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const b=(_.matcher||Ni)(m,v,_);if(!b)return{...Hu};const P={};ut(b.posParams,(Z,we)=>{P[we]=Z.path});const z=b.consumed.length>0?{...P,...b.consumed[b.consumed.length-1].parameters}:P;return{matched:!0,consumedSegments:b.consumed,remainingSegments:m.slice(b.consumed.length),parameters:z,positionalParamSegments:b.posParams??{}}}function Gu(v,_,m,I,b="corrected"){if(m.length>0&&function Oc(v,_,m){return m.some(I=>Pc(v,_,I)&&gt(I)!==Vt)}(v,m,I)){const z=new R(_,function zu(v,_,m,I){const b={};b[Vt]=I,I._sourceSegment=v,I._segmentIndexShift=_.length;for(const P of m)if(""===P.path&&gt(P)!==Vt){const z=new R([],{});z._sourceSegment=v,z._segmentIndexShift=_.length,b[gt(P)]=z}return b}(v,_,I,new R(m,v.children)));return z._sourceSegment=v,z._segmentIndexShift=_.length,{segmentGroup:z,slicedSegments:[]}}if(0===m.length&&function Jo(v,_,m){return m.some(I=>Pc(v,_,I))}(v,m,I)){const z=new R(v.segments,function kc(v,_,m,I,b,P){const z={};for(const Z of I)if(Pc(v,m,Z)&&!b[gt(Z)]){const we=new R([],{});we._sourceSegment=v,we._segmentIndexShift="legacy"===P?v.segments.length:_.length,z[gt(Z)]=we}return{...b,...z}}(v,_,m,I,v.children,b));return z._sourceSegment=v,z._segmentIndexShift=_.length,{segmentGroup:z,slicedSegments:m}}const P=new R(v.segments,v.children);return P._sourceSegment=v,P._segmentIndexShift=_.length,{segmentGroup:P,slicedSegments:m}}function Pc(v,_,m){return(!(v.hasChildren()||_.length>0)||"full"!==m.pathMatch)&&""===m.path}function qu(v,_,m,I){return!!(gt(v)===I||I!==Vt&&Pc(_,m,v))&&("**"===v.path||gu(_,v,m).matched)}function ei(v,_,m){return 0===_.length&&!v.children[m]}const qs=!1;class ir{constructor(_){this.segmentGroup=_||null}}class Lc{constructor(_){this.urlTree=_}}function Fc(v){return Ct(new ir(v))}function vp(v){return Ct(new Lc(v))}class Vc{constructor(_,m,I,b,P){this.injector=_,this.configLoader=m,this.urlSerializer=I,this.urlTree=b,this.config=P,this.allowRedirects=!0}apply(){const _=Gu(this.urlTree.root,[],[],this.config).segmentGroup,m=new R(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,m,Vt).pipe((0,_t.U)(P=>this.createUrlTree(ar(P),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cn(P=>{if(P instanceof Lc)return this.allowRedirects=!1,this.match(P.urlTree);throw P instanceof ir?this.noMatchError(P):P}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,Vt).pipe((0,_t.U)(b=>this.createUrlTree(ar(b),_.queryParams,_.fragment))).pipe(Cn(b=>{throw b instanceof ir?this.noMatchError(b):b}))}noMatchError(_){return new A.vHH(4002,qs)}createUrlTree(_,m,I){const b=yi(_);return new O(b,m,I)}expandSegmentGroup(_,m,I,b){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(_,m,I).pipe((0,_t.U)(P=>new R([],P))):this.expandSegment(_,I,m,I.segments,b,!0)}expandChildren(_,m,I){const b=[];for(const P of Object.keys(I.children))"primary"===P?b.unshift(P):b.push(P);return(0,fe.D)(b).pipe((0,Fr.b)(P=>{const z=I.children[P],Z=Ui(m,P);return this.expandSegmentGroup(_,Z,z,P).pipe((0,_t.U)(we=>({segment:we,outlet:P})))}),sr((P,z)=>(P[z.outlet]=z.segment,P),{}),Xn())}expandSegment(_,m,I,b,P,z){return(0,fe.D)(I).pipe((0,Fr.b)(Z=>this.expandSegmentAgainstRoute(_,m,I,Z,b,P,z).pipe(Cn(Qe=>{if(Qe instanceof ir)return(0,ie.of)(null);throw Qe}))),gn(Z=>!!Z),Cn((Z,we)=>{if(Z instanceof We||"EmptyError"===Z.name)return ei(m,b,P)?(0,ie.of)(new R([],{})):Fc(m);throw Z}))}expandSegmentAgainstRoute(_,m,I,b,P,z,Z){return qu(b,m,P,z)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(_,m,b,P,z):Z&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,m,I,b,P,z):Fc(m):Fc(m)}expandSegmentAgainstRouteUsingRedirect(_,m,I,b,P,z){return"**"===b.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,I,b,z):this.expandRegularSegmentAgainstRouteUsingRedirect(_,m,I,b,P,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,m,I,b){const P=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?vp(P):this.lineralizeSegments(I,P).pipe((0,Gt.z)(z=>{const Z=new R(z,{});return this.expandSegment(_,Z,m,z,b,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,m,I,b,P,z){const{matched:Z,consumedSegments:we,remainingSegments:Qe,positionalParamSegments:Ht}=gu(m,b,P);if(!Z)return Fc(m);const ct=this.applyRedirectCommands(we,b.redirectTo,Ht);return b.redirectTo.startsWith("/")?vp(ct):this.lineralizeSegments(b,ct).pipe((0,Gt.z)(On=>this.expandSegment(_,m,I,On.concat(Qe),z,!1)))}matchSegmentAgainstRoute(_,m,I,b,P){return"**"===I.path?(_=be(I,_),I.loadChildren?(I._loadedRoutes?(0,ie.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(_,I)).pipe((0,_t.U)(Z=>(I._loadedRoutes=Z.routes,I._loadedInjector=Z.injector,new R(b,{})))):(0,ie.of)(new R(b,{}))):Oa(m,I,b,_).pipe(le(({matched:z,consumedSegments:Z,remainingSegments:we})=>z?this.getChildConfig(_=I._injector??_,I,b).pipe((0,Gt.z)(Ht=>{const ct=Ht.injector??_,On=Ht.routes,{segmentGroup:$i,slicedSegments:bs}=Gu(m,Z,we,On),Pa=new R($i.segments,$i.children);if(0===bs.length&&Pa.hasChildren())return this.expandChildren(ct,On,Pa).pipe((0,_t.U)(xu=>new R(Z,xu)));if(0===On.length&&0===bs.length)return(0,ie.of)(new R(Z,{}));const Rr=gt(I)===P;return this.expandSegment(ct,Pa,On,bs,Rr?Vt:P,!0).pipe((0,_t.U)(bu=>new R(Z.concat(bu.segments),bu.children)))})):Fc(m)))}getChildConfig(_,m,I){return m.children?(0,ie.of)({routes:m.children,injector:_}):m.loadChildren?void 0!==m._loadedRoutes?(0,ie.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Zo(v,_,m,I){const b=_.canLoad;if(void 0===b||0===b.length)return(0,ie.of)(!0);const P=b.map(z=>{const Z=v.get(z),we=function so(v){return v&&Ma(v.canLoad)}(Z)?Z.canLoad(_,m):Z(_,m);return ht(we)});return(0,ie.of)(P).pipe(vi(),Rc())}(_,m,I).pipe((0,Gt.z)(b=>b?this.configLoader.loadChildren(_,m).pipe((0,Kt.b)(P=>{m._loadedRoutes=P.routes,m._loadedInjector=P.injector})):function wp(v){return Ct(cu(qs,3))}())):(0,ie.of)({routes:[],injector:_})}lineralizeSegments(_,m){let I=[],b=m.root;for(;;){if(I=I.concat(b.segments),0===b.numberOfChildren)return(0,ie.of)(I);if(b.numberOfChildren>1||!b.children[Vt])return Ct(new A.vHH(4e3,qs));b=b.children[Vt]}}applyRedirectCommands(_,m,I){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),_,I)}applyRedirectCreateUrlTree(_,m,I,b){const P=this.createSegmentGroup(_,m.root,I,b);return new O(P,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(_,m){const I={};return ut(_,(b,P)=>{if("string"==typeof b&&b.startsWith(":")){const Z=b.substring(1);I[P]=m[Z]}else I[P]=b}),I}createSegmentGroup(_,m,I,b){const P=this.createSegments(_,m.segments,I,b);let z={};return ut(m.children,(Z,we)=>{z[we]=this.createSegmentGroup(_,Z,I,b)}),new R(P,z)}createSegments(_,m,I,b){return m.map(P=>P.path.startsWith(":")?this.findPosParam(_,P,b):this.findOrReturn(P,I))}findPosParam(_,m,I){const b=I[m.path.substring(1)];if(!b)throw new A.vHH(4001,qs);return b}findOrReturn(_,m){let I=0;for(const b of m){if(b.path===_.path)return m.splice(I),b;I++}return _}}class yr{}class ea{constructor(_,m,I,b,P,z,Z,we){this.injector=_,this.rootComponentType=m,this.config=I,this.urlTree=b,this.url=P,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=Z,this.urlSerializer=we}recognize(){const _=Gu(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,Vt).pipe((0,_t.U)(m=>{if(null===m)return null;const I=new Gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),b=new ts(I,m),P=new zl(this.url,b);return this.inheritParamsAndData(P._root),P}))}inheritParamsAndData(_){const m=_.value,I=ou(m,this.paramsInheritanceStrategy);m.params=Object.freeze(I.params),m.data=Object.freeze(I.data),_.children.forEach(b=>this.inheritParamsAndData(b))}processSegmentGroup(_,m,I,b){return 0===I.segments.length&&I.hasChildren()?this.processChildren(_,m,I):this.processSegment(_,m,I,I.segments,b)}processChildren(_,m,I){return(0,fe.D)(Object.keys(I.children)).pipe((0,Fr.b)(b=>{const P=I.children[b],z=Ui(m,b);return this.processSegmentGroup(_,z,P,b)}),sr((b,P)=>b&&P?(b.push(...P),b):null),function or(v,_=!1){return(0,_e.e)((m,I)=>{let b=0;m.subscribe((0,J.x)(I,P=>{const z=v(P,b++);(z||_)&&I.next(P),!z&&I.complete()}))})}(b=>null!==b),Ut(null),Xn(),(0,_t.U)(b=>{if(null===b)return null;const P=Ws(b);return function mu(v){v.sort((_,m)=>_.value.outlet===Vt?-1:m.value.outlet===Vt?1:_.value.outlet.localeCompare(m.value.outlet))}(P),P}))}processSegment(_,m,I,b,P){return(0,fe.D)(m).pipe((0,Fr.b)(z=>this.processSegmentAgainstRoute(z._injector??_,z,I,b,P)),gn(z=>!!z),Cn(z=>{if(z instanceof We)return ei(I,b,P)?(0,ie.of)([]):(0,ie.of)(null);throw z}))}processSegmentAgainstRoute(_,m,I,b,P){if(m.redirectTo||!qu(m,I,b,P))return(0,ie.of)(null);let z;if("**"===m.path){const Z=b.length>0?It(b).parameters:{},we=Hc(I)+b.length,Qe=new Gs(b,Z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ns(m),gt(m),m.component??m._loadedComponent??null,m,oh(I),we,Wu(m),we);z=(0,ie.of)({snapshot:Qe,consumedSegments:[],remainingSegments:[]})}else z=Oa(I,m,b,_).pipe((0,_t.U)(({matched:Z,consumedSegments:we,remainingSegments:Qe,parameters:Ht})=>{if(!Z)return null;const ct=Hc(I)+we.length;return{snapshot:new Gs(we,Ht,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ns(m),gt(m),m.component??m._loadedComponent??null,m,oh(I),ct,Wu(m),ct),consumedSegments:we,remainingSegments:Qe}}));return z.pipe(le(Z=>{if(null===Z)return(0,ie.of)(null);const{snapshot:we,consumedSegments:Qe,remainingSegments:Ht}=Z;_=m._injector??_;const ct=m._loadedInjector??_,On=function $c(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(m),{segmentGroup:$i,slicedSegments:bs}=Gu(I,Qe,Ht,On.filter(Rr=>void 0===Rr.redirectTo),this.relativeLinkResolution);if(0===bs.length&&$i.hasChildren())return this.processChildren(ct,On,$i).pipe((0,_t.U)(Rr=>null===Rr?null:[new ts(we,Rr)]));if(0===On.length&&0===bs.length)return(0,ie.of)([new ts(we,[])]);const Pa=gt(m)===P;return this.processSegment(ct,On,$i,bs,Pa?Vt:P).pipe((0,_t.U)(Rr=>null===Rr?null:[new ts(we,Rr)]))}))}}function sh(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Ws(v){const _=[],m=new Set;for(const I of v){if(!sh(I)){_.push(I);continue}const b=_.find(P=>I.value.routeConfig===P.value.routeConfig);void 0!==b?(b.children.push(...I.children),m.add(b)):_.push(I)}for(const I of m){const b=Ws(I.children);_.push(new ts(I.value,b))}return _.filter(I=>!m.has(I))}function oh(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Hc(v){let _=v,m=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,m+=_._segmentIndexShift??0;return m-1}function ns(v){return v.data||{}}function Wu(v){return v.resolve||{}}const Gc=Symbol("RouteTitle");function Ts(v){return"string"==typeof v.title||null===v.title}function vu(v){return le(_=>{const m=v(_);return m?(0,fe.D)(m).pipe((0,_t.U)(()=>_)):(0,ie.of)(_)})}let Yn=(()=>{class v{buildTitle(m){let I,b=m.root;for(;void 0!==b;)I=this.getResolvedTitleForRoute(b)??I,b=b.children.find(P=>P.outlet===Vt);return I}getResolvedTitleForRoute(m){return m.data[Gc]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=A.Yz7({token:v,factory:function(){return(0,A.f3M)(ch)},providedIn:"root"}),v})(),ch=(()=>{class v extends Yn{constructor(m){super(),this.title=m}updateTitle(m){const I=this.buildTitle(m);void 0!==I&&this.title.setTitle(I)}}return v.\u0275fac=function(m){return new(m||v)(A.LFG(Ar.Dx))},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class qc{}class wu extends class lh{shouldDetach(_){return!1}store(_,m){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,m){return _.routeConfig===m.routeConfig}}{}const Ku=new A.OlP("",{providedIn:"root",factory:()=>({})}),ra=new A.OlP("ROUTES");let No=(()=>{class v{constructor(m,I){this.injector=m,this.compiler=I,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ie.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const I=ht(m.loadComponent()).pipe((0,Kt.b)(P=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=P}),un(()=>{this.componentLoaders.delete(m)})),b=new Ke(I,()=>new U.x).pipe(Xe());return this.componentLoaders.set(m,b),b}loadChildren(m,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,ie.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const P=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,_t.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(I);let we,Qe,Ht=!1;Array.isArray(Z)?Qe=Z:(we=Z.create(m).injector,Qe=xr(we.get(ra,[],A.XFs.Self|A.XFs.Optional)));return{routes:Qe.map(ur),injector:we}}),un(()=>{this.childrenLoaders.delete(I)})),z=new Ke(P,()=>new U.x).pipe(Xe());return this.childrenLoaders.set(I,z),z}loadModuleFactoryOrRoutes(m){return ht(m()).pipe((0,Gt.z)(I=>I instanceof A.YKP||Array.isArray(I)?(0,ie.of)(I):(0,fe.D)(this.compiler.compileModuleAsync(I))))}}return v.\u0275fac=function(m){return new(m||v)(A.LFG(A.zs3),A.LFG(A.Sil))},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac}),v})();class ia{}class sa{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,m){return _}}function Ql(v){throw v}function Qu(v,_,m){return _.parse("/")}const Wc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function oa(){const v=(0,A.f3M)(yt),_=(0,A.f3M)(So),m=(0,A.f3M)(ye.Ye),I=(0,A.f3M)(A.zs3),b=(0,A.f3M)(A.Sil),P=(0,A.f3M)(ra,{optional:!0})??[],z=(0,A.f3M)(Ku,{optional:!0})??{},Z=(0,A.f3M)(ch),we=(0,A.f3M)(Yn,{optional:!0}),Qe=(0,A.f3M)(ia,{optional:!0}),Ht=(0,A.f3M)(qc,{optional:!0}),ct=new Ir(null,v,_,m,I,b,xr(P));return Qe&&(ct.urlHandlingStrategy=Qe),Ht&&(ct.routeReuseStrategy=Ht),ct.titleStrategy=we??Z,function dh(v,_){v.errorHandler&&(_.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(_.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(_.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(_.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(_.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(_.canceledNavigationResolution=v.canceledNavigationResolution)}(z,ct),ct}let Ir=(()=>{class v{constructor(m,I,b,P,z,Z,we){this.rootComponentType=m,this.urlSerializer=I,this.rootContexts=b,this.location=P,this.config=we,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new U.x,this.errorHandler=Ql,this.malformedUriErrorHandler=Qu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ie.of)(void 0),this.urlHandlingStrategy=new sa,this.routeReuseStrategy=new wu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=z.get(No),this.configLoader.onLoadEndListener=On=>this.triggerEvent(new To(On)),this.configLoader.onLoadStartListener=On=>this.triggerEvent(new no(On)),this.ngModule=z.get(A.h0i),this.console=z.get(A.c2e);const ct=z.get(A.R0b);this.isNgZoneEnabled=ct instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(we),this.currentUrlTree=function Zr(){return new O(new R([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=su(this.currentUrlTree,this.rootComponentType),this.transitions=new ne({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(m){const I=this.events;return m.pipe((0,Oe.h)(b=>0!==b.id),(0,_t.U)(b=>({...b,extractedUrl:this.urlHandlingStrategy.extract(b.rawUrl)})),le(b=>{let P=!1,z=!1;return(0,ie.of)(b).pipe((0,Kt.b)(Z=>{this.currentNavigation={id:Z.id,initialUrl:Z.rawUrl,extractedUrl:Z.extractedUrl,trigger:Z.source,extras:Z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),le(Z=>{const we=this.browserUrlTree.toString(),Qe=!this.navigated||Z.extractedUrl.toString()!==we||we!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Qe)&&this.urlHandlingStrategy.shouldProcessUrl(Z.rawUrl))return Yu(Z.source)&&(this.browserUrlTree=Z.extractedUrl),(0,ie.of)(Z).pipe(le(ct=>{const On=this.transitions.getValue();return I.next(new Br(ct.id,this.serializeUrl(ct.extractedUrl),ct.source,ct.restoredState)),On!==this.transitions.getValue()?Q.E:Promise.resolve(ct)}),function Bc(v,_,m,I){return le(b=>function Ip(v,_,m,I,b){return new Vc(v,_,m,I,b).apply()}(v,_,m,b.extractedUrl,I).pipe((0,_t.U)(P=>({...b,urlAfterRedirects:P}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kt.b)(ct=>{this.currentNavigation={...this.currentNavigation,finalUrl:ct.urlAfterRedirects},b.urlAfterRedirects=ct.urlAfterRedirects}),function ah(v,_,m,I,b,P){return(0,Gt.z)(z=>function jc(v,_,m,I,b,P,z="emptyOnly",Z="legacy"){return new ea(v,_,m,I,b,z,Z,P).recognize().pipe(le(we=>null===we?function oo(v){return new ge.y(_=>_.error(v))}(new yr):(0,ie.of)(we)))}(v,_,m,z.urlAfterRedirects,I.serialize(z.urlAfterRedirects),I,b,P).pipe((0,_t.U)(Z=>({...z,targetSnapshot:Z}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kt.b)(ct=>{if(b.targetSnapshot=ct.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!ct.extras.skipLocationChange){const $i=this.urlHandlingStrategy.merge(ct.urlAfterRedirects,ct.rawUrl);this.setBrowserUrl($i,ct)}this.browserUrlTree=ct.urlAfterRedirects}const On=new ai(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);I.next(On)}));if(Qe&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:On,extractedUrl:$i,source:bs,restoredState:Pa,extras:Rr}=Z,Du=new Br(On,this.serializeUrl($i),bs,Pa);I.next(Du);const bu=su($i,this.rootComponentType).snapshot;return b={...Z,targetSnapshot:bu,urlAfterRedirects:$i,extras:{...Rr,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(b)}return this.rawUrlTree=Z.rawUrl,Z.resolve(null),Q.E}),(0,Kt.b)(Z=>{const we=new nu(Z.id,this.serializeUrl(Z.extractedUrl),this.serializeUrl(Z.urlAfterRedirects),Z.targetSnapshot);this.triggerEvent(we)}),(0,_t.U)(Z=>b={...Z,guards:Aa(Z.targetSnapshot,Z.currentSnapshot,this.rootContexts)}),function Na(v,_){return(0,Gt.z)(m=>{const{targetSnapshot:I,currentSnapshot:b,guards:{canActivateChecks:P,canDeactivateChecks:z}}=m;return 0===z.length&&0===P.length?(0,ie.of)({...m,guardsResult:!0}):function Ra(v,_,m,I){return(0,fe.D)(v).pipe((0,Gt.z)(b=>function Kl(v,_,m,I,b){const P=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!P||0===P.length)return(0,ie.of)(!0);const z=P.map(Z=>{const we=Pe(Z,_,b);return ht(function Wl(v){return v&&Ma(v.canDeactivate)}(we)?we.canDeactivate(v,_,m,I):we(v,_,m,I)).pipe(gn())});return(0,ie.of)(z).pipe(vi())}(b.component,b.route,m,_,I)),gn(b=>!0!==b,!0))}(z,I,b,v).pipe((0,Gt.z)(Z=>Z&&function Ao(v){return"boolean"==typeof v}(Z)?function Vi(v,_,m,I){return(0,fe.D)(_).pipe((0,Fr.b)(b=>(0,Ve.z)(function ka(v,_){return null!==v&&_&&_(new ju(v)),(0,ie.of)(!0)}(b.route.parent,I),function _p(v,_){return null!==v&&_&&_(new $u(v)),(0,ie.of)(!0)}(b.route,I),function fu(v,_,m){const I=_[_.length-1],P=_.slice(0,_.length-1).reverse().map(z=>function mp(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(z)).filter(z=>null!==z).map(z=>bt(()=>{const Z=z.guards.map(we=>{const Qe=Pe(we,z.node,m);return ht(function ql(v){return v&&Ma(v.canActivateChild)}(Qe)?Qe.canActivateChild(I,v):Qe(I,v)).pipe(gn())});return(0,ie.of)(Z).pipe(vi())}));return(0,ie.of)(P).pipe(vi())}(v,b.path,m),function ih(v,_,m){const I=_.routeConfig?_.routeConfig.canActivate:null;if(!I||0===I.length)return(0,ie.of)(!0);const b=I.map(P=>bt(()=>{const z=Pe(P,_,m);return ht(function hu(v){return v&&Ma(v.canActivate)}(z)?z.canActivate(_,v):z(_,v)).pipe(gn())}));return(0,ie.of)(b).pipe(vi())}(v,b.route,m))),gn(b=>!0!==b,!0))}(I,P,v,_):(0,ie.of)(Z)),(0,_t.U)(Z=>({...m,guardsResult:Z})))})}(this.ngModule.injector,Z=>this.triggerEvent(Z)),(0,Kt.b)(Z=>{if(b.guardsResult=Z.guardsResult,zt(Z.guardsResult))throw Xr(0,Z.guardsResult);const we=new Hs(Z.id,this.serializeUrl(Z.extractedUrl),this.serializeUrl(Z.urlAfterRedirects),Z.targetSnapshot,!!Z.guardsResult);this.triggerEvent(we)}),(0,Oe.h)(Z=>!!Z.guardsResult||(this.restoreHistory(Z),this.cancelNavigationTransition(Z,"",3),!1)),vu(Z=>{if(Z.guards.canActivateChecks.length)return(0,ie.of)(Z).pipe((0,Kt.b)(we=>{const Qe=new ru(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(Qe)}),le(we=>{let Qe=!1;return(0,ie.of)(we).pipe(function _u(v,_){return(0,Gt.z)(m=>{const{targetSnapshot:I,guards:{canActivateChecks:b}}=m;if(!b.length)return(0,ie.of)(m);let P=0;return(0,fe.D)(b).pipe((0,Fr.b)(z=>function uh(v,_,m,I){const b=v.routeConfig,P=v._resolve;return void 0!==b?.title&&!Ts(b)&&(P[Gc]=b.title),function zc(v,_,m,I){const b=function ta(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===b.length)return(0,ie.of)({});const P={};return(0,fe.D)(b).pipe((0,Gt.z)(z=>function Tp(v,_,m,I){const b=Pe(v,_,I);return ht(b.resolve?b.resolve(_,m):b(_,m))}(v[z],_,m,I).pipe(gn(),(0,Kt.b)(Z=>{P[z]=Z}))),Jn(1),(0,mi.h)(P),Cn(z=>z instanceof We?Q.E:Ct(z)))}(P,v,_,I).pipe((0,_t.U)(z=>(v._resolvedData=z,v.data=ou(v,m).resolve,b&&Ts(b)&&(v.data[Gc]=b.title),null)))}(z.route,I,v,_)),(0,Kt.b)(()=>P++),Jn(1),(0,Gt.z)(z=>P===b.length?(0,ie.of)(m):Q.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kt.b)({next:()=>Qe=!0,complete:()=>{Qe||(this.restoreHistory(we),this.cancelNavigationTransition(we,"",2))}}))}),(0,Kt.b)(we=>{const Qe=new Mc(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(Qe)}))}),vu(Z=>{const we=Qe=>{const Ht=[];Qe.routeConfig?.loadComponent&&!Qe.routeConfig._loadedComponent&&Ht.push(this.configLoader.loadComponent(Qe.routeConfig).pipe((0,Kt.b)(ct=>{Qe.component=ct}),(0,_t.U)(()=>{})));for(const ct of Qe.children)Ht.push(...we(ct));return Ht};return et(we(Z.targetSnapshot.root)).pipe(Ut(),(0,wt.q)(1))}),vu(()=>this.afterPreactivation()),(0,_t.U)(Z=>{const we=function uu(v,_,m){const I=Qo(v,_._root,m?m._root:void 0);return new xa(I,_)}(this.routeReuseStrategy,Z.targetSnapshot,Z.currentRouterState);return b={...Z,targetRouterState:we}}),(0,Kt.b)(Z=>{this.currentUrlTree=Z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl),this.routerState=Z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Z),this.browserUrlTree=Z.urlAfterRedirects)}),((v,_,m)=>(0,_t.U)(I=>(new Sa(_,I.targetRouterState,I.currentRouterState,m).activate(v),I)))(this.rootContexts,this.routeReuseStrategy,Z=>this.triggerEvent(Z)),(0,Kt.b)({next(){P=!0},complete(){P=!0}}),un(()=>{P||z||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),Cn(Z=>{if(z=!0,Is(Z)){Fi(Z)||(this.navigated=!0,this.restoreHistory(b,!0));const we=new $s(b.id,this.serializeUrl(b.extractedUrl),Z.message,Z.cancellationCode);if(I.next(we),Fi(Z)){const Qe=this.urlHandlingStrategy.merge(Z.url,this.rawUrlTree),Ht={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yu(b.source)};this.scheduleNavigation(Qe,"imperative",null,Ht,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{this.restoreHistory(b,!0);const we=new jr(b.id,this.serializeUrl(b.extractedUrl),Z,b.targetSnapshot??void 0);I.next(we);try{b.resolve(this.errorHandler(Z))}catch(Qe){b.reject(Qe)}}return Q.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next({...this.transitions.value,...m})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const I="popstate"===m.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{const b={replaceUrl:!0},P=m.state?.navigationId?m.state:null;if(P){const Z={...P};delete Z.navigationId,delete Z.\u0275routerPageId,0!==Object.keys(Z).length&&(b.state=Z)}const z=this.parseUrl(m.url);this.scheduleNavigation(z,I,P,b)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){this.config=m.map(ur),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,I={}){const{relativeTo:b,queryParams:P,fragment:z,queryParamsHandling:Z,preserveFragment:we}=I,Qe=b||this.routerState.root,Ht=we?this.currentUrlTree.fragment:z;let ct=null;switch(Z){case"merge":ct={...this.currentUrlTree.queryParams,...P};break;case"preserve":ct=this.currentUrlTree.queryParams;break;default:ct=P||null}return null!==ct&&(ct=this.removeEmptyProps(ct)),gr(Qe,this.currentUrlTree,m,ct,Ht??null)}navigateByUrl(m,I={skipLocationChange:!1}){const b=zt(m)?m:this.parseUrl(m),P=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(P,"imperative",null,I)}navigate(m,I={skipLocationChange:!1}){return function Dp(v){for(let _=0;_<v.length;_++){if(null==v[_])throw new A.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,I),I)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let I;try{I=this.urlSerializer.parse(m)}catch(b){I=this.malformedUriErrorHandler(b,this.urlSerializer,m)}return I}isActive(m,I){let b;if(b=!0===I?{...Wc}:!1===I?{...Iu}:I,zt(m))return An(this.currentUrlTree,m,b);const P=this.parseUrl(m);return An(this.currentUrlTree,P,b)}removeEmptyProps(m){return Object.keys(m).reduce((I,b)=>{const P=m[b];return null!=P&&(I[b]=P),I},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new ws(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,I,b,P,z){if(this.disposed)return Promise.resolve(!1);let Z,we,Qe;z?(Z=z.resolve,we=z.reject,Qe=z.promise):Qe=new Promise((On,$i)=>{Z=On,we=$i});const Ht=++this.navigationId;let ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(b=this.location.getState()),ct=b&&b.\u0275routerPageId?b.\u0275routerPageId:P.replaceUrl||P.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):ct=0,this.setTransition({id:Ht,targetPageId:ct,source:I,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:P,resolve:Z,reject:we,promise:Qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qe.catch(On=>Promise.reject(On))}setBrowserUrl(m,I){const b=this.urlSerializer.serialize(m),P={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.isCurrentPathEqualTo(b)||I.extras.replaceUrl?this.location.replaceState(b,"",P):this.location.go(b,"",P)}restoreHistory(m,I=!1){if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===b?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===b&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,I,b){const P=new $s(m.id,this.serializeUrl(m.extractedUrl),I,b);this.triggerEvent(P),m.resolve(!1)}generateNgRouterState(m,I){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:I}:{navigationId:m}}}return v.\u0275fac=function(m){A.$Z()},v.\u0275prov=A.Yz7({token:v,factory:function(){return oa()},providedIn:"root"}),v})();function Yu(v){return"imperative"!==v}let Kc=(()=>{class v{constructor(m,I,b,P,z){this.router=m,this.route=I,this.tabIndexAttribute=b,this.renderer=P,this.el=z,this.commands=null,this.onChanges=new U.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){if(null!=this.tabIndexAttribute)return;const I=this.renderer,b=this.el.nativeElement;null!==m?I.setAttribute(b,"tabindex",m):I.removeAttribute(b,"tabindex")}ngOnChanges(m){this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const m={skipLocationChange:(0,A.D6c)(this.skipLocationChange),replaceUrl:(0,A.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,A.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(m){return new(m||v)(A.Y36(Ir),A.Y36(Jr),A.$8M("tabindex"),A.Y36(A.Qsj),A.Y36(A.SBq))},v.\u0275dir=A.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,I){1&m&&A.NdJ("click",function(){return I.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[A.TTD]}),v})(),Hr=(()=>{class v{constructor(m,I,b){this.router=m,this.route=I,this.locationStrategy=b,this.commands=null,this.href=null,this.onChanges=new U.x,this.subscription=m.events.subscribe(P=>{P instanceof ws&&this.updateTargetUrlAndHref()})}set routerLink(m){this.commands=null!=m?Array.isArray(m)?m:[m]:null}ngOnChanges(m){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(m,I,b,P,z){if(0!==m||I||b||P||z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Z={skipLocationChange:(0,A.D6c)(this.skipLocationChange),replaceUrl:(0,A.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Z),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,A.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(m){return new(m||v)(A.Y36(Ir),A.Y36(Jr),A.Y36(ye.S$))},v.\u0275dir=A.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(m,I){1&m&&A.NdJ("click",function(P){return I.onClick(P.button,P.ctrlKey,P.shiftKey,P.altKey,P.metaKey)}),2&m&&A.uIk("target",I.target)("href",I.href,A.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[A.TTD]}),v})(),Qc=(()=>{class v{constructor(m,I,b,P,z,Z){this.router=m,this.element=I,this.renderer=b,this.cdr=P,this.link=z,this.linkWithHref=Z,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new A.vpe,this.routerEventsSubscription=m.events.subscribe(we=>{we instanceof ws&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,this.linksWithHrefs.changes,(0,ie.of)(null)).pipe((0,Dn.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(I=>!!I).map(I=>I.onChanges);this.linkInputChangesSubscription=(0,fe.D)(m).pipe((0,Dn.J)()).subscribe(I=>{this.isActive!==this.isLinkActive(this.router)(I)&&this.update()})}set routerLinkActive(m){const I=Array.isArray(m)?m:m.split(" ");this.classes=I.filter(b=>!!b)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this.isActive!==m&&(this.isActive=m,this.cdr.markForCheck(),this.classes.forEach(I=>{m?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const I=function Yc(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return b=>!!b.urlTree&&m.isActive(b.urlTree,I)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.linkWithHref&&m(this.linkWithHref)||this.links.some(m)||this.linksWithHrefs.some(m)}}return v.\u0275fac=function(m){return new(m||v)(A.Y36(Ir),A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(A.sBO),A.Y36(Kc,8),A.Y36(Hr,8))},v.\u0275dir=A.lG2({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(m,I,b){if(1&m&&(A.Suo(b,Kc,5),A.Suo(b,Hr,5)),2&m){let P;A.iGM(P=A.CRH())&&(I.links=P),A.iGM(P=A.CRH())&&(I.linksWithHrefs=P)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[A.TTD]}),v})();class aa{}let Bi=(()=>{class v{constructor(m,I,b,P,z){this.router=m,this.injector=b,this.preloadingStrategy=P,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oe.h)(m=>m instanceof ws),(0,Fr.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,I){const b=[];for(const P of I){P.providers&&!P._injector&&(P._injector=(0,A.MMx)(P.providers,m,`Route: ${P.path}`));const z=P._injector??m,Z=P._loadedInjector??z;P.loadChildren&&!P._loadedRoutes&&void 0===P.canLoad||P.loadComponent&&!P._loadedComponent?b.push(this.preloadConfig(z,P)):(P.children||P._loadedRoutes)&&b.push(this.processRoutes(Z,P.children??P._loadedRoutes))}return(0,fe.D)(b).pipe((0,Dn.J)())}preloadConfig(m,I){return this.preloadingStrategy.preload(I,()=>{let b;b=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(m,I):(0,ie.of)(null);const P=b.pipe((0,Gt.z)(z=>null===z?(0,ie.of)(void 0):(I._loadedRoutes=z.routes,I._loadedInjector=z.injector,this.processRoutes(z.injector??m,z.routes))));if(I.loadComponent&&!I._loadedComponent){const z=this.loader.loadComponent(I);return(0,fe.D)([P,z]).pipe((0,Dn.J)())}return P})}}return v.\u0275fac=function(m){return new(m||v)(A.LFG(Ir),A.LFG(A.Sil),A.LFG(A.lqb),A.LFG(aa),A.LFG(No))},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac}),v})();const uo=new A.OlP("");let Eu=(()=>{class v{constructor(m,I,b={}){this.router=m,this.viewportScroller=I,this.options=b,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},b.scrollPositionRestoration=b.scrollPositionRestoration||"disabled",b.anchorScrolling=b.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof ws&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof iu&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,I){this.router.triggerEvent(new iu(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(m){A.$Z()},v.\u0275prov=A.Yz7({token:v,factory:v.\u0275fac}),v})();const Jc=new A.OlP("ROUTER_FORROOT_GUARD"),ua=new A.OlP(""),bp=[ye.Ye,{provide:yt,useClass:Nt},{provide:Ir,useFactory:oa},So,{provide:Jr,useFactory:function Tu(v){return v.routerState.root},deps:[Ir]},No];function Kn(){return new A.PXZ("Router",Ir)}let Ty=(()=>{class v{constructor(m){}static forRoot(m,I){return{ngModule:v,providers:[bp,[],xp(m),{provide:Jc,useFactory:hh,deps:[[Ir,new A.FiY,new A.tp0]]},{provide:Ku,useValue:I||{}},I?.useHash?{provide:ye.S$,useClass:ye.Do}:{provide:ye.S$,useClass:ye.b0},{provide:uo,useFactory:()=>{const v=(0,A.f3M)(Ir),_=(0,A.f3M)(ye.EM),m=(0,A.f3M)(Ku);return m.scrollOffset&&_.setOffset(m.scrollOffset),new Eu(v,_,m)}},I?.preloadingStrategy?ci(I.preloadingStrategy):[],{provide:A.PXZ,multi:!0,useFactory:Kn},I?.initialNavigation?Zl(I):[],[{provide:ca,useFactory:Cp},{provide:A.tb,multi:!0,useExisting:ca}]]}}static forChild(m){return{ngModule:v,providers:[xp(m)]}}}return v.\u0275fac=function(m){return new(m||v)(A.LFG(Jc,8))},v.\u0275mod=A.oAB({type:v}),v.\u0275inj=A.cJS({}),v})();function hh(v){return"guarded"}function xp(v){return[{provide:ra,multi:!0,useValue:v}]}function Cp(){const v=(0,A.f3M)(A.zs3);return _=>{const m=v.get(A.z2F);if(_!==m.components[0])return;const I=v.get(Ir),b=v.get(dr);1===v.get(co)&&I.initialNavigation(),v.get(ua,null,A.XFs.Optional)?.setUpPreloading(),v.get(uo,null,A.XFs.Optional)?.init(),I.resetRootComponentType(m.componentTypes[0]),b.next(),b.complete()}}const ca=new A.OlP("");function Zl(v){return["disabled"===v.initialNavigation?[{provide:A.ip1,multi:!0,useFactory:()=>{const v=(0,A.f3M)(Ir);return()=>{v.setUpLocationChangeListener()}}},{provide:co,useValue:2}]:[],"enabledBlocking"===v.initialNavigation?[{provide:co,useValue:0},{provide:A.ip1,multi:!0,deps:[A.zs3],useFactory:v=>{const _=v.get(ye.V_,Promise.resolve(null));let m=!1;return()=>_.then(()=>new Promise(b=>{const P=v.get(Ir),z=v.get(dr);(function I(b){v.get(Ir).events.pipe((0,Oe.h)(z=>z instanceof ws||z instanceof $s||z instanceof jr),(0,_t.U)(z=>z instanceof ws||z instanceof $s&&(0===z.code||1===z.code)&&null),(0,Oe.h)(z=>null!==z),(0,wt.q)(1)).subscribe(()=>{b()})})(()=>{b(!0),m=!0}),P.afterPreactivation=()=>(b(!0),m||z.closed?(0,ie.of)(void 0):z),P.initialNavigation()}))}}]:[]]}const dr=new A.OlP("",{factory:()=>new U.x}),co=new A.OlP("",{providedIn:"root",factory:()=>1});function ci(v){return[Bi,{provide:ua,useExisting:Bi},{provide:aa,useExisting:v}]}},5861:(Et,Ne,j)=>{function A(ne,ge,$,fe,ve,Se,Te){try{var re=ne[Se](Te),J=re.value}catch(De){return void $(De)}re.done?ge(J):Promise.resolve(J).then(fe,ve)}function U(ne){return function(){var ge=this,$=arguments;return new Promise(function(fe,ve){var Se=ne.apply(ge,$);function Te(J){A(Se,fe,ve,Te,re,"next",J)}function re(J){A(Se,fe,ve,Te,re,"throw",J)}Te(void 0)})}}j.d(Ne,{Z:()=>U})}},Et=>{Et(Et.s=4049)}]);